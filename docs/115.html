<html>
<head>
<title>Installing TensorFlow 2 GPU [Step-by-Step Guide] </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>安装tensor flow 2 GPU[分步指南]</h1>
<blockquote>原文：<a href="https://web.archive.org/web/https://neptune.ai/blog/installing-tensorflow-2-gpu-guide#0001-01-01">https://web.archive.org/web/https://neptune.ai/blog/installing-tensorflow-2-gpu-guide#0001-01-01</a></blockquote><div><div class="l-content content-wrapper js-content">
            
<p><a href="https://web.archive.org/web/20230307230509/https://www.tensorflow.org/" target="_blank" rel="noreferrer noopener nofollow"> Tensorflow </a>是最常用的深度学习框架之一。它可以说是网络上最受欢迎的机器学习平台，拥有广泛的用户，从刚刚起步的人到寻求职业和业务优势的人。</p>



<p>并不是所有用户都知道，如果你的硬件支持的话，可以安装TensorFlow GPU。我们将讨论什么是Tensorflow，它在当今世界的使用情况，以及如何在Windows、Mac和Linux中安装支持CUDA、cudNN和GPU的最新TensorFlow版本。</p>



<h2 id="h-introduction-to-tensorflow">张量流简介</h2>



<p>TensorFlow是一个用于机器学习的开源软件库，由Google创建。它最初于2015年11月28日发布，现在被用于许多领域，包括科学和工程研究。</p>



<p>TensorFlow背后的想法是让训练使用各种数学模型的深度神经网络变得快速简单。这些网络能够在没有人工干预或监督的情况下从数据中学习，这使它们比传统方法更有效。该库还支持在使用不同操作系统和GPU的多台机器上同时进行处理。</p>







<h2 id="h-tensorflow-applications">TensorFlow应用</h2>



<p>TensorFlow是谷歌建立的深度学习库，自去年年初推出以来，它已经获得了很多关注。主要功能包括自动微分、卷积神经网络(CNN)和递归神经网络(RNN)。它是用C++和Python编写的，为了获得高性能，它使用了一个运行在谷歌云平台上的名为“云张量流”的服务器。它不需要GPU，这是它的主要特点之一。</p>



<p>Tensorflow的最新版本也支持通过matplotlib进行数据可视化。这个可视化库非常受欢迎，它经常在数据科学课程中使用，也经常被艺术家和工程师使用MATLAB或Python / R /等进行数据可视化。</p>



<h2 id="h-installing-the-latest-tensorflow-version-with-cuda-cudnn-and-gpu-support">安装支持CUDA、cudNN和GPU的最新TensorFlow版本</h2>



<p>让我们看看如何在Windows、macOS和Linux上安装最新的TensorFlow版本。</p>



<h2 id="windows">Windows操作系统</h2>



<h3 id="windows-prerequisite">先决条件</h3>







<h3 id="windows-steps">步伐</h3>



<p><strong> 1)从:</strong>下载Microsoft Visual Studio</p>



<p><a href="https://web.archive.org/web/20230307230509/https://visualstudio.microsoft.com/vs..." target="_blank" rel="noreferrer noopener nofollow">https://visualstudio.microsoft.com/vs…</a></p>



<p><strong> 2)安装NVIDIA CUDA工具包</strong>(【https://developer.nvidia.com/cuda-too…】T2)，检查软件和硬件版本要求，我们将使用:</p>



<figure class="wp-block-table"><table><tbody><tr><td><strong>版本</strong></td><td><strong> Python版本</strong></td><td><strong>编译器</strong></td><td><strong>构建工具</strong></td><td><strong> cuDNN </strong></td><td><strong> CUDA </strong></td></tr><tr><td>tensorflow-2.5.0</td><td>3.6-3.9</td><td>GCC 7.3.1版</td><td>巴塞尔协议3.7.2</td><td>八点一</td><td>11.2版</td></tr></tbody></table></figure>



<p>我们将安装CUDA版本11.2，但请确保您安装了最新或更新的版本(例如–11 . 2 . 2，如果可用的话)。</p>



<figure class="wp-block-image"><img decoding="async" src="../Images/3078e2c3d5f153b8c17f6a50bed01cc2.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh4.googleusercontent.com/Lc94PmviEy_ZmZFmq9zG5twZnfqo7GW_OT6XgxZwqlOhxX2RnnyvB_Y1r3TMtezAyhom2I6xnQ8ftd9gBCRMVlxFiwmySfAWiBxdH9idnMT1ChZwvWp3P5yq48HgXbpqXAPvN9q2"/></figure>



<p>点击最新版本，会弹出一个屏幕，你可以从几个选项中选择，所以按照下面的图片，为Windows选择这些选项。</p>



<figure class="wp-block-image"><img decoding="async" src="../Images/a1c4b876ec30fedaa08daf244168c121.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh4.googleusercontent.com/-1_DvULqjjpXaf7u8tmcg3U9ilOqDcjJZlfbN_zdJVrGSChmrzjVQ0pE9R8k0TMttvKQPIOtKmszHum_g2fp0F9ukqhawj74FFse4psokNfINEPmnpNIYchflxg0pcIBTYPvc7Fu"/></figure>



<p>选择以上选项后，等待下载完成。</p>



<figure class="wp-block-image"><img decoding="async" src="../Images/6ec8ed2e4a62237012ac50023e694e62.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh5.googleusercontent.com/srgkOmy_Daetq4u2i6cv7ai9cXRRUrIIj0jwekTwrooc7Ocvd2440Es2TZoiLkexv_svhWFuNzMPJNLt7kp5OjSYZE6QQPm3xAS1jqyNP2KUcNWH6dX_hqiS_XhRmzig2UVvx05q"/></figure>



<p>使用快速(推荐)选项安装它，在您的机器上安装需要一段时间。</p>



<p>3) <strong>现在我们来下载NVIDIA cuDNN，</strong><a href="https://web.archive.org/web/20230307230509/https://developer.nvidia.com/cudnn" target="_blank" rel="noreferrer noopener nofollow"><strong/></a></p>



<p>从TensorFlow网站查看版本代码。</p>



<figure class="wp-block-image"><img decoding="async" src="../Images/e37774542ed9344445078ceef52be497.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh4.googleusercontent.com/KdXymqZ1qbdLdeffTMuA0dGKe1advApWeFI8w6LacW0CnT5LLDdkrqTkZRoxYjLlziKMtfj5E-2n-uyq_IQBClA_sU78RFc-FFEucmTMJJ7cD3I_tChcWUHWDej_8U5WymXnvPPb"/></figure>



<p>现在，检查CUDA和cuDNN的版本，并为您的操作系统单击download。如果你找不到你想要的版本，点击cuDNN存档并从那里下载。</p>



<p>下载完成后，解压文件。</p>



<figure class="wp-block-image"><img decoding="async" src="../Images/a47897d68d06fd1b4a29634bd90e5685.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh3.googleusercontent.com/YW_n03u04aJeTlg1BlO0faCKBzBk8ojV0ORfvdvxVqdwg-MCWAb4vi1ffqmtxsX1_X75L3i4gKzRhdFL1iMVt76f9UFUS5vgpLwpPtc8vb_jGlFRp16jHy6N7-4Ds-X7tQs9dQkq"/></figure>



<p>现在，复制这三个文件夹(bin，include，lib)。进入c盘&gt;程序文件，搜索NVIDIA GPU计算工具包。</p>



<figure class="wp-block-image"><img decoding="async" src="../Images/fa6ddfaf816ad4f74d4f7fb18d14f3f4.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh6.googleusercontent.com/4pvy6BMBngeXRiCxy8_4gpQI0oiS2qNLYFVTMI-3WqHrBehCLaY0pzrLSjeJ0Cr6GS8BGHlA0M18hQjjScgCZE51cClXryc9O-cG8AzXw8MZ9Xb3WbOf4JD147kLwqCd2QD2NUCw"/></figure>



<p>打开文件夹，选择CUDA &gt;版本名称，替换(粘贴)那些复制的文件。</p>



<p>现在点击bin文件夹并复制路径。应该是这样的:<strong> C:程序文件NVIDIA GPU计算工具kitCUDAv11.2bin. </strong></p>



<p>在您的PC上，搜索环境变量，如下所示。</p>



<figure class="wp-block-image"><img decoding="async" src="../Images/9fde5c7657c7833060b5717a12bcad47.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh5.googleusercontent.com/TqlCR7R0RaEbtLMpXMcYxPOm9Nq7t-6_zT0TT8EInZuIMkuDKq9E1BBBJNfOQ50hIe7cBm67zpj-NLbhUfFl673byLRFJb3SErxI4bS8Rvq4vNt1_ERpG-XklaVicXUPGMJhx7QX"/></figure>



<p>点击左下方的<strong>环境变量</strong>。现在点击表示<strong>路径</strong>的链接。</p>



<figure class="wp-block-image"><img decoding="async" src="../Images/7aba1214459df53c9af22d6a8f9a1434.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh6.googleusercontent.com/yXxfOe2zKYLlRhsbLt8S9eifhT0zm7e5wOaa0lJ52ngvL73wZsTGRa9hKaA0jwGcivo-jwM-hJm9GV2v4RLnWO45-BBf9QIu1aCd3rONKGtUNqL88ZdVjDS5xbFnpz1mHMAFQ9pO"/></figure>



<p>一旦你点击路径，你会看到这样的东西。</p>



<figure class="wp-block-image"><img decoding="async" src="../Images/86f65454c9e1dd015a7b781965a05180.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh5.googleusercontent.com/xJGHAF5iSNHHnA_z8dq--7DZ_gEP07q_fAeWeD5ceVFvmkaCsviG6ask6c8L4Cfiq8KyPMeESGbvQ035foRUWOR7MUkb2CBfxs4JmgbQQcoERWZmHh1A5mQNOcaz2sslc9r3bIy8"/></figure>



<p>现在点击<strong>新建(左上)，并将bin路径粘贴到这里。转到CUDA文件夹，选择libnvvm文件夹，并复制其路径。</strong>遵循相同的过程，将该路径粘贴到系统路径中。接下来，只要重启你的电脑。</p>



<p>4) <strong>安装张量流</strong></p>



<p>打开conda提示符。如果没有安装，在这里得到它→<a href="https://web.archive.org/web/20230307230509/https://www.anaconda.com/products/individual" target="_blank" rel="noreferrer noopener nofollow">https://www.anaconda.com/products/individual</a>。</p>



<p>现在复制下面的命令并粘贴到提示符中(检查版本)。</p>



<pre class="hljs">conda create --name tf2<span class="hljs-number">.5</span> python==<span class="hljs-number">3.8</span></pre>



<pre class="hljs">conda activate tf2<span class="hljs-number">.5</span> (version)</pre>



<pre class="hljs">pip install tensorflow (With GPU Support) //Install TensorFlow GPU command, pip install --upgrade tensorflow-gpu</pre>



<figure class="wp-block-image"><img decoding="async" src="../Images/9716374dba82552f4ec258dc50e21e17.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh4.googleusercontent.com/jfPTey1Ct5Vha0ZW4rhtZki98j4aWY0YxIcnxgh7Q_7q0-RNWPhXLI59uj3uMrgRHxjysRvtE4NihLg-NClOEbMeHQ7B4UHcYrgNOSncXaQjrwm8-vN6s8qtWdBrPo-cp2yXE44s"/></figure>



<p>您将会看到这样的安装屏幕。如果您看到任何错误，请确保您使用的是正确的版本，不要错过任何步骤。</p>



<p>我们已经安装了所有的东西，所以让我们在Pycharm中测试一下。</p>



<h3 id="windows-test">试验</h3>



<p>为了测试整个过程，我们将使用Pycharm。如果没有安装，获取社区版→<a href="https://web.archive.org/web/20230307230509/https://www.jetbrains.com/pycharm/download/#section=windows" target="_blank" rel="noreferrer noopener nofollow">https://www.jetbrains.com/pycharm/download/#section=windows</a>。</p>



<p>首先，要检查TensorFlow GPU是否已正确安装在您的计算机上，请运行以下代码:</p>



<pre class="hljs">
<span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf
tf.test.is_built_with_cuda()
tf.test.is_gpu_available(cuda_only=<span class="hljs-keyword">False</span>, min_cuda_compute_capability=<span class="hljs-keyword">None</span>)</pre>



<p>它应该显示为TRUE作为输出。如果是假的或者有什么错误，看步骤。</p>



<p>现在让我们运行一些代码。</p>



<p>对于一个简单的演示，我们在手写数字的MNIST数据集上训练它。我们将了解如何创建网络以及初始化损失函数、检查准确性等等。</p>



<figure class="wp-block-image"><img decoding="async" src="../Images/8bda21eeed25e24dae0106cf65fa8ea1.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh6.googleusercontent.com/fTn5wLS-ulnc_0D9-st6GB1QWo66cLuzgGUpU1LKfUzUjrqOvGo25vcZN0Adx7e5PONBcU6vsPxh1YCVoke51-lGG3nRK5JCT0zuto3gvmQjcZzfv_dQ3OjdrpJuQsixuqZbokt6"/></figure>



<p>配置env，创建一个新的Python文件，并粘贴以下代码:</p>



<pre class="hljs">
<span class="hljs-keyword">import</span> torch
<span class="hljs-keyword">import</span> torchvision
<span class="hljs-keyword">import</span> torch.nn.functional <span class="hljs-keyword">as</span> F
<span class="hljs-keyword">import</span> torchvision.datasets <span class="hljs-keyword">as</span> datasets
<span class="hljs-keyword">import</span> torchvision.transforms <span class="hljs-keyword">as</span> transforms
<span class="hljs-keyword">from</span> torch <span class="hljs-keyword">import</span> optim
<span class="hljs-keyword">from</span> torch <span class="hljs-keyword">import</span> nn
<span class="hljs-keyword">from</span> torch.utils.data <span class="hljs-keyword">import</span> DataLoader
<span class="hljs-keyword">from</span> tqdm <span class="hljs-keyword">import</span> tqdm</pre>



<p>这里查看其余代码--&gt;<a href="https://web.archive.org/web/20230307230509/https://github.com/aladdinpersson/Machine-Learning-Collection/blob/master/ML/Pytorch/Basics/pytorch_simple_CNN.py" target="_blank" rel="noreferrer noopener nofollow">https://github . com/aladdinpersson/Machine-Learning-Collection/blob/master/ML/py torch/Basics/py torch _ simple _ CNN . py</a>。</p>



<p>运行代码时，寻找<strong> <em>成功打开cuda(versioncode)。</em>T3】</strong></p>



<figure class="wp-block-image"><img decoding="async" src="../Images/3b8a81dc4212e71e31254d785636af66.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh5.googleusercontent.com/B0g6p-YzPq46AQz_i4Qv8m0RW_HLR23Way7E1pv35oxEmCoNEzCHYpDlsavLfFy_98SxPxN2BGCmlLY25CjIPvyzszUFTKAW3ebduck5oayA-3IxhFEe2hIN5VxVZasBO0nyKnCx"/></figure>



<p>一旦训练开始，所有的步骤都成功了！</p>



<h2 id="macos">马科斯</h2>



<p>MacOS不支持最新版本的Nvidia GPU，所以这将是一个纯CPU安装。通过一些额外的努力和要求，你可以在Mac上获得GPU支持。</p>



<h3 id="macos-prerequisite">先决条件</h3>







<figure class="wp-block-image"><img decoding="async" src="../Images/26a0cf7a671dc24c638538b22416e3af.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh4.googleusercontent.com/AViOLwzaviQH94Lh9cvF8o2hMYQwog5PzRbV2ONMUpClYcfRj8aqELC2OBzr-TLTRWYOxBYNSg135XRlZWXCmSZ8XSqPjWGkMLIvVbhzKRwYB8Ow-L_4WluohqMCu_WEvkdoiy43"/></figure>



<p>您可以安装网站上的最新版本，但是对于本教程，我们将使用Python 3.8。此外，请访问TensorFlow网站了解版本支持。</p>



<figure class="wp-block-image"><img decoding="async" src="../Images/d1fbdcb93ca247763edbe036c4d70cb3.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh6.googleusercontent.com/Fqdh_s7tF0Tud1W46YE99nzQD_CSFZUCWichHD47U-zA9xpoXoGUCR848gmvqqpwtfXwzIKdcvqx6COzP_qdhx7yFe9eJJI3LPW3XeOu7ZydeBmNNgtd4WeCUTjfgxu1B4x9pKBj"/></figure>



<p><strong> 2)准备环境:</strong></p>



<p>安装Miniconda后，打开命令提示符。</p>



<pre class="hljs">conda install -y jupyter</pre>



<figure class="wp-block-image"><img decoding="async" src="../Images/14e2addf6a8bbb6f117b6ab969fc3315.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh3.googleusercontent.com/MHx1ug4oXcIZpItI8rSSoJHQgy1D407Lk85cxr2fG98Q9A71PkSc9C6d-mEyC0yRvPpKyj6YwmJaYMo4Yz0rNtBWC-GTAE2F0Yx04cdVVLILsEGyqsXvr8g2PMwDzSCBkWu11Rmg"/></figure>



<p>安装jupyter需要一些时间。接下来，安装Mac <a href="https://web.archive.org/web/20230307230509/https://raw.githubusercontent.com/jeffheaton/t81_558_deep_learning/master/tensorflow.yml" target="_blank" rel="noreferrer noopener nofollow"> tensorflow.yml </a>文件。还可以创建一个. yml文件来安装TensorFlow和依赖项(下面会提到)。</p>



<pre class="hljs">dependencies:
    - python=<span class="hljs-number">3.8</span>
    - pip&gt;=<span class="hljs-number">19.0</span>
    - jupyter
    - scikit-learn
    - scipy
    - pandas
    - pandas-datareader
    - matplotlib
    - pillow
    - tqdm
    - requests
    - h5py
    - pyyaml
    - flask
    - boto3
    - pip:
        - tensorflow==<span class="hljs-number">2.4</span>
        - bayesian-optimization
        - gym
        - kaggle</pre>



<p>从包含<strong> tensorflow.yml </strong>的同一目录中运行以下命令。</p>



<pre class="hljs">conda env create -f tensorflow.yml -n tensorflow</pre>



<p>此安装可能需要几分钟时间。</p>



<p>使用以下命令激活环境:</p>



<pre class="hljs">python -m ipykernel install --user --name tensorflow --display-name <span class="hljs-string">"Python 3.8 (tensorflow)"</span></pre>



<h3 id="macos-test">试验</h3>



<p>为了测试整个过程，我们将使用Jupyter笔记本。使用以下命令启动Jupyter:</p>



<pre class="hljs">jupyter notebook</pre>



<p>复制下面的代码并在jupyter笔记本上运行。</p>



<pre class="hljs"><span class="hljs-keyword">import</span> sys

<span class="hljs-keyword">import</span> tensorflow.keras
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> sklearn <span class="hljs-keyword">as</span> sk
<span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf

print(f<span class="hljs-string">"Tensor Flow Version: {tf.__version__}"</span>)
print(f<span class="hljs-string">"Keras Version: {tensorflow.keras.__version__}"</span>)
print()
print(f<span class="hljs-string">"Python {sys.version}"</span>)
print(f<span class="hljs-string">"Pandas {pd.__version__}"</span>)
print(f<span class="hljs-string">"Scikit-Learn {sk.__version__}"</span>)
gpu = len(tf.config.list_physical_devices(<span class="hljs-string">'GPU'</span>))&gt;<span class="hljs-number">0</span>
print(<span class="hljs-string">"GPU is"</span>, <span class="hljs-string">"available"</span> <span class="hljs-keyword">if</span> gpu <span class="hljs-keyword">else</span> <span class="hljs-string">"NOT AVAILABLE"</span>)</pre>



<p>这可能需要一些时间，但是您会在您安装的版本中看到类似这样的内容。</p>



<figure class="wp-block-image"><img decoding="async" src="../Images/9c550c901e9a4b23e56adebbd627d3c0.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh4.googleusercontent.com/cFekULOhmI3Hm8jSR5T55Hlvs3xdXmBEF6umtMjuClfOHrofLAGj5fDjPyRlagcmtx4O4JnyeWh-lzoUhTVTl_nyMQxcxhiTS6nmnbkda2ZxjeiUgs8mG6208THaWAEFZkv6m4nq"/></figure>



<h2 id="linux">Linux操作系统</h2>



<p>我们可以在Linux上安装CPU和GPU两个版本。</p>



<h3 id="linux-prerequisite">先决条件</h3>







<h3 id="linux-steps">步伐</h3>



<p><strong> 1)首先从</strong><a href="https://web.archive.org/web/20230307230509/https://docs.conda.io/en/latest/miniconda.html" target="_blank" rel="noreferrer noopener nofollow"><strong>【https://docs.conda.io/en/latest/miniconda.html】</strong></a>下载并安装Miniconda</p>



<figure class="wp-block-image"><img decoding="async" src="../Images/60c070e829f435db725c9955fb70d3f8.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh4.googleusercontent.com/goa8J1gGzyetqQewVCQyqx6_upnmzKBCbCqyHvl1EFFaNY5Ansd5hprtymU-O2EUjGh3qDetFw7E3rGefD8GEPteQsN7co17Qivl_-jjZK957_MtxM89hn4a0B4FAS-2g6OkkdHa"/></figure>



<p>要在您的机器上安装CUDA，您需要:</p>







<figure class="wp-block-image"><img decoding="async" src="../Images/668d22e888f602e836a0e3d52921b48d.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh5.googleusercontent.com/QSSwEB00RYx2YApe7xmQ9S1ssRPbYc9unMRALj-kTwFB8BYH0VLExNN1EenRxHS8Qp70Xzpmsuja_gv3wjnaqnuRq5VM9lgNkaWkwFSy2Z4qmGdLAYJCme0PfuOu1oxJNqERwHpI"/></figure>



<p>您可以通过运行以下命令安装CUDA，</p>



<pre class="hljs">$ sudo apt install nvidia-cuda-toolkit</pre>



<p>安装CUDA后，运行以验证安装:</p>



<pre class="hljs">nvcc -V</pre>



<p>您将看到它的输出如下所示:</p>



<pre class="hljs">nvcc: NVIDIA (R) Cuda compiler driver
Copyright (c) <span class="hljs-number">2005</span><span class="hljs-number">-2021</span> NVIDIA Corporation
Built on Sun_Jul_22_21:<span class="hljs-number">07</span>:<span class="hljs-number">16</span>_PDT_2019
Cuda compilation tools, release ‘version’
</pre>



<p>3) <strong>现在我们来下载NVIDIA cuDNN，</strong><a href="https://web.archive.org/web/20230307230509/https://developer.nvidia.com/rdp/form/cudnn-download-survey" target="_blank" rel="noreferrer noopener nofollow"><strong/></a></p>



<p>从TensorFlow网站查看版本代码。<img decoding="async" loading="lazy" src="../Images/e37774542ed9344445078ceef52be497.png" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh4.googleusercontent.com/KdXymqZ1qbdLdeffTMuA0dGKe1advApWeFI8w6LacW0CnT5LLDdkrqTkZRoxYjLlziKMtfj5E-2n-uyq_IQBClA_sU78RFc-FFEucmTMJJ7cD3I_tChcWUHWDej_8U5WymXnvPPb"/></p>



<p>下载后，解压缩文件:</p>



<pre class="hljs">tar -xvzf cudnn<span class="hljs-number">-10.1</span>-linux-x64-<span class="hljs-string">'version'</span>.tgz</pre>



<p>现在，我们将把提取的文件复制到CUDA安装路径:</p>



<pre class="hljs">sudo cp cuda/include/cudnn.h /usr/lib/cuda/include/
sudo cp cuda/lib64/libcudnn* /usr/lib/cuda/lib64/</pre>



<p>设置cuDNN的文件权限:</p>



<pre class="hljs">$ sudo chmod a+r /usr/lib/cuda/include/cudnn.h /usr/lib/cuda/lib64/libcudnn*</pre>



<p><strong> 4)准备好环境:</strong></p>



<p>导出CUDA环境变量。要设置它们，请运行:</p>



<pre class="hljs">$ echo <span class="hljs-string">'export LD_LIBRARY_PATH=/usr/lib/cuda/lib64:$LD_LIBRARY_PATH'</span> &gt;&gt; ~/.bashrc
$ echo <span class="hljs-string">'export LD_LIBRARY_PATH=/usr/lib/cuda/include:$LD_LIBRARY_PATH'</span> &gt;&gt; ~/.bashrc</pre>



<p>也可以用康达和jupyter笔记本设置环境。</p>



<p>安装Miniconda后，打开命令提示符。</p>



<pre class="hljs">conda install -y jupyter</pre>



<figure class="wp-block-image"><img decoding="async" src="../Images/1da8c24ed37659fa3642dec322c522af.png" alt="" data-original-src="https://web.archive.org/web/20230307230509im_/https://lh6.googleusercontent.com/u5YByhGCbeRE8n2z_5pzb-zHWI13e0Hadl3IBIK1EIY-yv-iIzE6lFsPvvMmT0Vh6lMLDpq3xLVqIEfsBr2IggJUHS3o1TQBs9B1HnzEDjT2PJOXuIAfdPyIneq3Yrnc0BCr_cDS"/></figure>



<p>现在，检查TensorFlow站点的版本，并运行以下命令:</p>



<pre class="hljs">conda create --name tensorflow python=<span class="hljs-number">3.8</span></pre>



<p>要进入环境:</p>



<pre class="hljs">conda activate tensorflow</pre>



<p>让我们为您的新环境创建Jupyter支持:</p>



<pre class="hljs">conda install nb_conda
</pre>



<p>这将需要一些时间来完成工作。</p>



<p>要仅安装CPU，请使用以下命令:</p>



<pre class="hljs">conda install -c anaconda tensorflow</pre>



<p>要安装GPU和CPU，请使用以下命令:</p>



<pre class="hljs">conda install -c anaconda tensorflow-gpu</pre>



<p>要添加其他库，更新或在根位置创建ymp文件，请使用:</p>



<pre class="hljs">conda env update --file tools.yml</pre>



<p>以下是您需要安装的附加库(您可以使用pip安装它们)。</p>



<pre class="hljs">dependencies:
    - jupyter
    - scikit-learn
    - scipy
    - pandas
    - pandas-datareader
    - matplotlib
    - pillow
    - tqdm
    - requests
    - h5py
    - pyyaml
    - flask
    - boto3
    - pip
    - pip:
        - bayesian-optimization
        - gym
        - kaggle</pre>



<h3 id="linux-test">试验</h3>



<p>有两种方法可以测试你的GPU。</p>



<p>首先，您可以运行以下命令:</p>



<pre class="hljs"><span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf
tf.config.list_physical_devices(<span class="hljs-string">"GPU"</span>)</pre>



<p>您将看到类似的输出，[physical device(name = '/physical _ device:GPU:0 '，device_type='GPU')]</p>



<p>第二，也可以用jupyter笔记本。使用此命令启动Jupyter。</p>



<pre class="hljs">jupyter notebook</pre>



<p>现在，运行下面的代码:</p>



<pre class="hljs"><span class="hljs-keyword">import</span> sys

<span class="hljs-keyword">import</span> tensorflow.keras
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> sklearn <span class="hljs-keyword">as</span> sk
<span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf

print(f<span class="hljs-string">"Tensor Flow Version: {tf.__version__}"</span>)
print(f<span class="hljs-string">"Keras Version: {tensorflow.keras.__version__}"</span>)
print()
print(f<span class="hljs-string">"Python {sys.version}"</span>)
print(f<span class="hljs-string">"Pandas {pd.__version__}"</span>)
print(f<span class="hljs-string">"Scikit-Learn {sk.__version__}"</span>)
gpu = len(tf.config.list_physical_devices(<span class="hljs-string">'GPU'</span>))&gt;<span class="hljs-number">0</span>
print(<span class="hljs-string">"GPU is"</span>, <span class="hljs-string">"available"</span> <span class="hljs-keyword">if</span> gpu <span class="hljs-keyword">else</span> <span class="hljs-string">"NOT AVAILABLE"</span>)</pre>



<p>您会看到类似这样的结果:</p>



<pre class="hljs">TensorFlow Version: <span class="hljs-string">'version'</span>
Keras Version: <span class="hljs-string">'version'</span>-tf

Python <span class="hljs-number">3.8</span><span class="hljs-number">.0</span>
Pandas <span class="hljs-string">'version'</span>
Scikit-Learn <span class="hljs-string">'version'</span>
GPU <span class="hljs-keyword">is</span> available</pre>



<p>所以，当你看到一个GPU可用时，你就成功地在你的机器上安装了TensorFlow。</p>



<h2 id="h-conclusion">结论</h2>



<p>TensorFlow是谷歌创建的一个免费的开源机器学习软件库，它最著名的是它的GPU加速计算速度。我们看到了如何在Windows、Mac和Linux上安装TensorFlow。希望这个指南能帮助你入门TensorFlow！</p>



<h3>参考资料和推荐读物:</h3>




        </div>
        
    </div>    
</body>
</html>