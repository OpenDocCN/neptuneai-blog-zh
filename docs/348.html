<html>
<head>
<title>How to Deal With Files in Google Colab: Everything You Need to Know </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在Google Colab中处理文件:你需要知道的一切</h1>
<blockquote>原文：<a href="https://web.archive.org/web/https://neptune.ai/blog/google-colab-dealing-with-files#0001-01-01">https://web.archive.org/web/https://neptune.ai/blog/google-colab-dealing-with-files#0001-01-01</a></blockquote><div><div class="l-content content-wrapper js-content">
            
<p>谷歌合作实验室是一个免费的Jupyter笔记本环境，运行在谷歌的云服务器上，让用户利用后端硬件，如GPU和TPU。这使您可以在本地机器上托管的Jupyter笔记本中做任何事情，而不需要在本地机器上托管笔记本的安装和设置。</p>



<p>Colab提供了(几乎)开始编码所需的所有设置，但是它没有开箱即用的数据集！你如何从Colab中访问你的数据？</p>



<p>在本文中，我们将讨论:</p>



<ul>
<li>如何从大量数据源向Colab加载数据</li>



<li>如何从Colab内部写回那些数据源</li>



<li>Google Colab在处理外部文件时的局限性</li>
</ul>



<h2 id="h-directory-and-file-operations-in-google-colab">Google Colab中的目录和文件操作</h2>



<p>由于Colab允许您在本地托管的Jupyter笔记本中做您能做的任何事情，您还可以使用shell命令，如<code>ls, dir, pwd, cd, cat, echo</code>等等，使用line-magic (%)或bash(！).</p>



<p>要浏览目录结构，您可以使用左侧的文件浏览器窗格。</p>





<h2 id="h-how-to-upload-files-to-and-download-files-from-google-colab">如何在Google Colab上上传和下载文件</h2>



<p>由于Colab笔记本托管在谷歌的云服务器上，因此默认情况下，无法直接访问本地驱动器上的文件(不像笔记本托管在你的机器上)或任何其他环境。</p>



<p>然而，Colab提供了各种选项来连接到几乎任何您能想到的数据源。让我们看看如何。</p>



<h2 id="h-accessing-github-from-google-colab">从Google Colab访问GitHub</h2>



<p>您可以将整个GitHub存储库克隆到您的Colab环境中，也可以通过原始链接访问单个文件。</p>



<h3>克隆一个GitHub库</h3>



<p>使用git <code>clone</code>，您可以像在本地机器上一样将GitHub存储库克隆到您的Colab环境中。一旦存储库被克隆，刷新文件浏览器浏览其内容。</p>



<p>然后，您可以像在本地机器上一样简单地读取这些文件。</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/99c569601382209c86d8e6c07cda5dde.png" alt="colab github repository" class="wp-image-26593" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-git-repo.png?ssl=1"/></figure>



<h3>直接从GitHub加载单个文件</h3>



<p>如果您只需要处理几个文件而不是整个存储库，您可以直接从GitHub加载它们，而不需要将存储库克隆到Colab。</p>



<p>为此:</p>



<ol>
<li>点击存储库中的文件，</li>



<li>点击<strong>查看原始数据</strong>，</li>



<li>复制原始文件的URL，</li>



<li>使用此URL作为文件的位置。</li>
</ol>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/ce9fd690bfd087c034caf6425d8ebad3.png" alt="" class="wp-image-26602" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-upload-complete.png?ssl=1"/></figure>



<h2 id="h-accessing-local-file-system-to-google-colab">访问Google Colab的本地文件系统</h2>



<p>您可以使用文件资源管理器或Python代码读取或写入本地文件系统:</p>



<h3>通过文件浏览器访问本地文件</h3>



<h4>通过文件浏览器从本地文件系统上传文件</h4>



<p>您可以使用file-explorer窗格顶部的upload选项将本地文件系统中的任何文件上传到当前工作目录中的Colab。</p>



<p>要将文件直接上传到子目录，您需要:</p>



<p>1.当您将鼠标悬停在目录上方时，单击可见的三个点</p>



<p>2.选择“上传”选项。</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/26d88d1ba82c4daf112bd7e95241fe4f.png" alt="colab upload" class="wp-image-26598" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-upload.png?ssl=1"/></figure>



<p>3.从“文件上传”对话框中选择您希望上传的文件。</p>



<p>4.等待上传完成。上传进度显示在文件浏览器窗格的底部。</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/5f2708b1ec0fded310d0b263a02c6ad6.png" alt="colab upload progress" class="wp-image-26601" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-upload-progress.png?ssl=1"/></figure>



<p>上传完成后，您可以像平常一样读取文件。</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/ce9fd690bfd087c034caf6425d8ebad3.png" alt="colab upload complete" class="wp-image-26602" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-upload-complete.png?ssl=1"/></figure>



<h4>通过文件浏览器将文件下载到本地文件系统</h4>



<p>当鼠标悬停在文件名上方时，点击可见的三个点，然后选择“下载”选项。</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/c2d7ca42034df7b75b915f27322cbd1d.png" alt="colab download" class="wp-image-26604" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-download.png?ssl=1"/></figure>



<h3>使用Python代码访问本地文件系统</h3>



<p>这一步要求您首先从<code>google.colab library</code>导入<code>files</code>模块:</p>



<pre class="hljs"><span class="hljs-keyword">from</span> google.colab <span class="hljs-keyword">import</span> files
</pre>



<h4>使用Python代码从本地文件系统上传文件</h4>



<p>您使用了<code>files</code>对象的上传方法:</p>



<pre class="hljs">uploaded = files.upload()
</pre>



<p>运行此命令将打开文件上传对话框窗口:</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/51c83b65f321b960569cbf37a0866342.png" alt="colab file upload" class="wp-image-26608" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-file-upload.png?ssl=1"/></figure>



<p>选择您希望上传的文件，然后等待上传完成。将显示上传进度:</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/e110b2ac5eaa0d90bd83400338ae4552.png" alt="colab file upload progress" class="wp-image-26610" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-file-upload-progress.png?ssl=1"/></figure>



<p><code>uploaded</code>对象是一个以文件名和内容作为键值对的字典:</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/002c8ba14ef05ff015d9e43d86682df8.png" alt="colab file uploaded" class="wp-image-26611" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-file-uploaded.png?ssl=1"/></figure>



<p>上传完成后，您可以像阅读colab中的任何其他文件一样阅读它:</p>



<pre class="hljs">df4 = pd.read_json(<span class="hljs-string">"News_Category_Dataset_v2.json"</span>, lines=<span class="hljs-keyword">True</span>)
</pre>



<p>或者使用<code>io</code>库直接从<code>uploaded</code>字典中读取:</p>



<pre class="hljs"><span class="hljs-keyword">import</span> io
df5 = pd.read_json(io.BytesIO(uploaded[<span class="hljs-string">'News_Category_Dataset_v2.json'</span>]), lines=<span class="hljs-keyword">True</span>)</pre>



<p>确保文件名与您希望加载的文件的名称相匹配。</p>



<h4>使用Python代码将文件从Colab下载到本地文件系统:</h4>



<p>files对象的<code>download</code>方法可用于将任何文件从colab下载到您的本地驱动器。将显示下载进度，下载完成后，您可以选择将其保存在本地计算机中的什么位置。</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/9623cc6222ae1cea7a8e9dc539625e09.png" alt="colab downloading" class="wp-image-26614" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-downloading.png?ssl=1"/></figure>



<h2 id="h-accessing-google-drive-from-google-colab">从Google Colab访问Google Drive</h2>



<p>您可以使用<code>google.colab</code>中的<code>drive</code>模块将整个Google Drive安装到Colab，方法是:</p>



<p>1.执行下面的代码，它将为您提供一个身份验证链接</p>



<pre class="hljs"><span class="hljs-keyword">from</span> google.colab <span class="hljs-keyword">import</span> drive
drive.mount(<span class="hljs-string">'/content/gdrive'</span>)</pre>



<p>2.打开链接</p>



<p>3.选择您想要安装其驱动器的Google帐户</p>



<p>4.允许Google Drive Stream访问您的Google帐户</p>



<p>5.复制显示的代码，粘贴到如下所示的文本框中，然后按Enter键</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/8fbd50fdf62086afd23e085f15027e09.png" alt="colab import drive" class="wp-image-26616" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-code-copy.png?ssl=1"/></figure>



<p>一旦安装了驱动器，您将得到消息<code>“Mounted at /content/gdrive”</code>，并且您将能够从文件浏览器窗格浏览驱动器的内容。</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/270494a341cf7f9b3060ebc50ceed3d8.png" alt="colab drive" class="wp-image-26617" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-drive.png?ssl=1"/></figure>



<p>现在你可以和你的Google Drive进行交互，就好像它是你的Colab环境中的一个文件夹一样。对此文件夹的任何更改都将直接反映在您的Google Drive中。你可以像阅读其他文件一样阅读谷歌硬盘中的文件。</p>



<p>你甚至可以使用通常的文件/目录操作从Colab直接写入Google Drive。</p>



<pre class="hljs">!touch <span class="hljs-string">"/content/gdrive/My Drive/sample_file.txt"</span>
</pre>



<p>这将在您的Google Drive中创建一个文件，并且在您刷新它后，该文件将出现在文件浏览器窗格中:</p>







<h2 id="h-accessing-google-sheets-from-google-colab">从Google Colab访问Google工作表</h2>



<p>要访问Google Sheets:</p>



<p>1.您需要首先通过运行以下代码来验证要与Colab链接的Google帐户:</p>



<pre class="hljs"><span class="hljs-keyword">from</span> google.colab <span class="hljs-keyword">import</span> auth
auth.authenticate_user()</pre>



<p>2.执行上述代码将为您提供一个身份验证链接。打开链接，</p>



<p>3.选择您想要链接的Google帐户，</p>



<p>4.允许Google Cloud SDK访问您的Google帐户，</p>



<p>5.最后，复制显示的代码并将其粘贴到显示的文本框中，然后按Enter键。</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/84534df2c249d2dd1afd731c7d4809ec.png" alt="colab code " class="wp-image-26625" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-access.png?ssl=1"/></figure>



<p>要与Google Sheets交互，需要导入预装的<code>gspread</code>库。为了授权<code>gspread</code>访问您的谷歌账户，您需要预装<code>oauth2client.client</code>库中的<code>GoogleCredentials</code>方法:</p>



<pre class="hljs"><span class="hljs-keyword">import</span> gspread
<span class="hljs-keyword">from</span> oauth2client.client <span class="hljs-keyword">import</span> GoogleCredentials
 
gc = gspread.authorize(GoogleCredentials.get_application_default())</pre>



<p>运行上述代码后，将在当前工作目录中创建一个应用程序默认凭证(ADC) JSON文件。这包含了<code>gspread</code>用来访问您的Google帐户的凭证。</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/ec959bb0f9909e4a28c59475bb32214f.png" alt="colab adc json" class="wp-image-26631" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-adc-json.png?ssl=1"/></figure>



<p>一旦完成，您现在可以直接从您的Colab环境中创建或加载Google sheets。</p>



<h3>在Colab中创建/更新Google工作表</h3>



<p>1.使用<code>gc</code>对象的create方法来<code>create</code>工作簿:</p>



<pre class="hljs">wb = gc.create(<span class="hljs-string">'demo'</span>)
</pre>



<p>2.工作簿创建后，您可以在<a href="https://web.archive.org/web/20230213035612/http://sheets.google.com/" target="_blank" rel="noreferrer noopener nofollow">sheets.google.com</a>中查看它。</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/ddaaaa3bec897f16b4f13183af67bad7.png" alt="colab google sheets" class="wp-image-26634" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-google-sheet.png?ssl=1"/></figure>



<p>3.若要将值写入工作簿，请先打开一个工作表:</p>



<pre class="hljs">ws = gc.open(<span class="hljs-string">'demo'</span>).sheet1</pre>



<p>4.然后选择要写入的单元格:</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/119e11b80b7e0f50a4dd1c3a9c5b440f.png" alt="colab cells" class="wp-image-26635" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-cells.png?ssl=1"/></figure>



<p>5.这将创建一个包含索引(R1C1)和值(当前为空)的单元格列表。您可以通过更新单个单元格的值属性来修改它们:</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/44e09cca42ea2bbf6c410d030a0db117.png" alt="colab cells values" class="wp-image-26637" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-cells-value.png?ssl=1"/></figure>



<p>6.若要更新工作表中的这些单元格，请使用update_cells方法:</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/f6e7fae6c08f60b85a9f26dd783ceefe.png" alt="colab cells values updated" class="wp-image-26639" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-cells-value-update.png?ssl=1"/></figure>



<p>7.这些变化现在将反映在您的Google表单中。</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/a62586801fbc0b1b7279e1b5565bc4a1.png" alt="colab sheet" class="wp-image-26640" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-google-sheet-change.png?ssl=1"/></figure>



<h3>从谷歌工作表下载数据</h3>



<p>1.使用<code>gc</code>对象的<code>open</code>方法打开工作簿:</p>



<pre class="hljs">wb = gc.open(<span class="hljs-string">'demo'</span>)
</pre>



<p>2.然后使用<code>get_all_values</code>方法读取特定工作表的所有行:</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/e30050022ca8100999a64ed48ca4e999.png" alt="colab rows" class="wp-image-26643" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-rows.png?ssl=1"/></figure>



<p>3.要将这些加载到dataframe中，可以使用DataFrame对象的<code>from_record</code>方法:</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/b74483087d2f72d5f6602d4efd1701b8.png" alt="colab dataframe" class="wp-image-26645" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-dataframe.png?ssl=1"/></figure>



<h2 id="h-accessing-google-cloud-storage-gcs-from-google-colab">从Google Colab访问Google云存储(GCS)</h2>



<p>你需要有一个谷歌云项目(GCP)来使用GCS。您可以通过预先安装的<code>gsutil</code>命令行实用程序在Colab中创建和访问您的GCS buckets。</p>



<p>1.首先指定您的项目ID:</p>



<pre class="hljs">project_id = <span class="hljs-string">'&lt;project_ID&gt;'</span>
</pre>



<p>2.要访问GCS，您必须验证您的Google帐户:</p>



<pre class="hljs"><span class="hljs-keyword">from</span> google.colab <span class="hljs-keyword">import</span> auth
auth.authenticate_user()</pre>



<p>3.执行上述代码将为您提供一个身份验证链接。打开链接，</p>



<p>4.选择您想要链接的Google帐户，</p>



<p>5.允许Google Cloud SDK访问您的Google帐户，</p>



<p>6.最后，复制显示的代码并将其粘贴到显示的文本框中，然后按Enter键。</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/e770b7cfe054d3a24a0cf87d1ed624ef.png" alt="colab code" class="wp-image-26648" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-code.png?ssl=1"/></figure>



<p>7.然后您配置<code>gsutil</code>来使用您的项目:</p>



<pre class="hljs">!gcloud config set project {project_id}
</pre>



<p>8.您可以使用make bucket ( <code>mb</code>)命令创建一个存储桶。GCP存储桶必须有一个全球唯一的名称，所以使用预安装的<code>uuid</code>库来生成一个全球唯一的ID:</p>



<pre class="hljs"><span class="hljs-keyword">import</span> uuid
bucket_name = f<span class="hljs-string">'sample-bucket-{uuid.uuid1()}'</span>
!gsutil mb gs://{bucket_name}</pre>



<p>9.一旦创建了bucket，您就可以从您的colab环境向它上传一个文件:</p>



<pre class="hljs">!gsutil cp /tmp/to_upload.txt gs://{bucket_name}/
</pre>



<p>10.上传完成后，该文件将出现在您项目的GCS浏览器中:<a href="https://web.archive.org/web/20230213035612/https://console.cloud.google.com/storage/browser?project=Your_project_ID_here" target="_blank" rel="noreferrer noopener nofollow">https://console.cloud.google.com/storage/browser?project=<strong>T4【project _ id</strong>&gt;</a></p>



<pre class="hljs">!gsutil cp gs://{bucket_name}/{filename} {download_location}</pre>



<p>下载完成后，该文件将出现在指定下载位置的Colab文件浏览器窗格中。</p>



<h2 id="h-accessing-aws-s3-from-google-colab">从Google Colab访问S3自动气象站</h2>



<p>您需要有一个AWS帐户，配置IAM，并生成您的访问密钥和秘密访问密钥，以便能够从Colab访问S3。您还需要在您的colab环境中安装<code>awscli</code>库:</p>



<p>1.安装<code>awscli</code>库</p>



<pre class="hljs">!pip install awscli
</pre>



<p>2.安装后，通过运行<code>aws configure</code>来配置AWS:</p>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/2491315c016fed3d3bc4fc2cace277c3.png" alt="colab access" class="wp-image-26652" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20230213035612im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/colab-aws-configure.png?ssl=1"/></figure>



<ol>
<li>在文本框中输入您的<code>access_key</code>和<code>secret_access_key</code>，然后按回车键。</li>
</ol>



<p>然后你可以从S3下载任何文件:</p>



<pre class="hljs">!aws s3 cp s3://{bucket_name} ./{download_location} --recursive --exclude <span class="hljs-string">"*"</span> --include {filepath_on_s3}</pre>



<p><code>filepath_on_s3</code>可以指向单个文件，或者使用一个模式匹配多个文件。</p>



<p>下载完成后将会通知您，并且下载的文件将会在您指定的位置提供，以供您随意使用。</p>



<p>要上传文件，只需颠倒源和目标参数:</p>



<pre class="hljs">!aws s3 cp ./{upload_from} s3://{bucket_name} --recursive --exclude <span class="hljs-string">"*"</span> --include {file_to_upload}
</pre>



<p><code>file_to_upload</code>可以指向单个文件，或者使用一个模式匹配多个文件。</p>



<p>上传完成后，您将会收到通知，上传的文件将会出现在您的S3存储桶的指定文件夹中:<a href="https://web.archive.org/web/20230213035612/https://s3.console.aws.amazon.com/s3/buckets/tr-project-ace-data/staging/?region=us-east-1" rel="noreferrer noopener nofollow" target="_blank">https://s3.console.aws.amazon.com/s3/buckets/<strong>{存储桶名称}/{文件夹} </strong> /？区域=<strong>{区域} </strong> </a></p>



<h2 id="h-accessing-kaggle-datasets-from-google-colab">从Google Colab访问Kaggle数据集</h2>



<p>要从Kaggle下载数据集，首先需要一个Kaggle帐户和一个API令牌。</p>



<p>1.要生成您的API令牌，请转到“我的帐户”，然后“创建新的API令牌”。</p>



<p>2.打开kaggle.json文件，并复制其内容。应该是{ <code>"username":"########", "key":"################################"</code> }的形式。</p>



<p>3.然后在Colab中运行以下命令:</p>



<pre class="hljs">!mkdir ~/.kaggle 
!echo <span class="hljs-string">'&lt;PASTE_CONTENTS_OF_KAGGLE_API_JSON&gt;'</span> &gt; ~/.kaggle/kaggle.json 
!chmod <span class="hljs-number">600</span> ~/.kaggle/kaggle.json  
!pip install kaggle </pre>



<p>4.一旦在Colab中创建了kaggle.json文件，并且安装了kaggle库，就可以使用</p>



<pre class="hljs">!kaggle datasets list -s {KEYWORD}</pre>



<p>5.然后使用下载数据集</p>



<pre class="hljs">!kaggle datasets download -d {DATASET NAME} -p /content/kaggle/
</pre>



<p>数据集将被下载，并在指定的路径中可用(在本例中为<code>/content/kaggle/</code>)。</p>



<h2 id="h-accessing-mysql-databases-from-google-colab">从Google Colab访问MySQL数据库</h2>



<p>1.您需要导入预先安装的<code>sqlalchemy</code>库来使用关系数据库:</p>



<pre class="hljs"><span class="hljs-keyword">import</span> sqlalchemy
</pre>



<p>2.输入连接详细信息并创建引擎:</p>



<pre class="hljs">HOSTNAME = <span class="hljs-string">'ENTER_HOSTNAME'</span>
USER = <span class="hljs-string">'ENTER_USERNAME'</span>
PASSWORD = <span class="hljs-string">'ENTER_PASSWORD'</span>
DATABASE = <span class="hljs-string">'ENTER_DATABASE_NAME'</span>
 
connection_string = f<span class="hljs-string">'mysql+pymysql://{MYSQL_USER}:{MYSQL_PASSWORD}@{MYSQL_HOSTNAME}/{MYSQL_DATABASE}'</span>
 
engine = sqlalchemy.create_engine(connection_string)</pre>



<p>3.最后，只需创建SQL查询，并使用<code>pd.read_sql_query():</code>将查询结果加载到dataframe中</p>



<pre class="hljs">query = f<span class="hljs-string">"SELECT * FROM {DATABASE}.{TABLE}"</span>
 
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
df = pd.read_sql_query(query, engine)</pre>



<h2 id="h-limitations-of-google-colab-while-working-with-files">Google Colab在处理文件时的局限性</h2>



<p>使用Colab时要记住的一个重要警告是，你上传到它的文件不会永远可用。Colab是一个临时环境，空闲超时为90分钟，绝对超时为12小时。这意味着，如果运行时已经空闲了90分钟，或者已经使用了12个小时，它将断开连接。断开连接时，您会丢失所有的变量、状态、已安装的软件包和文件，并在重新连接时连接到一个全新的干净的环境。</p>



<p>此外，Colab的磁盘空间限制为108 GB，其中只有77 GB可供用户使用。虽然这对于大多数任务来说应该足够了，但是在处理像图像或视频数据这样的大型数据集时，请记住这一点。</p>



<h2 id="h-conclusion">结论</h2>



<p>对于那些想要利用GPU等高端计算资源的能力，而不受价格限制的个人来说，Google Colab是一个很好的工具。</p>



<p>在本文中，我们已经介绍了通过在Google Colab中读取外部文件或数据以及从Google Colab向这些外部数据源写入数据来增强Google Colab体验的大多数方法。</p>



<p>根据您的用例，或者您的数据架构是如何建立的，您可以很容易地应用上述方法将您的数据源直接连接到Colab，并开始编码！</p>



<h3>其他资源</h3>




        </div>
        
    </div>    
</body>
</html>