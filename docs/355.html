<html>
<head>
<title>Kedro vs ZenML vs Metaflow: Which Pipeline Orchestration Tool Should You Choose? </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Kedro vs ZenML vs Metaflow:应该选择哪个管道编排工具？</h1>
<blockquote>原文：<a href="https://web.archive.org/web/https://neptune.ai/blog/kedro-vs-zenml-vs-metaflow#0001-01-01">https://web.archive.org/web/https://neptune.ai/blog/kedro-vs-zenml-vs-metaflow#0001-01-01</a></blockquote><div><div class="l-content content-wrapper js-content">
            
<p>在本文中，我将对Kedro、Metaflow和ZenML进行比较，但在此之前，我认为值得后退几步。为什么还要费心使用ML编排工具，比如这三个？启动一个机器学习项目并没有那么难。你安装一些python库，初始化模型，训练它，瞧！准备好了。也有很多人告诉你<strong>这是数据科学</strong>，在本地运行的Jupyter笔记本上键入<em> model.fit </em>将保证你得到梦想中的工作，并解决宇宙中的所有问题。但这只是事实的一小部分。</p>



<p>先说清楚，用Jupyter笔记本做实验和报道没有错。问题是他们无法提供一个可以在大多数行业ML项目中使用的软件开发框架。</p>



<p>实现机器学习项目(和创建基于ML的产品)和任何其他软件开发一样复杂。例如，在现实世界的ML项目中，您必须能够:</p>



<ul><li>以多种格式接收数据</li><li>预处理数据、清理数据集等。</li><li>做特征工程</li><li>训练你的模特</li><li>测试它们</li><li>部署您的模型</li><li>实施CI/CD</li><li>使用git跟踪您的代码</li><li>跟踪您的模型的指标</li></ul>



<p>还有很多其他的东西，<a href="/web/20221206150330/https://neptune.ai/blog/should-you-use-jupyter-notebooks-in-production" target="_blank" rel="noreferrer noopener">用笔记本</a>是做不到的(如果有人这么说，他们可能是在误导你)。因此，您的代码必须是可维护的、可伸缩的、可跟踪的，并且能够在多人团队中工作。</p>



<p>这就是为什么数据科学家必须学习机器学习编排工具，这篇文章旨在深入探讨一些最常用的MLOps编排工具-- Kedro、MetaFlow和ZenML。我们将看看他们的:</p>



<ul><li>主要目的</li><li>代码结构</li><li>主要特征</li><li>赞成和反对</li></ul>



<p>我们还将展示:</p>



<ul><li>开始使用其中的每一项是多么容易(以及如何开始)</li><li>展示他们真实的能力</li></ul>







<p>为了解决之前提出的问题，已经实现了很多框架。我们选择了Kedro、Metaflow和ZenML，因为它们是一些最常用的编排机器学习管道的工具:</p>



<ul><li>他们有免费使用的许可证:你不需要支付高额费用来构建你的ML项目</li><li>它们分布广泛:有很多人在使用它们，这样在需要的时候很容易找到人来帮助你</li><li>他们在网上有很多学习材料:这样你(以及加入你团队的其他人)可以投入并开始你的第一个项目，或者维持现有的项目</li><li>他们与行业中最常用的工具进行了许多集成:您将能够将它们集成到现有的云框架中，甚至扩展它来做更多的事情</li></ul>



<p>因此，这些是让你的机器学习离开你的Jupyter笔记本并让它面对真实世界为真实的人解决真实问题的最简单的方法。</p>







<p>选择流程编排工具时，需要考虑许多因素。这将是你的机器学习项目的基础。例如，这种选择会影响:</p>



<ul><li>启动一个项目所需的时间</li><li>更改项目的特定部分(如数据源、代码片段等)所需的时间</li><li>是时候培训新员工了解正在运行的项目了</li><li>项目成本，包括(但不限于)云、处理能力和人力</li></ul>



<p>这就是为什么关注您使用的编排工具如此重要。这就是我们要帮你找到的。</p>



<h3>TL；速度三角形定位法(dead reckoning)</h3>



<p>如果你没有时间全部读完，你可以<a href="#kedro-vs-zenml-vs-metaflow-summing-it-all-up">跳到这里快速总结</a>。</p>



<p>现在，让我们开始吧！</p>



<h2 id="h-original-documentations">原始文件</h2>



<h3>定义</h3>



<p>首先，让我们看一下每个文档是如何定义其工具的:</p>



<div class="is-layout-flex wp-container-3 wp-block-columns">




<div class="is-layout-flow wp-block-column">
<p><em><a href="https://web.archive.org/web/20221206150330/https://kedro.readthedocs.io/en/stable/index.html" target="_blank" rel="noreferrer noopener nofollow"><strong>Kedro</strong></a>是一个开源的Python框架，用于创建可复制、可维护和模块化的数据科学代码。它从软件工程中借用概念，并将它们应用到机器学习代码中；应用的概念包括模块化、关注点分离和版本控制。Kedro由LF AI &amp;数据基金会托管。”</em></p>



<p>在此<a href="https://web.archive.org/web/20221206150330/https://kedro.readthedocs.io/en/stable/01_introduction/01_introduction.html" target="_blank" rel="noreferrer noopener nofollow">环节</a>可用。</p>
</div>
</div>



<div class="is-layout-flex wp-container-6 wp-block-columns">




<div class="is-layout-flow wp-block-column">
<p><em><a href="https://web.archive.org/web/20221206150330/https://www.zenml.io/home" target="_blank" rel="noreferrer noopener nofollow"><strong>ZenML</strong></a>是一个可扩展的开源MLOps框架，用于创建生产就绪的机器学习管道。它专为数据科学家打造，具有简单、灵活的语法，与云和工具无关，并且具有面向ML工作流的接口/抽象。”</em></p>



<p>在此<a href="https://web.archive.org/web/20221206150330/https://docs.zenml.io/" target="_blank" rel="noreferrer noopener nofollow">环节</a>可用。</p>
</div>
</div>



<div class="is-layout-flex wp-container-9 wp-block-columns">




<div class="is-layout-flow wp-block-column">
<p><em><a href="https://web.archive.org/web/20221206150330/https://metaflow.org/" target="_blank" rel="noreferrer noopener nofollow"><strong>Metaflow</strong></a>是一个人性化的Python库，帮助科学家和工程师构建和管理现实生活中的数据科学项目。Metaflow最初是在网飞开发的，旨在提高数据科学家的工作效率，这些科学家从事从经典统计到最先进的深度学习的各种项目。”</em></p>



<p>在此<a href="https://web.archive.org/web/20221206150330/https://docs.metaflow.org/" target="_blank" rel="noreferrer noopener nofollow">环节</a>可用。</p>
</div>
</div>



<p>至此，一切看起来都非常相似。但是这些工具之间有什么不同呢？是的，有一些重要的区别需要注意。</p>



<h3>谁建的？</h3>



<p>这三个都是开源免费使用的框架，但都是由公司开发的:</p>



<div id="case-study-numbered-list-block_62bbe8c259082" class="block-case-study-numbered-list ">

    
    <h2 id="h-"/>

    <ul class="c-list">
                    <li class="c-list__item">Kedro是由麦肯锡公司QuantumBlack创建的，最近捐赠给了Linux基金会</li>
                    <li class="c-list__item">另一方面，ZenML是由德国慕尼黑的一家小公司开发的</li>
                    <li class="c-list__item">Metaflow是在网飞开发的</li>
            </ul>
</div>



<h3>它们是否有完整的文件记录？</h3>



<p>所有3个工具都有文档，提供可用作其实施基础的信息。代码文档对于软件开发尤其重要，因为它是由实际创建软件的人编写的指南，所以没有其他更好的媒介来解释如何使用它。</p>



<p>当维护一个正在运行的项目时，这变得更加重要，因为总是需要检查框架的某个部分的一些特性和代码样本，例如理解语法或首字母缩写词。</p>



<h4>Kedro</h4>



<p>Kedro有大量的文档，其中包含教程和示例项目。软件的每个部分都有自己的部分，包含代码片段和示例，从最简单的功能到高级的功能。您可以安装一个模板项目，并使用样本数据集启动您的第一个项目，并在您的终端中用几行代码训练您的第一个模型。</p>



<h4>ZenML</h4>



<p>ZenML文档也非常完整。一切都写得很好，有有用的图像帮助我们了解那里正在发生什么。还有一些复制粘贴教程，可以立即投入使用，并查看ZenML在实践中的工作。不过，以我的拙见，它缺少代码片段来演示如何应用一些概念。</p>



<h4>元流</h4>



<p>元流文档是三者中最短的。有一个模板项目，但是文档的覆盖面有点太短。所以，最难理解的是到底发生了什么。Metaflow是三种语言中唯一可以在R中运行的，所以如果这是你首选的编码语言，也许你已经选择了工具。</p>



<blockquote class="wp-block-quote has-text-align-center"><p><strong>文件:Kedro = ZenML &gt;元流量</strong></p></blockquote>



<h2 id="h-main-features">主要特征</h2>



<p>现在是时候以更实际的方式来理解这些工具是如何工作的了。我们将看到如何学习它们，以及如何将它们用于现实世界的项目中。</p>



<h3>学习如何使用</h3>



<p>每一个软件工具都是有用的，就像使用它有多容易一样。让我们来看看每个工具的一些可用材料。</p>



<h4>Kedro</h4>



<p>Kedro有一个很大的社区，它也提供了很多关于如何用它创建项目的信息。除了官方文档(附带一个模板项目)，YouTube上还有一个完整的免费<a href="https://web.archive.org/web/20221206150330/https://www.youtube.com/watch?v=rf8yBHsDOj4&amp;list=PLTU89LAWKRwEdiDKeMOU2ye6yU9Qd4MRo" target="_blank" rel="noreferrer noopener nofollow"> kedro课程</a>，由DataEngineerOne频道主办。它从非常初级的水平(像安装kedro)到大多数高级功能。在medium中还有4篇逐步的帖子(我写的)展示了如何使用kedro、MLflow和fastAPI部署模型(<a href="https://web.archive.org/web/20221206150330/https://medium.com/indiciumtech/how-to-build-models-as-products-using-mlops-part-1-introduction-a93eb5b6a96" target="_blank" rel="noreferrer noopener nofollow">第1部分</a>、<a href="https://web.archive.org/web/20221206150330/https://medium.com/indiciumtech/how-to-build-models-as-products-using-mlops-part-2-machine-learning-pipelines-with-kedro-10337c48de92" target="_blank" rel="noreferrer noopener nofollow">第2部分</a>、<a href="https://web.archive.org/web/20221206150330/https://medium.com/indiciumtech/how-to-build-models-as-products-using-mlops-part-3-versioning-models-with-mlflow-1e7bde445833" target="_blank" rel="noreferrer noopener nofollow">第3部分</a>和<a href="https://web.archive.org/web/20221206150330/https://medium.com/indiciumtech/how-to-build-models-as-products-using-mlops-part-4-deploying-models-in-apis-with-kedro-fast-api-15f13e67c080" target="_blank" rel="noreferrer noopener nofollow">第4部分</a>)。</p>



<h4>ZenML</h4>



<p>YouTube上有很多ZenML项目视频，其中很多都是由他们的官方个人资料保存的，你可以在这里找到。还有一些实现的教程项目，可以从命令界面本身下载然后抓取指南来实现自己的项目，这里的how-to是<a href="https://web.archive.org/web/20221206150330/https://docs.zenml.io/examples-and-use-cases"/>。</p>



<p>基本上，您可以运行“zenml示例列表”,并通过键入“zenml示例快速启动”选择一个可用的示例下载到您的当前目录中。</p>



<h4>元流</h4>



<p>Metaflow是目前可用材料最少的一个。文档很短，几乎没有代码示例。Youtube上有一些视频展示了一些实现，就像这个，但似乎没有完整的课程。材料中也有拆分，因为Metaflow是这里唯一可以在R和Python中运行的，所以两者中都有学习材料插图实现。</p>



<blockquote class="wp-block-quote has-text-align-center"><p><strong>学习如何使用:Kedro &gt; ZenML &gt; Metaflow </strong></p></blockquote>



<h3>代码结构</h3>



<h4>Kedro:节点和管道</h4>



<p>Kedro有一个由节点和管道定义的代码结构。每个节点都是一个Python函数。管道是节点的编排，指定管道的所有输入、输出和参数。它基本上描述了哪些数据进入每个节点，输出是什么，以及接下来的步骤是什么。</p>


<div class="wp-block-image">
<figure class="aligncenter size-large is-resized"><a href="https://web.archive.org/web/20221206150330/https://neptune.ai/kedro-vs-metaflow-vs-zenml4"><img decoding="async" loading="lazy" src="../Images/b48b36a1fa4aba155f17bec293dbf2e2.png" alt="Kedro: nodes and pipelines" class="wp-image-68213" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221206150330im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/Kedro-vs-Metaflow-vs-ZenML4.png?resize=815%2C438&amp;ssl=1"/></a><figcaption><em><em>Kedro nodes (squares), datasets (round-edge rectangles), and pipelines (the interconnection between them)</em> | <a href="https://web.archive.org/web/20221206150330/https://kedro.readthedocs.io/en/0.17.1/03_tutorial/06_visualise_pipeline.html" target="_blank" rel="noreferrer noopener nofollow">Source</a></em></figcaption></figure></div>


<p>不需要指定哪个节点在下一个节点之前。Kedro自动编排整个管道的执行顺序(如果执行中没有冲突，这样的数据源可以是同一个节点的输入和输出)。这样，如果您的数据结构保持不变，您的源代码可能会发生变化，而无需更改主代码。此外，它还允许您查看管道的每个步骤中发生了什么，因为中间数据正在被存储。</p>



<p>所有代码都位于“src”文件夹中，所有函数都在节点和管道python文件中创建。可以(强烈建议)将您的代码拆分到子文件夹中(如预处理、特征工程、模型训练等)以保持其组织性，这样就可以单独运行管道的每一步。整个代码架构，包括代码开发生命周期，可以在这里看到<a href="https://web.archive.org/web/20221206150330/https://kedro.readthedocs.io/en/stable/faq/architecture_overview.html" target="_blank" rel="noreferrer noopener nofollow">。</a></p>



<p>Kedro还提供了一个环境接口。Kedro环境旨在分离管道中使用的代码源，这样您就可以将开发从生产中分离出来，甚至可以在项目中创建其他分区。你可以在这里阅读更多相关信息<a href="https://web.archive.org/web/20221206150330/https://kedro.readthedocs.io/en/stable/kedro_project_setup/configuration.html" target="_blank" rel="noreferrer noopener nofollow">。它会自动创建本地和基础环境，但是您可以根据需要创建任意多个环境。</a></p>



<p>当向特定节点(或所有节点)添加附加特性时，kedro使用了钩子结构。例如，您可以配置特定的行为，如记录数据集加载发生的时间。钩子的结构可以在这里找到。Kedro也有一个秘密的管理结构，它使用一个证书yaml文件，你可以在这里<a href="https://web.archive.org/web/20221206150330/https://kedro.readthedocs.io/en/stable/kedro_project_setup/configuration.html#credentials" target="_blank" rel="noreferrer noopener nofollow">了解更多。</a></p>







<h4>ZenML:步骤和管道</h4>



<p>ZenML是建立在步骤之上的。它为它定义了一个装饰器(@step)，然后管道的每一步都写成一个Python函数。它包含用于接收数据、数据清理、模型训练甚至度量评估的代码。可以使用管道来组织这些步骤，管道将构建所有的步骤，以允许管道同时运行。对步骤、输入和输出使用ZenML内置类的主要优点是所有集成都变得更容易。</p>



<p>另一方面，管道是指定步骤执行顺序的python函数，以及它们相应的输入和输出。所有代码都构建在run.py文件中，该文件将包含步骤和管道本身。</p>



<p>ZenML项目基础设施也定义了一个栈，它定义了你的管道将如何运行。它通常包括:</p>



<ul><li><strong>协调器</strong>:协调管道执行的框架(比如气流和库伯流)</li><li><strong>工件存储</strong>:数据的实际存储，主要用于中间管道步骤的数据(因为摄取通常是它自己的一个步骤)</li><li><strong>元数据存储库</strong>:跟踪关于管道运行本身的数据的存储库</li></ul>



<p>由于其结构，改变堆栈的组件更容易，如数据存储、云基础架构或编排。这里也有对每个可用堆栈组件<a href="https://web.archive.org/web/20221206150330/https://docs.zenml.io/advanced-guide/stacks-components-flavors" target="_blank" rel="noreferrer noopener nofollow">的解释。例如，您可以使用本地开发栈(在您的机器上运行)和生产栈(在云服务器上运行)。</a></p>


<div class="wp-block-image">
<figure class="aligncenter size-full is-resized"><a href="https://web.archive.org/web/20221206150330/https://neptune.ai/kedro-vs-metaflow-vs-zenml3"><img decoding="async" loading="lazy" src="../Images/93995b2f2135c3fc7e2600fd3bdc38d1.png" alt="An example of ZenML pipeline with two stacks, local and cloud" class="wp-image-68212" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221206150330im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/Kedro-vs-Metaflow-vs-ZenML3.png?resize=818%2C636&amp;ssl=1"/></a><figcaption><em>An example of ZenML pipeline with two stacks, local and cloud | <a href="https://web.archive.org/web/20221206150330/https://zenml.io/home" target="_blank" rel="noreferrer noopener nofollow">Source</a></em></figcaption></figure></div>


<p>在冗余非常重要的项目中，堆栈特别有用。如果您的主系统出现故障(比如依赖于特定的云提供商)，您可以切换到不同的基础架构，几乎不需要交互，甚至可以实现自动化。它还可以包括一个工件注册表，它甚至可以管理项目的秘密。</p>



<p>与Kedro不同，ZenML允许您定制整个管道的创建，因此我们强烈建议您遵循一些最佳实践。你可以在这里找到指南<a href="https://web.archive.org/web/20221206150330/https://docs.zenml.io/links-and-resources/resources/best-practices" target="_blank" rel="noreferrer noopener nofollow">。</a></p>



<h4>元流:有UI(也有步骤)的那个</h4>



<p>Metaflow与Airflow非常相似，因为它是基于DAGs(有向无环图)的，所以Airflow用户更容易理解它。</p>



<p>就像ZenML一样，Metaflow也使用steps来修饰函数，所以可以和有ZenML体验的用户相当。然而，它使用了一个在步骤本身中指定流程的结构，这看起来有点混乱。此外，为了创建流，您应该首先创建一个包含其步骤的类(例如，MyFlow)。</p>





<p>大多数功能都是用decorators构建的。例如，您可以使用资源装饰器来指定计算资源(比如内存、CPU和GPU的使用)、每个步骤应该使用的Python环境、重试次数、负责的用户等等。</p>



<p>使用Metaflow的主要优点是它有一个内置的UI，用于跟踪项目中每次运行的度量。在这里可以找到一个示例UI<a href="https://web.archive.org/web/20221206150330/https://demo.public.outerbounds.xyz/?timerange_start=1406160000000" target="_blank" rel="noreferrer noopener nofollow">。</a></p>







<p>Metaflow自动跟踪一些指标，比如运行实验的用户、实验所用的时间、实验的步骤以及运行状态。</p>



<blockquote class="wp-block-quote has-text-align-center"><p><strong>代码结构:Kedro &gt; ZenML &gt;元流</strong></p></blockquote>



<h3>摄取数据</h3>



<h4>Kedro:数据目录和参数文件</h4>



<p>Kedro有一个很好的方法将数据源从代码中抽象出来:数据目录文件。这些是YAML文件，其中描述了所有源(输入和输出数据)，以及关于它们的保存路径、格式和其他参数的信息。这样，它们将作为参数传递给管道，这使得更新更加容易。数据可以以多种格式、多种路径和许多不同的参数存储。</p>



<p>你可以在这里阅读更多相关信息<a href="https://web.archive.org/web/20221206150330/https://kedro.readthedocs.io/en/stable/data/data_catalog.html" target="_blank" rel="noreferrer noopener nofollow">。这个yaml示例展示了如何导入位于本地的CSV数据集。</a></p>



<pre class="hljs">```
cars:
  type: pandas.CSVDataSet
  filepath: data/<span class="hljs-number">01</span>_raw/company/cars.csv
  load_args:
    sep: <span class="hljs-string">','</span>
  save_args:
    index: <span class="hljs-keyword">False</span>
    date_format: <span class="hljs-string">'%Y-%m-%d %H:%M'</span>
    decimal: .

```</pre>



<p>将项目的数据集作为参数传递的主要优点是，如果您必须更改数据源(其路径、源或文件)，您不需要更新所有代码来匹配它。Catalog是一个默认的kedro类，有几个集成可供使用。在最坏的情况下，数据清理节点需要更新，而管道的中间步骤不会改变。</p>



<p>当我说它可以有任何格式时，我的意思是，它可以是一段SQL代码(来自多个源和云)、CSV表、parquet表、Spark数据集、MS Excel表、JPEG图像等。它可以位于云(AWS、GCP和Azure)、Hadoop文件系统甚至HTML网站中。该目录还用于保存模型和度量文件，使得实现它们和管理所有来源变得更加容易。</p>



<p>Kedro还使用YAML文件作为params文件。它可能包含模型或管线需要的所有参数。这样，在需要时可以很容易地跟踪和更改它们。</p>



<h4>ZenML</h4>



<p>前面说过，ZenML是基于steps的。因此，举例来说，数据摄取就是您可以在一个步骤中以python脚本的形式编写的东西。</p>



<p>ZenML的大部分功能来自于它的集成。它提供了大量工具来集成来自多个来源的数据，以及特性存储、工件存储等等。我们将在下一节进一步讨论ZenML集成。</p>



<p>因为ZenML是高度可定制的，您可以创建自己的代码结构，包括参数和配置文件，以便使您的项目看起来更有组织性(和更少的硬编码)和更容易维护。</p>



<h4>元流</h4>



<p>它与ZenML摄取非常相似，尽管Metaflow只支持AWS集成，这在与不同的云供应商合作时可能是一个障碍。因此，基本上，为了集成数据源和其他特性，您可能必须用Python(或R)进行一些硬编码。</p>



<blockquote class="wp-block-quote has-text-align-center"><p><strong>摄取数据:凯卓&gt; ZenML &gt;元流</strong></p></blockquote>



<h3>集成</h3>



<h4>Kedro:插件</h4>



<p>kedro的大部分功能来自它的插件。它可以通过本机运行第三方工具来扩展kedro的功能，并且它们可以一起工作以充分发挥它们的潜力。虽然kedro将它们作为插件添加，但它们实际上是作为集成到kedro结构中的独立组件来工作的。其中有很多，比如:</p>



<ul><li>Kedro-neptune  <span>一个连接Kedro和Neptune.ai的插件，允许实验跟踪和元数据管理。</span></li></ul>


<div class="wp-block-image">
<figure class="aligncenter size-large is-resized"><a href="https://web.archive.org/web/20221206150330/https://github.com/neptune-ai/kedro-neptune" target="_blank" rel="noreferrer noopener"><img decoding="async" loading="lazy" src="../Images/988d4863925379b6170e736d387c074b.png" alt="Kedro experiment tracking using kedro-neptune" class="wp-image-68220" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221206150330im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/Kedro-vs-Metaflow-vs-ZenML11.png?resize=738%2C365&amp;ssl=1"/></a><figcaption><em>Kedro experiment tracking using kedro-neptune | <a href="https://web.archive.org/web/20221206150330/https://github.com/neptune-ai/kedro-neptune" target="_blank" rel="noreferrer noopener nofollow">Source</a></em></figcaption></figure></div>






<ul><li><strong> <a href="https://web.archive.org/web/20221206150330/https://kedro-mlflow.readthedocs.io/en/stable/" target="_blank" rel="noreferrer noopener nofollow"> Kedro-mlflow </a> : </strong>允许实现MLflo进行模型跟踪和模型服务</li><li><strong> <a href="https://web.archive.org/web/20221206150330/https://github.com/kedro-org/kedro-viz" target="_blank" rel="noreferrer noopener nofollow"> Kedro-viz </a> : </strong>一个神奇的工具，可以让你的整个ML管道可视化</li></ul>


<div class="wp-block-image">
<figure class="aligncenter size-large is-resized"><a href="https://web.archive.org/web/20221206150330/https://neptune.ai/kedro-vs-metaflow-vs-zenml6"><img decoding="async" loading="lazy" src="../Images/ece38119e0b625087860200161c520db.png" alt="Kedro pipeline visualization using kedro-viz" class="wp-image-68215" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221206150330im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/Kedro-vs-Metaflow-vs-ZenML6.png?resize=695%2C389&amp;ssl=1"/></a><figcaption><em>Kedro pipeline visualization using kedro-viz | <a href="https://web.archive.org/web/20221206150330/https://github.com/topics/kedro-plugin" target="_blank" rel="noreferrer noopener nofollow">Source</a></em></figcaption></figure></div>


<ul><li>Kedro-docker 一个让使用docker创建、部署和运行kedro ML应用程序变得更加容易的工具；</li></ul>



<p>这些插件的主要优点是它们都可以很容易地用PyPI安装，并且它们与kedro结构兼容，因此很容易在现有项目中安装和运行它们。您可以查看官方文档，找到一个对解决您的问题最有用的文档。</p>



<h4>ZenML</h4>



<p>ZenML支持大量第三方集成。它们包含编排工具、分布式处理工具、云提供商、部署、特性存储、监控等等。ZenML就像胶水一样把整个管道粘在一起(就像他们自己声称的那样)。在ZenML Python文件内部调用这些工具的方式与在ZenML外部调用它们的方式非常相似，例如，使用“ZenML . integrations . sklearn”来导入sk learn。</p>


<div class="wp-block-image">
<figure class="aligncenter size-large is-resized"><a href="https://web.archive.org/web/20221206150330/https://neptune.ai/kedro-vs-metaflow-vs-zenml9"><img decoding="async" loading="lazy" src="../Images/0fe1b6ec0695f7a7d1613468c343a0e4.png" alt="Original Documentation" class="wp-image-68218" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221206150330im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/Kedro-vs-Metaflow-vs-ZenML9.png?resize=755%2C379&amp;ssl=1"/></a><figcaption><em>Original documentation | </em><a href="https://web.archive.org/web/20221206150330/https://docs.zenml.io/advanced-guide/integrations" target="_blank" rel="noreferrer noopener nofollow"><em>Source</em></a></figcaption></figure></div>


<p>在ZenML中有一个Python集成包，它包含了许多不同工具的所有接口。你可以在这里阅读更多关于已经集成的工具(以及他们目前正在开发的工具)<a href="https://web.archive.org/web/20221206150330/https://docs.zenml.io/advanced-guide/integrations" target="_blank" rel="noreferrer noopener nofollow">。说到安装集成，离你只有四个字的命令界面，比如‘zenml integration install sk learn’。</a></p>



<h4>元流</h4>



<p>众所周知，网飞与AWS有着密切的关系。因此，Metaflow与大多数AWS服务很好地集成，使用S3存储、AWS Batch和Kubernetes进行计算、AWS Fargate和RDS进行元数据存储、AWS Sagemaker笔记本和AWS Step函数、Eventbridge和Argo工作流进行调度。你可以在这里阅读更多相关信息<a href="https://web.archive.org/web/20221206150330/https://docs.metaflow.org/metaflow-on-aws" target="_blank" rel="noreferrer noopener nofollow">。</a></p>



<blockquote class="wp-block-quote has-text-align-center"><p><strong>集成:Kedro = ZenML &gt;元流</strong></p></blockquote>



<h2 id="h-real-world-applications">现实世界的应用</h2>



<p>我们一直在谈论的所有工具都可以用来将模型部署到生产中，并协调它们的培训和评估。然而，它们的一些特性可能更适合某些用例。</p>



<h4>Kedro</h4>



<p>由于Kedro具有高度组织化的代码结构，并抽象了数据和模型源和路径，因此对于那些应该由大型团队构建并需要长期维护的项目来说，它是一个很好的选择，因此基于插件和挂钩的新功能可以添加到项目中，而无需更改整个管道结构。此外，由于它可以与PySpark无缝协作，因此使用大数据或任何云平台进行部署都没有问题。</p>



<h4>ZenML</h4>



<p>ZenML的代码结构比Kedro更具可定制性，它可能非常适合原型项目。ZenML的主要优势之一是它可以在不改变代码的情况下处理不同的栈。因此，如果项目需要改变云提供商，例如，由于不可用，它可以在几秒钟内完成，无需太多设置。这提供了健壮性和可伸缩性。</p>



<h4>元流</h4>



<p>Metaflow是三个中唯一一个可以使用r的。因此，如果有一些模型还没有在Python中使用，Metaflow可以使用r将其部署到生产中。此外，Metaflow的另一个优点是它可以自动跟踪每个运行指标。那么它可能非常适合原型化和测试不同的项目方法。此外，由于它与AWS的兼容性，如果您对AWS有一些依赖，它应该是您的选择。</p>



<h2 id="h-advantages-and-limitations">优点和局限性</h2>



<h4>凯德罗</h4>



<h5>优势</h5>



<ul><li>Kedro的结构对于维护复杂项目中的秩序特别有用，而使用其他工具很难做到这一点。</li><li>它的插件可以提供广泛的操作，提供kedro原生不做的东西；</li><li>强社区:社区开发频繁，所以总是有bug修复和新插件发布；</li><li>节点和管道架构避免了代码重复，因为它允许功能重用，从而清洁编码；</li><li>可以使用不同的环境，比如dev和prod来分离数据和模型源。</li></ul>



<h5>限制</h5>



<ul><li>因为它结构良好，如果你的项目太简单，kedro可能是一个大材小用；</li></ul>



<h4>ZenML</h4>



<h5>优势</h5>



<ul><li>ZenML非常简单，易于实现。你可以很快地开始你的第一个项目，并随着时间的推移逐渐发展成一个复杂的项目。</li><li>它有许多与第三方工具的集成，这允许你实现广泛的项目；</li><li>栈结构允许你以多种不同的方式实现你的代码，并使dev和prod分离成为可能。</li></ul>



<h5>限制</h5>



<ul><li>因为代码很简单，所以随着项目的增长，保持所有的东西都有组织是很棘手的。在有多个步骤和复杂数据流的项目中，需要遵守纪律。因此，阅读和使用建议的<a href="https://web.archive.org/web/20221206150330/https://docs.zenml.io/links-and-resources/resources/best-practices" target="_blank" rel="noreferrer noopener nofollow">最佳实践</a>非常重要；</li><li>它是由一家公司举办的，因此很少有围绕bug修复或新功能创建可能性的社区互动。</li></ul>



<h4>元流</h4>



<h5>优势</h5>



<ul><li>Metaflow自动跟踪度量和管道运行信息，这在生产中运行时相当有用；</li><li>在R中可用:即使不是唯一的，也是唯一的一个可以在R中运行的框架；</li><li>它有一个内置的用户界面来显示所有跟踪的指标；</li><li>基于DAGs:这使得Metaflow对于熟悉图形编程的人特别有用，比如气流。</li></ul>



<h5>限制</h5>



<ul><li>缺少文档和其他在线学习材料；</li><li>代码很容易与许多装饰器的使用混淆；</li><li>与ZenML类似，随着项目的增长，保持一切有序可能会很棘手。</li><li>对于初学者来说可能有点难学。</li></ul>











<h2 id="h-conclusion">结论</h2>



<p>在查看了所有这些方法之后，很明显每个工具之间都有很大的差异。每一种都有自己的优点和局限性，它可以更好或更差地适应每个项目的需求。简而言之:</p>



<ul><li>Kedro有一些有趣的功能，在处理复杂的项目时尤其有用。它抽象了数据源和模型，并且可以与许多其他工具很好地集成。它可以被设置为适合大多数机器学习现代项目，包括所有当前的行业最佳实践。以我的拙见，他们处理和抽象源代码和模型源代码的方式是令人惊奇的。</li></ul>



<ul><li>ZenML也是一个强有力的竞争对手，与Kedro相比有一些优势。它更具可定制性，可以在不需要任何代码更改的情况下处理多个堆栈，并且它还可以与许多其他工具很好地集成。但是，它缺少一些功能，主要是在处理数据和模型源时。</li></ul>



<ul><li>元流是目前为止我们将在这里看到的最不结构化的方法。它主要关注编排步骤和跟踪步骤执行度量。因此，您的项目需要的其他特性可能需要通过使用其他Python功能手工编码来包含。可能不是不可以，但是肯定有一些弊端。然而，自动指标跟踪和UI在生产环境中非常酷。</li></ul>



<p>最后，我希望您现在有更多的信息来选择这些工具中哪一个更适合您的用例，只是请记住，在每个工具的功能之间总是有一个权衡。谢谢你一直看完这篇博客，下次再见！</p>
        </div>
        
    </div>    
</body>
</html>