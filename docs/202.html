<html>
<head>
<title>Top Tools for Data Exploration and Visualization With Their Pros and Cons </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>数据探索和可视化的顶级工具及其优缺点</h1>
<blockquote>原文：<a href="https://web.archive.org/web/https://neptune.ai/blog/data-exploration-and-visualization-best-tools#0001-01-01">https://web.archive.org/web/https://neptune.ai/blog/data-exploration-and-visualization-best-tools#0001-01-01</a></blockquote><div><div class="l-content content-wrapper js-content">
            
<p>当你在从事数据科学项目或试图找到数据洞察力来制定计划时，有两个关键步骤是不可避免的——数据探索和<a href="https://web.archive.org/web/20221206032016/https://visme.co/blog/best-data-visualizations/" target="_blank" rel="noreferrer noopener nofollow">数据可视化</a>。</p>



<p><strong>数据探索</strong>是EDA的组成部分(<a href="https://web.archive.org/web/20221206032016/https://towardsdatascience.com/exploratory-data-analysis-8fc1cb20fd15" target="_blank" rel="noreferrer noopener nofollow">探索性数据分析</a>)。无论你在后面的阶段决定做什么(创建/选择机器学习模型或总结你的发现)，都将取决于你在探索阶段做出的假设。这不是一个单一的步骤阶段，但我们在数据探索过程中可以确定很多关于我们的数据，例如检查数据分布、查找相关性、查找异常值和缺失值等。</p>



<p><strong>数据可视化</strong>不是数据分析项目中任何特定阶段的一部分。在我们的项目中，我们可以在任何一点用视觉来表现数据。数据可视化只不过是表格或图形与数据(输入或输出)之间的映射。数据可视化有两种形式——表格和图形。</p>



<p>我们需要可视化作为数据的可视化总结，因为它更容易理解以识别关系和模式。在数据探索阶段使用了许多可视化工具来发现异常值、特征之间的相关性等。我们还使用图表和图形来检查模型的性能，或者对数据进行分类或聚类。</p>



<p>选择正确的图表来传达您的数据发现也很重要。使用折线图代替散点图可能没有意义。我们在日常工作中会用到或看到一些基本且广泛使用的图表——在数据科学和其他领域:</p>



<ol><li>折线图</li><li>条形图</li><li>柱状图</li><li>箱形图</li><li>散点图</li><li>热图</li></ol>



<p>在试图做出准确假设的同时，我们需要最好的工具来探索和可视化数据。市场上有几种可用的工具和库。记住所有的库几乎是不可能的，决定使用哪一个库可能会令人困惑。这篇文章的目的是:</p>



<ul><li>总结一些最好的数据探索和可视化工具——<a href="#matplotlib" rel="nofollow">Matplotlib</a>，<a href="#sklearn" rel="nofollow"> scikit learn </a>，<a href="#plotly" rel="nofollow"> plotly </a>，<a href="#seaborn" rel="nofollow"> seaborn </a>，<a href="#pandas" rel="nofollow"> pandas </a>，<a href="#d3" rel="nofollow"> D3 </a>，<a href="#bokeh" rel="nofollow"> bokeh </a>，<a href="#altair" rel="nofollow"> altair </a>，<a href="#yellowbrick" rel="nofollow"> yellowbrick </a>，<a href="#folium" rel="nofollow">leaf</a>，<a href="#tableau" rel="nofollow"> tableau </a>。</li><li>通过一些例子熟悉这些工具</li><li>理解对可视化工具的需求</li><li>了解这些工具之间的区别以及如何选择</li></ul>















<div class="is-layout-flex wp-container-5 wp-block-columns are-vertically-aligned-center">
<div class="is-layout-flow wp-block-column is-vertically-aligned-center">
<p>引入Matplotlib是为了模仿MATLAB支持的所有图形，但形式更简单。多年来，图书馆增加了多种功能。不仅如此，许多可视化库和工具都建立在Matplotlib之上，具有新的、交互式的和吸引人的视觉效果。</p>
</div>




</div>



<p>要了解有关Matplotlib的更多信息，让我们使用数据集来解锁并了解一些函数的工作原理:</p>



<pre class="hljs">

<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
netflix_df = pd.read_csv(<span class="hljs-string">'netflix_titles.csv'</span>)
netflix_df.head(<span class="hljs-number">2</span>)
</pre>







<p>我们有内容类型、标题、添加日期和其他信息。但是我们想用这些信息做什么呢？我们可以找到网飞有多少节目和电影(根据数据集)，或者我们可以看到哪个国家制作了更多的内容。</p>



<pre class="hljs">
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt


counts = netflix_df[<span class="hljs-string">"type"</span>].value_counts()
plt.bar(counts.index, counts.values)
plt.show()
</pre>







<p>在上面的代码中，你可以看到我们已经将matplot的<strong> pyplot </strong>作为plt导入。每个pyplot函数对图形进行一些更改——创建图形、创建绘图区域、绘制一些线、在图中引入标签等。然后，我们使用pyplot作为plt来调用条形图，并将数据可视化。</p>



<p>这里需要记住的一点是，每次创建新的绘图时，我们都必须使用plt.show()命令。如果想避免这种重复的任务，可以在导入matplotlib后使用下面的命令。</p>



<pre class="hljs">%matplotlib inline</pre>



<p>除了创建简单的条形图之外，您还可以做很多事情。您可以提供x和y标签，或者您可以根据它们的值给条形赋予不同的颜色。您可以选择更改标记、线型和宽度，添加或更改文本、图例和注释，更改地块的限制和布局，等等。</p>



<p>我们也可以使用Matplotlib来发现数据中的异常。让我们尝试创建一个定制的情节。</p>



<pre class="hljs"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_boston
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

boston = load_boston()
x = boston.data
y = boston.target
columns = boston.feature_names

boston_df = pd.DataFrame(boston.data)
boston_df.columns = columns

fig = plt.figure(figsize =(<span class="hljs-number">10</span>, <span class="hljs-number">7</span>))

ax = fig.add_axes([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>])
ax.set_xlabel(<span class="hljs-string">'Distance'</span>)

bp = ax.boxplot(boston_df[<span class="hljs-string">'DIS'</span>])
plt.title(<span class="hljs-string">"Customized box plot"</span>)

plt.show()
</pre>







<p>因为这个包提供了灵活性，所以当你开始使用它时，选择甚至记住一些东西可能会有点棘手。幸运的是，<a href="https://web.archive.org/web/20221206032016/https://matplotlib.org/gallery.html" target="_blank" rel="noreferrer noopener nofollow">文档</a>包含现实生活中的例子，每个情节的相关细节，以及我们需要的所有其他信息。不要感到不知所措，只要记住一个问题可以有不止一个解决方案。</p>



<p>现在我们对Matplotlib有了一些了解，让我们讨论一下它的优点和缺点，以及哪些工具可以与它集成。</p>



<h4>优势</h4>



<ul><li>快速高效，基于NumPy和SciPy构建。</li><li>让你完全控制你的图表和情节，你可以做一些改变，使你的视觉效果更容易理解。</li><li>大型社区和跨平台支持，它是一个开源库。</li><li>几个高质量的绘图和图表。</li></ul>



<h4>不足之处</h4>



<ul><li>没有互动剧情，只有静态剧情。</li><li>制作定制图时，需要大量重复的代码。</li><li>您可以完全控制每一步的图形，因此您必须定义一个matplotlib函数，这可能很耗时。</li></ul>



<h4>Matplotlib集成</h4>



<p>很多流行的Python可视化库都是基于Matplotlib构建的。例如，seaborn使用matplotlib来显示图形创建后的绘图。不仅仅是这样，很多工具也集成了<a href="https://web.archive.org/web/20221206032016/https://docs.neptune.ai/integrations-and-supported-tools/model-visualization-and-debugging/matplotlib" target="_blank" rel="noreferrer noopener">Matplotlib——<strong>Neptune . ai</strong>T3】就是其中之一。</a></p>



<h4>成就</h4>



<p>第一张黑洞图像是用NumPy和Matplotlib制作的。它也用于体育数据分析。</p>







<div class="is-layout-flex wp-container-8 wp-block-columns">
<div class="is-layout-flow wp-block-column">
<p>Scikit learn是由David Cournapeau在Google Summer code项目中开发的。后来，在2010年，FIRCA把它带到了另一个水平，并发布了该库的测试版。Scikit learn已经走过了漫长的道路，现在它是最有用的健壮库。它是在NumPy、SciPy和Matplotlib之上用Python构建的。</p>
</div>




</div>



<p>它并不专注于任何数据科学项目的一个方面，而是提供了大量用于数据清理、管理、建模等的有效工具。</p>



<p>它拥有以下工具:</p>



<ol><li>分类</li><li>回归</li><li>使聚集</li><li>降维</li><li>型号选择</li><li>预处理</li></ol>



<p>数据探索和可视化适合哪里？Scikit Learn提供了一系列工具来满足探索性数据分析的要求——发现问题并通过转换原始数据来恢复问题。</p>



<p>如果您正在寻找数据集进行实验，Scikit learn有一个数据集模块，其中有一些流行的数据集集合。您可以像下面这样加载数据集，并且您不必将它下载到本地机器上。</p>



<pre class="hljs"> <span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_iris
 data = load_iris()
</pre>



<p>Scikit learn在进行预处理(即清洁和处理。假设您的数据集中几乎没有缺失值。有两种处理方法:</p>



<ol><li>删除所有缺少值的行/列，</li><li>输入一些值。</li></ol>



<p>删除行/列并不总是一个好的选择，所以我们估算值——零、平均值等。</p>



<p>让我们看看如何使用scikit的impute模块来实现这一点。</p>



<pre class="hljs">
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
X = pd.DataFrame(
    np.array([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>, np.NaN, np.NaN, np.NaN, <span class="hljs-number">-7</span>,
              <span class="hljs-number">0</span>,<span class="hljs-number">50</span>,<span class="hljs-number">111</span>,<span class="hljs-number">1</span>,<span class="hljs-number">-1</span>, np.NaN, <span class="hljs-number">0</span>, np.NaN]).reshape((<span class="hljs-number">10</span>,<span class="hljs-number">3</span>)))
X.columns = [<span class="hljs-string">'feature1'</span>, <span class="hljs-string">'feature2'</span>, <span class="hljs-string">'feature3'</span>]


<span class="hljs-keyword">from</span> sklearn.impute <span class="hljs-keyword">import</span> SimpleImputer
imp_mean = SimpleImputer(missing_values=np.nan, strategy=<span class="hljs-string">'mean'</span>)
imp_mean.fit_transform(df)
</pre>







<p>上面，我们使用了一个简单的估算器模块来创建一个估算器，用平均值替换空值。Scikit learn是唯一一款拥有几乎所有功能/模块的工具。没有其他工具像Scikit learn一样提供简单的输入模块。</p>



<p>当涉及到特性缩放或归一化分布时，Scikit learn在预处理模块中有可用的函数:StandardScalar、MinMaxScalar等。它也有功能工程模块。Scikit只处理数字数据，所以您需要将分类变量转换成数字来浏览数据。</p>



<p>scikit learn在数据探索方面处于领先地位，但在数据可视化方面用处很小。可视化模块仅用于可视化指标，如混淆指标、权衡曲线、roc曲线或召回精度曲线。在下一个例子中，我们将看到如何使用可视化功能。</p>



<pre class="hljs"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets
<span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split
iris = datasets.load_iris()
X = iris.data
y = iris.target
class_names = iris.target_names


X_train,X_test,y_train,y_test=train_test_split(
        X,y,test_size=<span class="hljs-number">0.25</span>, random_state=<span class="hljs-number">0</span>)

<span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression
<span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> plot_confusion_matrix


lr=LogisticRegression(C=<span class="hljs-number">1</span>,random_state=<span class="hljs-number">0</span>)
lr.fit(X_train,y_train)


plot_confusion_matrix(lr, X_test, y_test,display_labels=class_names,
                                 cmap=plt.cm.Blues)
plt.show()
</pre>







<p>尽管Scikit有一些可视化模块，但它仍然不支持任何回归问题的可视化。但是，毫无疑问，它是最有效、最容易适应的数据挖掘工具。</p>



<h4>优势</h4>



<ul><li>开源。</li><li>强大的社区支持。</li><li>随时可用的高效和最佳性能的数据探索实用程序。</li><li>Scikit learn APIs可用于将其工具集成到不同的平台中。</li><li>提供可用于自动化机器学习工作流的管道实用程序。</li><li>易于使用，它是一个完整的包，依赖于少量的库。</li></ul>



<h4>不足之处</h4>



<ul><li>Scikit learn只处理数字数据，必须对分类数据进行编码。</li><li>它的灵活性很低，而使用任何函数时，除了所提供的参数之外，你不能改变任何东西。</li></ul>











<div class="is-layout-flex wp-container-11 wp-block-columns are-vertically-aligned-center">
<div class="is-layout-flow wp-block-column is-vertically-aligned-center">
<p>之前的两个工具没有任何交互式可视化。这些工具大部分都是用Python构建的，在视觉效果方面灵活性有限。</p>



<p>Plotly开发在线数据分析和可视化工具。它为Python、R和MATLAB等不同平台和框架提供了图形和分析工具。它有一个数据可视化库plotly.js，这是一个用于创建图表的开源js库。为了让Python使用它的实用程序，plotly.py构建在它的基础上。</p>
</div>




</div>



<p>它支持40多种独特的图表类型，涵盖统计、金融、地理、科学和3D用例。它使用D3.js，HTML和CSS，这有助于集成许多交互式功能，如放大和缩小，或鼠标悬停。</p>



<p>让我们看看如何使用plotly在情节中引入交互性。</p>



<pre class="hljs">
pip install plotly==<span class="hljs-number">4.14</span><span class="hljs-number">.3</span>


<span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

iris = datasets.load_iris()
iris_df = pd.DataFrame(iris.data)
iris_df.columns  = [<span class="hljs-string">'Sepal.Length'</span>,<span class="hljs-string">'Sepal.Width'</span>,<span class="hljs-string">'Petal.Length'</span>,<span class="hljs-string">'Petal.Width'</span>]


<span class="hljs-keyword">import</span> plotly.graph_objs <span class="hljs-keyword">as</span> go
data = [go.Histogram(x=iris.data[:,<span class="hljs-number">0</span>])]
layout = go.Layout( title=<span class="hljs-string">'Iris Dataset - Sepal.Length'</span>, xaxis=dict(title=<span class="hljs-string">'Sepal.Length'</span>), yaxis=dict(title=<span class="hljs-string">'Count'</span>) )
fig = go.Figure(data=data, layout=layout)
fig</pre>







<p>你可以在上面看到，plotly的plot可以让你保存图像，放大和缩小，自动缩放等等。您还可以看到，在鼠标悬停后，我们可以看到x轴和y轴的值。</p>



<p>让我们使用plotly绘制更多的图表，以了解它如何帮助最终用户。</p>



<p>为了理解变量之间的关系，我们需要一个散点图，但当我们有许多数据点时，很难读懂这个图。鼠标悬停功能有助于轻松读取数据。</p>



<pre class="hljs">data = [go.Scatter(x = iris_df[<span class="hljs-string">"Sepal.Length"</span>],y = iris_df[<span class="hljs-string">"Sepal.Width"</span>],mode = <span class="hljs-string">'markers'</span>)]
layout = go.Layout(title=<span class="hljs-string">'Iris Dataset - Sepal.Length vs Sepal.Width'</span>, xaxis=dict(title=<span class="hljs-string">'Sepal.Length'</span>), yaxis=dict(title=<span class="hljs-string">'Sepal.Width'</span>))
fig = go.Figure(data=data, layout=layout)
fig</pre>







<p>如果你希望你的图表具有交互性、吸引力和可读性，plotly就是你的答案。</p>



<h4>优势</h4>



<ul><li>你可以在JavaScript不知道的情况下用它构建交互式的情节。</li><li>Plotly允许你公开分享情节，甚至不需要分享你的代码。</li><li>简单的语法，几乎所有的图都使用相同的参数序列。</li><li>你不需要任何技术知识来使用plotly，你可以使用图形用户界面来创建视觉效果。</li><li>为3D绘图提供多种交互式工具。</li></ul>



<h4>不足之处</h4>



<ul><li>当我们试图创建复杂的地块时，布局定义变得复杂。</li><li>与其他工具不同，它根据工具限制每天的API调用。</li><li>公共图表的可用性可能是一个好处，但对其他人来说可能是一个问题。</li></ul>











<div class="is-layout-flex wp-container-14 wp-block-columns are-vertically-aligned-center">
<div class="is-layout-flow wp-block-column is-vertically-aligned-center">
<p>Matplotlib是很多工具的基础，Seaborn就是其中之一。在Seaborn，您可以用最少的努力创建有吸引力的图表。它为常见的统计图提供了高级功能，以使其信息丰富且具有吸引力。</p>
</div>




</div>



<p>它与pandas紧密集成，并接受pandas数据结构格式的输入。Seaborn没有重新实现任何情节，但调整了Matplotlib的功能，使我们可以通过提供最少的参数来使用这些情节。</p>



<p>Seaborn从Matplotlib收集了一些常见的图，并对它们进行了分类:关系图(replot)、分布图(displot)和分类图(catplot)。</p>



<ol><li>回复图–散点图、线图</li><li>disp plot-hist plot、kdeplot、ecdfplot、rugplot</li><li>catplot卡通、全彩、方块式出图、violinplot出图、pointplot、barplot</li></ol>



<p>如果我们可以直接使用它们，为什么还要对情节进行分类呢？转折来了！Seaborn允许您直接使用分类绘图，这被称为轴级绘图。这些图与histplot()、lineplot()一样，都是独立的图，是Matplotlib的直接替代，尽管它们允许自动添加轴标签和图例等一些更改。当你想一起使用两个图，或玩更多，使定制的图，你需要使用图类别:图级绘图。</p>



<p>让我们尝试一些情节，看看seaborn是多么容易。</p>



<pre class="hljs">
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
breast_cancer_df = pd.read_csv(<span class="hljs-string">"data.csv"</span>)


plt.figure(figsize= (<span class="hljs-number">10</span>,<span class="hljs-number">10</span>), dpi=<span class="hljs-number">100</span>)
sns.heatmap(breast_cancer_df.corr())</pre>







<p>只需两行就能创建热图！现在我们将尝试一些我们已经用其他工具尝试过的图。</p>



<pre class="hljs">
plt.figure(figsize=(<span class="hljs-number">8</span>,<span class="hljs-number">5</span>))
ax = sns.countplot(x=<span class="hljs-string">"diagnosis"</span>, data=breast_cancer_df)
plt.show()</pre>







<p>我们只是创建了一个计数图，没有计算任何东西，与Matplotlib非常不同。</p>



<p>图书馆不仅仅限于上述地块。它还具有joinplot、subplot或regplot函数，可以帮助用最少的代码创建定制的和统计的图。</p>



<h4>优势</h4>



<ul><li>您可以轻松定制情节。</li><li>默认方法比Matplotlib更具视觉吸引力。</li><li>有一些Matplotlib没有的内置情节:facet和regression。对于回归，用一个函数你可以创建回归线，置信区间和散点图。</li><li>与matplotlib相比，Seaborn可以很好地处理pandas数据结构。</li></ul>



<h4>不足之处</h4>



<ul><li>没有互动情节。</li><li>Seaborn易于可视化，并且更容易从多个图表中获得洞察力。</li><li>自动创建多个图形，这有时会导致OOM(内存不足)问题。</li></ul>







<div class="is-layout-flex wp-container-17 wp-block-columns are-vertically-aligned-center">
<div class="is-layout-flow wp-block-column is-vertically-aligned-center">
<p>Python中最流行的用于数据分析和操作的库之一。它最初是作为一种对财务数据进行定量分析的工具。正因为如此，它在时序用例中非常流行。</p>
</div>




</div>



<p>大多数数据科学家或分析师处理表格格式的数据，如。csv，。xlsx等。Pandas提供了类似SQL的命令，使得加载、处理和分析数据变得更加容易。它支持两种类型的数据结构:序列和数据帧。这两种数据结构可以保存不同的数据类型。Series是一维索引数组，dataframe是二维数据结构——表格格式，在处理现实生活中的数据时很流行。</p>



<p>让我们看看如何定义series和dataframe，并了解一些特性。</p>



<pre class="hljs">
ser1=pd.Series(breast_cancer_df[<span class="hljs-string">'area_mean'</span>])
ser1.head()</pre>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/911bc1f1c63e780e5270051549b5cfff.png" alt="Pandas dataframe" class="wp-image-41527" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221206032016im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/Pandas-dataframe-1.png?ssl=1"/></figure>



<p>你可以执行几乎所有的操作，使用我们将在熊猫系列中进一步讨论的所有功能。您还可以为您的系列提供索引。</p>



<pre class="hljs">data = pd.Series([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>,<span class="hljs-number">7</span>], index=[<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>, <span class="hljs-string">'d'</span>])
data</pre>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/2e0934c8bb8da220888c5f575f05d468.png" alt="Pandas dataframe" class="wp-image-41528" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221206032016im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/Pandas-dataframe-2.png?ssl=1"/></figure>



<p>另外，你可以传递字典数据(键值对象)，它也可以被转换成序列。</p>



<pre class="hljs">
breast_cancer_df.describe()</pre>







<p>只需一行代码，我们就可以查看数据。这就是熊猫的力量。</p>



<p>假设我们想要创建主数据帧的子集，这也可以用几行代码来完成。</p>



<pre class="hljs">subset_df=breast_cancer_df[[<span class="hljs-string">"id"</span>, <span class="hljs-string">"diagnosis"</span>]]
subset_df</pre>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/571110e285f8bc5bfe5173488c5caa25.png" alt="Pandas dataframe " class="wp-image-41530" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221206032016im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/Pandas-dataframe-3.png?ssl=1"/></figure>



<pre class="hljs">

print(<span class="hljs-string">"print data for one column id: "</span>,breast_cancer_df[<span class="hljs-string">"id"</span>])
print(<span class="hljs-string">"print all the data for one row: "</span>,breast_cancer_df.iloc[<span class="hljs-number">3</span>])</pre>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/236f7a6b110eef0f7913a9d05ef9aa4f.png" alt="Pandas dataframe 3" class="wp-image-41531" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221206032016im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/Pandas-dataframe-4.png?ssl=1"/></figure>



<p><strong>让我们看看熊猫是如何处理缺失数据的，首先检查哪一列有缺失值。</strong></p>



<pre class="hljs">data = {<span class="hljs-string">'Col1'</span>: [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,np.nan,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,np.nan,np.nan,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>,np.nan],
        <span class="hljs-string">'Col2'</span>: [<span class="hljs-string">'a'</span>,<span class="hljs-string">'b'</span>,np.nan,np.nan,<span class="hljs-string">'c'</span>,<span class="hljs-string">'d'</span>,<span class="hljs-string">'e'</span>,np.nan,np.nan,<span class="hljs-string">'f'</span>,<span class="hljs-string">'g'</span>,np.nan,<span class="hljs-string">'h'</span>,<span class="hljs-string">'i'</span>]
        }
df = pd.DataFrame(data,columns=[<span class="hljs-string">'Col1'</span>,<span class="hljs-string">'Col2'</span>])
df.info()</pre>



<figure class="wp-block-image size-large"><img decoding="async" src="../Images/aa337bcced8947ffdb5ce2eebe1983c1.png" alt="Pandas dataframe " class="wp-image-41532" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221206032016im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/Pandas-dataframe-5.png?ssl=1"/></figure>



<p>非空计数列将显示有多少非空值可用。您可以删除具有空值的行或估算一些值。</p>







<p>我们可以用不同的方式处理字符串值，但是我们不会深入到那个细节层次。我们也可以使用熊猫进行统计计算，如计算平均值、平均数、中位数等。有许多字符串函数可用，如覆盖小写/大写、子串、替换字符串和使用正则表达式进行模式匹配。</p>



<p>Pandas提供了查看数据(头部或尾部)、创建子集、搜索和排序、查找变量之间的相关性、处理缺失数据、整形-连接、合并等功能。</p>



<p>不仅如此，熊猫还有可视化工具。然而，它只画基本的情节，但是它们很容易使用。与Matplotlib或其他工具不同，您只需提供一个额外的命令plt.show()来打印绘图。</p>



<pre class="hljs">breast_cancer_df[[<span class="hljs-string">'area_mean'</span>,<span class="hljs-string">'radius_mean'</span>,<span class="hljs-string">'perimeter_mean'</span>]].plot.box()
</pre>







<p>上面的图是用一行命令识别异常值。它还允许您改变图的颜色、标签等。</p>



<pre class="hljs">corr = breast_cancer_df[[<span class="hljs-string">'area_mean'</span>,<span class="hljs-string">'radius_mean'</span>,<span class="hljs-string">'perimeter_mean'</span>]].corr()
corr.style.background_gradient(cmap=<span class="hljs-string">'coolwarm'</span>).set_precision(<span class="hljs-number">2</span>)
</pre>







<p>上面的两个图表很容易创建，但是想象一下，如果我们想要为乳腺癌数据创建一个条形图，并且想要知道每种诊断类型的计数。我们首先需要找到计数，然后只能绘制箱线图。熊猫不提供定制剧情。为了使用您选择的绘图，您必须首先处理数据，然后将适当的数据输入绘图函数。</p>



<h4>优势</h4>



<ul><li>数据的可读表示。</li><li>广泛的文件格式兼容性。</li><li>一个广泛的功能集可用，如SQL格式加入，合并和过滤数据。</li><li>高效处理大型数据集。</li><li>支持常见的可视化图形和绘图。</li></ul>



<h4>不足之处</h4>



<ul><li>与3D数据兼容性差。</li><li>与NumPy相比，消耗更多内存。</li><li>序列对象的索引速度较慢。</li></ul>











<div class="is-layout-flex wp-container-25 wp-block-columns are-vertically-aligned-center">
<div class="is-layout-flow wp-block-column is-vertically-aligned-center">
<p>D3.js是一个JavaScript库，用于在web浏览器中创建动态和交互式可视化。它使用HTML、CSS和SVG来创建数据的可视化表示。D3代表数据驱动文档，它是由Mike Bostock创建的。它是在线分析数据可视化的最佳工具之一，因为它通过结合可视化组件和数据驱动方法来操纵DOM。</p>
</div>




</div>



<p>我们可以使用Django或Flask web框架来创建一个网站。这样，我们可以利用Python的简单性和D3惊人的情节集合。Python将作为后端系统工作，D3可以为前端集成HTML、CSS和SVG。如果您的需求是创建一个仪表板，您可以简单地使用您想要分析的数据并使用D3.js来显示它。</p>



<p>在这里用D3代码解释一个网站、网页或仪表板的例子可能有点困难，但是让我们看看D3提供了什么。</p>



<p>首先，具有美学上令人愉悦的圆形布局的关系可视化或网络流可以编码为–<a href="https://web.archive.org/web/20221206032016/https://observablehq.com/d/a06b822a0d30ef51?collection=@d3/d3-chord" target="_blank" rel="noreferrer noopener nofollow">弦图</a>,并且该代码的结果可以让读者赏心悦目</p>







<p>将负面类别堆叠在左边，正面类别堆叠在右边的图表。</p>







<p>用下面的图表，你可以看到层次和大小将随着你改变深度而调整。你可以在这里找到源代码<a href="https://web.archive.org/web/20221206032016/https://observablehq.com/@sharmanatasha/hello-schema-org" target="_blank" rel="noreferrer noopener nofollow">。</a></p>







<p>D3有大量的情节，你很少需要从头开始编码。你可以选择任何情节，做你想要的改变。尽管毫无疑问你将不得不写很多代码，但是更多的代码意味着更大的灵活性。</p>



<h4>优势</h4>



<ul><li>D3是灵活的，它不提供特定的特性，并且让你完全控制创建你选择的可视化。</li><li>高效，可以处理大型数据集。</li><li>D3是数据驱动的文档，这使得它更适合数据可视化，是数据可视化的最佳工具。</li><li>它配有大约200k的视觉效果。</li></ul>



<h4>不足之处</h4>



<ul><li>它应该用于在线分析。</li><li>生成一个D3可视化是非常耗时的。</li><li>由于语法复杂，它有一个陡峭的学习曲线。</li><li>不能用于笔记本电脑，仅专注于基于网络的分析。</li></ul>







<div class="is-layout-flex wp-container-28 wp-block-columns are-vertically-aligned-center">
<div class="is-layout-flow wp-block-column is-vertically-aligned-center">
<p>Bokeh是一个Python数据可视化库，允许用户生成交互式图表和绘图。类似于plotly，因为这两个库都允许您创建JavaScript支持的图表和绘图，而无需编写任何JS代码。Bokeh像plotly和D3.js一样给出主动交互支持，像缩放、平移、选择、保存剧情。</p>
</div>




</div>



<p>Bokeh有两个不同的接口/层，这让开发人员可以根据他们的需要和他们想花多少时间编码来组合它们。下面我们通过一些例子来了解一下这些接口的区别和用法。</p>



<h4>散景模型</h4>



<p>这为开发人员提供了一个底层接口。可以通过设置各种属性的值来配置图表。这样，开发人员可以根据需要操作属性。</p>



<pre class="hljs"><span class="hljs-keyword">from</span> bokeh.models <span class="hljs-keyword">import</span> HoverTool


hover = HoverTool(
        tooltips=[
            (<span class="hljs-string">"(x,y)"</span>, <span class="hljs-string">"($x, $y)"</span>),
        ]
    )

p = figure(plot_width=<span class="hljs-number">400</span>, plot_height=<span class="hljs-number">400</span>, tools=[hover])

p.triangle([<span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], size=[<span class="hljs-number">10</span>, <span class="hljs-number">15</span>, <span class="hljs-number">20</span>, <span class="hljs-number">25</span>, <span class="hljs-number">30</span>], color=<span class="hljs-string">"blue"</span>)

show(p)
</pre>







<h4>散景.绘图</h4>



<p>在这个界面中，你可以自由地通过组合视觉元素来创建情节:圆形、三角形、线条等。，并添加交互工具:缩放、跨越等。交互元素将在bokeh.model的帮助下添加。</p>



<pre class="hljs"><span class="hljs-keyword">from</span> bokeh.io <span class="hljs-keyword">import</span> output_notebook, show
<span class="hljs-keyword">from</span> bokeh.plotting <span class="hljs-keyword">import</span> figure 
output_notebook() 


p = figure(plot_width=<span class="hljs-number">400</span>, plot_height=<span class="hljs-number">400</span>)

p.triangle([<span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>], [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], size=[<span class="hljs-number">10</span>, <span class="hljs-number">15</span>, <span class="hljs-number">20</span>, <span class="hljs-number">25</span>, <span class="hljs-number">30</span>], color=<span class="hljs-string">"blue"</span>)

show(p)</pre>







<p>还有一个叫做bokeh.chart的界面，它有预建的视觉效果，比如折线图、条形图、面积图、热图，但它已经被弃用了。</p>



<p>在许多方面，散景都是数据可视化的一个好选择，因为它为您提供了Matplotlib的简单性和使您的图表更具交互性的选项。</p>



<h4>优势</h4>



<ul><li>它提供了一个低级界面的选择，开发者/分析师将有更大的灵活性来改变图形。</li><li>允许您转换Matplotlib、ggplot.py和seaborn的图表和绘图。</li><li>互动剧情。</li><li>可以将图导出为PNG和SVG文件格式。</li><li>散景产生不同格式的输出–html、笔记本和服务器。</li></ul>



<h4>不足之处</h4>



<ul><li>提供有限的交互选项。</li><li>还没有一个大的支持社区，正在经历许多开发。</li><li>没有3D图形功能。</li><li>您必须在创建任何图之前定义输出模式，即。笔记本电脑、服务器和网络浏览器模式。</li></ul>











<div class="is-layout-flex wp-container-31 wp-block-columns are-vertically-aligned-center">
<div class="is-layout-flow wp-block-column is-vertically-aligned-center">
<p>Altair是一个声明式数据可视化库。它构建在vega lite上，允许您通过定义JSON格式的属性来创建数据分析的可视化。你不用写任何json声明，而是Python。Altair将输入转换为vega lite的字典格式。</p>
</div>




</div>



<p>它基本上是vega lite的Python接口。Altair支持图表定义中的数据转换。</p>



<p>Altair提供内置图表。条形图，折线图，面积图，直方图，散点图等。让我们画一些图来看看Altair如何帮助我们通过视觉来探索数据。</p>



<pre class="hljs"><span class="hljs-keyword">import</span> altair <span class="hljs-keyword">as</span> alt
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd


source = pd.DataFrame({
    <span class="hljs-string">'a'</span>: [<span class="hljs-string">'Col1'</span>, <span class="hljs-string">'Col2'</span>, <span class="hljs-string">'Col3'</span>,<span class="hljs-string">'Col4'</span>, <span class="hljs-string">'Col5'</span>, <span class="hljs-string">'Col6'</span>],
    <span class="hljs-string">'b'</span>: [<span class="hljs-number">28</span>, <span class="hljs-number">55</span>, <span class="hljs-number">43</span>, <span class="hljs-number">50</span>, <span class="hljs-number">30</span>, <span class="hljs-number">99</span>]
})


alt.Chart(source).mark_bar().encode(
    x=<span class="hljs-string">'a'</span>,
    y=<span class="hljs-string">'b'</span>
)</pre>







<p>您可以看到Altair为您提供了保存图像、查看源(数据)和在vega中编辑图表的选项。当您在vega编辑器中打开图表时，您将看到以下内容。</p>







<p>您的Python代码将被翻译成JSON格式，以便您在vega中使用它。Altair提供的不仅仅是简单的图表，它允许您组合两个图表并在它们之间创建依赖关系。</p>



<h4>优势</h4>



<ul><li>简单易用，因为它建立在vega lite可视化语法之上。</li><li>产生有效且吸引人的可视化效果只需要最少的代码。</li><li>为您提供了在vega lite中编辑图形的选项。</li><li>让您专注于理解数据，而不是纠结于显示数据。</li></ul>



<h4>不足之处</h4>



<ul><li>提供交互式图表，但与大多数工具不在同一级别。</li><li>不支持三维可视化。</li></ul>











<p>YellowBrick是一个机器学习可视化库，有两个主要依赖项:Scikit learn和Matplotlib。它高度关注特征工程和评估ML模型性能。它具有以下可视化功能:</p>



<ol><li>特征可视化器–异常值、数据分布、降维、等级特征</li><li>目标可视化器–训练数据中的特征相关性、类别平衡</li><li>回归可视化工具–残差图、预测检查、参数选择</li><li>分类可视化工具——ROC、AUC、混淆矩阵</li><li>聚类可视化工具–肘方法、距离图、轮廓</li><li>模型选择–交叉验证、学习曲线、功能重要性、功能消除</li><li>文本建模可视化工具——标记频率、语料库分布、离差图</li><li>非scikit的可视化工具–缺失值，散点图</li></ol>



<p>该列表可以帮助您确定哪个图/实用程序应该用于哪种需求。为了更好地了解YellowBrick，我们来看一些例子。</p>



<pre class="hljs"><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeClassifier
<span class="hljs-keyword">from</span> yellowbrick.features <span class="hljs-keyword">import</span> FeatureImportances

clf = DecisionTreeClassifier()
viz = FeatureImportances(clf)
viz.fit(X_sample, y_sample)
viz.poof()</pre>







<p>看起来YellowBrick是数据建模之前、期间和之后的数据探索的结合。这是一个真正意义上的数据探索工具。</p>



<h4>优势</h4>



<ul><li>它使许多工作更容易，如功能选择，超参数调整，或模型评分。</li><li>在Yellowbrick的帮助下，数据科学家可以快速轻松地评估他们的模型。</li><li>唯一进行模型可视化的可视化工具。</li></ul>



<h4>不足之处</h4>



<ul><li>不支持交互式可视化。</li><li>不支持三维绘图。</li></ul>







<div class="is-layout-flex wp-container-34 wp-block-columns are-vertically-aligned-center">
<div class="is-layout-flow wp-block-column is-vertically-aligned-center">
<p>Folium是一个用于可视化地理空间数据的Python库，是js库fleed . JS的包装器。fleed . JS是一个用于交互式地图的开源JS库。follow采用了Python的数据角力和fleet . js的映射特性。</p>



<p>该库使用来自OpenStreetMap、MapBox、Cloudmade API的tilesets。您可以通过添加切片图层、绘制标记、显示方向来自定义地图。在插件的帮助下，Folium确实可以帮助开发者轻松创建定制地图。</p>
</div>




</div>



<p>在地图上可视化地理空间数据有助于更好地理解数据。您可以获得位置数据点的可视化表示，并且它们很容易与世界联系起来。像许多疾病案例一样，在地图上显示国家、州和城市的信息有助于更容易地包含信息。</p>



<p>让我们用叶子画出我们的第一张地图，看看它有多简单。</p>



<pre class="hljs"><span class="hljs-keyword">import</span> folium
<span class="hljs-keyword">from</span> folium.plugins <span class="hljs-keyword">import</span> MarkerCluster
m = folium.Map(location=[<span class="hljs-number">28.7041</span>, <span class="hljs-number">77.1025</span>], zoom_start=<span class="hljs-number">10</span>)
popup = <span class="hljs-string">"Delhi"</span>
marker = folium.Marker([<span class="hljs-number">28.7041</span>, <span class="hljs-number">77.1025</span>], popup=popup)
m.add_child(marker)
m</pre>







<p>只需输入纬度和经度，我们就能画出地图并标记出来。让我们来看看，当您可以以不同格式查看地图时，我们如何添加功能。让我们添加瓷砖层。</p>



<pre class="hljs"><span class="hljs-keyword">import</span> folium
<span class="hljs-keyword">from</span> branca.element <span class="hljs-keyword">import</span> Figure
<span class="hljs-keyword">from</span> folium.plugins <span class="hljs-keyword">import</span> MarkerCluster

popup = <span class="hljs-string">"Delhi"</span>
fig=Figure(width=<span class="hljs-number">500</span>,height=<span class="hljs-number">300</span>)
m = folium.Map(location=[<span class="hljs-number">28.7041</span>, <span class="hljs-number">77.1025</span>])
fig.add_child(m)
folium.TileLayer(<span class="hljs-string">'Stamen Terrain'</span>).add_to(m)
folium.TileLayer(<span class="hljs-string">'Stamen Toner'</span>).add_to(m)
folium.TileLayer(<span class="hljs-string">'Stamen Water Color'</span>).add_to(m)
folium.LayerControl().add_to(m)
m
</pre>







<p>Folium让开发者更容易避免使用谷歌地图、在地图上放置标记和显示方向的麻烦。在leav中，你可以只导入几个库，画一个地图，然后专注于输入和理解数据。</p>







<div class="is-layout-flex wp-container-37 wp-block-columns are-vertically-aligned-center">
<div class="is-layout-flow wp-block-column is-vertically-aligned-center">
<p>Tableau是最好的数据可视化工具之一。组织、管理、可视化和理解数据极其容易。它有简单的拖放功能，但也有工具可以帮助发现模式和发现数据的洞察力。</p>
</div>




</div>



<p>使用Tableau，您可以创建一个仪表板，它只不过是不同视觉效果的集合。仪表板就像一个故事板，您可以在其中包含多个图，使用各种布局和格式，并轻松启用过滤器来选择特定数据。例如，您可以创建一个仪表板来检查品牌营销活动的表现。</p>



<p>在Python中集成不同类型的数据源可能需要大量的编码和工作，但使用Tableau这样的商业智能工具，这将是一项点击式的工作。它有许多数据连接器，如Amazon Athena、Redshift、Google Analytics、Salesforce等。</p>



<p>这是一个商业智能工具，对管理数据的支持有限，但它允许分析师使用Python或r。通过使用脚本编程，分析师可以向Tableau提供干净的数据，并创建更好的视觉效果。要将Python与Tableau联系起来，你可以在Tableau的网站上查看这个博客。</p>



<p>这是一个典型的Tableau仪表板的例子，它看起来不像一个剪报吗？</p>







<h4>优势</h4>



<ul><li>Tableau可以轻松处理大型数据集，同时还能提供更快的计算速度。</li><li>它有大量的图表。</li><li>它的效率，你的阴谋往往只是几个点击。</li><li>允许您结合Python来执行复杂的任务并改进可视化。</li><li>支持各种数量的数据源。</li><li>有网页版和桌面版。</li></ul>



<h4>不足之处</h4>



<ul><li>桌面版可能很贵。</li><li>Tableau的网页版是公开的，这可能会引起一些安全问题。</li><li>当您处理通过http请求的数据时，比如xml、JSON，这可能是一个挑战。</li></ul>



<h2 id="h-conclusion">结论</h2>



<p>市场上有许多工具和库，我们根据自己的需求、能力和预算来选择它们。在整篇文章中，我讨论了一些用于数据探索和可视化的最佳工具。这些工具中的每一个都有自己的最佳方式，它们有自己的系统和结构来更深入地挖掘数据并理解数据。</p>



<p>数据探索对于业务、管理和数据分析师来说非常重要。没有探索，你会经常发现自己处于盲点。所以，在你做任何重大决定之前，分析可能发生的事情，或者过去发生的事情是一个好主意。换句话说，可视化您的数据以做出更好的决策。</p>
        </div>
        
    </div>    
</body>
</html>