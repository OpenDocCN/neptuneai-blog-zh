<html>
<head>
<title>Your First MLOps System: What Does Good Look Like? With Andy McMahon </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>你的第一个MLOps系统:好看起来像什么？和安迪·麦克马洪一起</h1>
<blockquote>原文：<a href="https://web.archive.org/web/https://neptune.ai/blog/first-mlops-system-with-andy-mcmahon#0001-01-01">https://web.archive.org/web/https://neptune.ai/blog/first-mlops-system-with-andy-mcmahon#0001-01-01</a></blockquote><div><div class="l-content content-wrapper js-content">
            
<p>这篇文章最初是MLOps Live(T1)的一集，这是一个互动的Q(T2)环节，在这里，ML从业者回答来自其他ML从业者的问题。</p>



<p>每集都专注于一个特定的ML主题，在这一集里，我们和Andy McMahon谈论了你的第一个MLOps系统。</p>



<p>你可以在YouTube上观看:</p>



<figure class="wp-block-embed is-type-video is-provider-youtube wp-block-embed-youtube wp-embed-aspect-16-9 wp-has-aspect-ratio"><p class="wp-block-embed__wrapper"><iframe title="Your First MLOps System: What Does Good Look Like? With Andy McMahon" src="https://web.archive.org/web/20230106143950if_/https://www.youtube.com/embed/fge5I_SZu5Y?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="">视频</iframe></p></figure>



<p>或者作为播客在以下位置收听:</p>







<p>但如果你更喜欢书面版本，这里有！</p>



<p>您将了解到:</p>



<div id="case-study-numbered-list-block_8a967e7a702633b75755477c68a7229b" class="block-case-study-numbered-list ">

    
    <h2 id="h-"><span class="c-list__counter"> 1 </span>什么是MLOps系统？<br/></h2>

    <ul class="c-list">
                    <li class="c-list__item">好的MLOps系统是什么样的？<br/></li>
                    <li class="c-list__item"><span class="c-list__counter"> 3 </span>如何实现？</li>
                    <li class="c-list__item"><span class="c-list__counter"> 4 </span>如何扩展MLOps系统？</li>
                    <li class="c-list__item"><span class="c-list__counter"> 5 </span>还有更多！</li>
                    <li class="c-list__item"><strong> Sabine: </strong>今天，我们尊贵的客人<a href="https://web.archive.org/web/20230106143950/https://www.linkedin.com/in/andymcmahon629/" target="_blank" rel="noreferrer noopener nofollow"> Andy McMahon </a>加入了我们，我们的主题是“您的第一个MLOps系统”。好是什么样子的？”安迪，欢迎来到节目。</li>
            </ul>
</div>



<p>安迪·麦克马洪:非常感谢你邀请我。</p>



<p>安迪，你有一些有趣的教育背景。材料模拟科学硕士和物理学博士，然后你更多地进入了机器学习领域。你在数据科学和ML工程方面有很多经验。目前，你是银行和保险控股公司<a href="https://web.archive.org/web/20230106143950/https://www.natwestgroup.com/" target="_blank" rel="noreferrer noopener nofollow"> NatWest Group </a>的机器学习工程主管。你还出版了一本名为《用Python实现机器学习工程》的书，你正在做一个名为<a href="https://web.archive.org/web/20230106143950/https://open.spotify.com/show/4bRuzmU97MWPDTf2FxkEEc" target="_blank" rel="noreferrer noopener nofollow">“AI Right”</a>的播客。在机器学习领域，你还有什么没有做的吗？</p>



<p>安迪:谢谢。睡觉是主要的。</p>



<p>什么是MLOps系统？</p>



<h2 id="h-what-is-an-mlops-system">萨宾:很公平。我们真的希望你时不时能休息一下。好吧，让你先暖和一下，安迪，你能在一分钟内向我们解释一下MLOps系统吗？我们会给你计时。</h2>



<p>Andy: 对我来说，MLOps系统是一种软件解决方案，基本上可以让你对机器学习产品进行良好的操作实践。从某种意义上说，这意味着构建ML解决方案:</p>



<p><strong>Andy: </strong>To me, MLOps Systems are software solutions that basically allow you to do good operational practices for machine learning products. What that means, in a sense, is building ML solutions that are:</p>



<div id="case-study-numbered-list-block_e31f5f453ad68701c0af6b0619fe4ada" class="block-case-study-numbered-list ">

    
    <h2 id="h-"><span class="c-list__counter"> 1 </span>可重复使用，<br/></h2>

    <ul class="c-list">
                    <li class="c-list__item"><span class="c-list__counter"> 2 </span>可扩展，<br/></li>
                    <li class="c-list__item"><span class="c-list__counter"> 3 </span>且可重现。</li>
                    <li class="c-list__item">其中包含几个不同的子实践，其中一些非常重要，特别是对于机器学习软件解决方案，例如:</li>
            </ul>
</div>



<p>模型监控，</p>



<ul>
<li>你如何知道你的机器学习模型在适当的性能标准下运行？</li>



<li>你是如何重新训练的？</li>



<li>你如何触发再训练？</li>



<li>你多久再培训一次？</li>



<li>你安排了吗？</li>



<li>等等。</li>



<li>然后你还有模型管理实践。您需要<a href="/web/20230106143950/https://neptune.ai/blog/ml-metadata-store" target="_blank" rel="noreferrer noopener">跟踪和管理与您的模型工件</a>相关联的元数据，并确保它们被清楚地标记和表达。然后，所有这些都必须汇集在一套可持续的实践和流程中，这些实践和流程有一条非常清晰的生活路线，这样你就可以将机器学习模型从构思到生产。对我来说，这就是T2的MLOps T3系统。</li>
</ul>



<p><strong>萨宾:</strong>优秀。这仅仅是一分钟的几秒钟，它被很好地封装了。干得好。</p>



<p>好的MLOps系统是什么样子的？</p>



<h2 id="h-what-does-a-good-mlops-system-look-like">斯蒂芬:我也喜欢以试图理解什么是好看作为开场白，因为我认为这是我们在标题中强调的关键内容之一。什么是好的MLOps系统？尤其是当你第一次尝试构建它的时候。让我们从那里开始。</h2>



<p>安迪:我认为最重要的是确保它能让你的生活变得更轻松。</p>



<p>作为一个社区，我们能做的最糟糕的事情就是构建MLOps系统和解决方案，因为我们觉得我们必须这样做。仅仅因为它是最新的时尚或最新的趋势，我就应该整合MLOps工具或构建我自己的MLOps流程。不是这样的。你需要明白，我们正在从根本上解决一系列特定的问题。T3】</p>



<blockquote class="wp-block-quote">
<p>我认为，当你觉得你的MLOps系统和解决方案让你作为一名数据科学家或ML工程师的生活变得更加轻松时，才是好的。我想，通过聊天，我们将经历我可以经历的迭代，以及如何从小规模开始并扩大规模。</p>
</blockquote>



<p>从根本上来说，对我来说，如果这能让你的生活变得更轻松，你就做得很好。这可以以多种方式表现出来，你可以深入其中，但这可能只是开发者体验更容易，但你也可以看到像DevOps世界的<a href="https://web.archive.org/web/20230106143950/https://www.cloudbees.com/blog/dora-devops-metrics-bandwagon" target="_blank" rel="noreferrer noopener nofollow"> DORA metrics </a>这样的东西的上升。</p>



<p>Fundamentally for me, you’re doing this well if it’s making your life easier. That can manifest in multiple ways, which you can dive into, but it could just be a developer experience is easier, but also you see an uptick in things like the <a href="https://web.archive.org/web/20230106143950/https://www.cloudbees.com/blog/dora-devops-metrics-bandwagon" target="_blank" rel="noreferrer noopener nofollow">DORA metrics</a> from the DevOps world. </p>



<div id="case-study-numbered-list-block_d034ab70852a6df810c9da606a2abd87" class="block-case-study-numbered-list ">

    
    <h2 id="h-">你的生存时间在减少吗？<br/></h2>

    <ul class="c-list">
                    <li class="c-list__item"><span class="c-list__counter"> 2 </span>现场部署的数量是否在减少？<br/></li>
                    <li class="c-list__item"><span class="c-list__counter"> 3 </span>总体性能是否在提升？</li>
                    <li class="c-list__item">这些东西不仅让你的生活更轻松，也让你的顾客生活更轻松。对我来说，好看起来像是帮助你更可重复和可扩展地做ML的东西，但也最终以积极的方式影响你的客户。</li>
            </ul>
</div>



<p>如何建立一个好的MLOps系统？</p>



<h2 id="h-how-to-set-up-a-good-mlops-system">斯蒂芬:太好了。建立一个好的系统需要什么？至少在高层次上。</h2>



<p>安迪:我认为你需要把问题分解成各个组成部分。我之前提到过一些，但是我认为你的第一个系统应该总是相对初级的<strong>。</strong>我非常相信自我提升你的能力，正如我所说。我过去曾谈到过这一点，所以你不应该带着这样的想法来考虑这个问题，我想解决我在电话会议开始时提到的所有问题，因为你会这样做五年，到那时，你的业务问题就消失了，你的客户群也消失了。作为一个团队、一个团队、一名数据科学家和一个组织，你必须选择对我来说最紧迫的痛点，并首先抓住它，这一点非常重要。</p>



<p>在我看来，你最初的MLOps系统应该总是做最基本的事情，首先是<strong><a href="/web/20230106143950/https://neptune.ai/blog/machine-learning-model-management" target="_blank" rel="noreferrer noopener"/></strong>和<strong> <a href="/web/20230106143950/https://neptune.ai/blog/ml-experiment-tracking" target="_blank" rel="noreferrer noopener">实验跟踪</a> </strong>。当你建立模型的时候，你需要有某种方式来理解你已经运行的实验。有大量的工具可以做到这一点，我们可以稍后再讨论具体的工具，但你需要真正有一种方法来跟踪你得到的不同实验。</p>



<p>然后你需要有一种方法来跟踪，正如我之前提到的，你通过那些过程生成的模型工件。你不只是想运行一千个实验，尝试不同的超参数。你还需要说，这是最好的模型，我如何将它存储在目标中的某个地方，以便以后可以使用它？</p>



<p>然后，您需要有一种方法来监控您的ML解决方案。你需要开始思考，我怎么知道什么时候性能在漂移？对我来说，性能漂移是什么样的？这可以是非常基本的，也可以是非常基本的，您定义一个您认为最重要的性能指标，然后定义一些预定的东西，获取相关数据，对其进行简单的查询，然后输出到某个文件。那就是你还在做MLOps，这不是世界上最复杂的方法，但是对于零版本已经足够好了。</p>



<p>然后，我认为你需要从根本上思考，你需要发展什么样的实践来继续在此基础上发展。你的团队中有合适的软件工程能力吗？你对集成点等等有正确的理解吗？我认为你应该从小处着手，然后不断迭代。同样，您应该看到在您的旅程开始时您希望代表的那些不同指标的上升。</p>







<p>ML系统和MLOps系统的区别</p>



<h2 id="h-difference-between-an-ml-system-and-an-mlops-system">Stephen: 我所说的ML系统和MLOps系统有什么明显的区别吗？因为我认为我只是想在那里部署一些东西。我没有想到任何实验跟踪之类的东西，我只是想在那里放一个模型。也许你可以给它一个清晰的区分。</h2>



<p>安迪:当然，<strong> </strong>实际上，我认为这是一个很好的问题。</p>



<p>你可以将机器学习模型投入生产或构建一个解决方案，并认为你没有做MLOps，但实际上，你只是做得很差。T3】</p>



<blockquote class="wp-block-quote">
<p>我的意思是，你建立你的模型，你在一个管道中加速，你以某种方式运行管道，如果你没有对你的实验进行任何跟踪，没有对模型工件进行任何跟踪，如果你没有监控最终结果，你几乎没有进行MLOps，但你正在进行的MLOps只是最基本的可能，这是我假设一切操作都正常的地方。就像是MLOps版。</p>
</blockquote>



<p>我认为这是非常重要的，任何解决我主要任务的ML解决方案都必须包含一些MLOps的元素。现在你是否把它分解成一个不同的系统是一个有趣的问题。</p>



<p>对我来说，MLOps比我所知道的更宽泛，因为我们今晚关注的是系统，但它也是一套整体实践和正确看待世界的方式。这就像DevOps是软件工程，它只是关于理解你正在构建的解决方案不会只是被构建，然后你可以忘记它。这是一个活生生的东西。T3】</p>



<blockquote class="wp-block-quote">
<p>这在ML和机器学习中非常特别，显然，我们有再培训的要求，等等。你可以将它分成不同的系统，并在你的ML解决方案中的多个地方进行挂钩，但对我来说，MLOps实践应该嵌入到你作为ML从业者所做的事情中。那么这只是一个针对特定组织、团队等的问题，无论它是独立的系统，还是嵌入到您正在使用的工具中。</p>
</blockquote>



<p>如何扩展MLOps系统</p>



<h2 id="h-how-to-scale-an-mlops-system">斯蒂芬:我认为我们现在已经有了明确的区分。你谈到了非常基础的0.00版本。你如何区分非常基本的V0和V1？我们如何开始认为我们处于V0，这与搬到V2 V1有什么不同，然后开始迭代前进？</h2>



<p>安迪:你正在解决的任何问题都会在某些方面优于其他方面。你只有有限的时间、精力和努力去消耗。</p>



<p>在我看来，<strong>零版本</strong>在某种意义上可能会降低可重复性和可伸缩性，只是为了理解基本原则和真正从头到尾经历整个过程而进行优化。</p>



<p>我经常想，在我建立或工作过的任何团队中，我们遇到的第一个问题，你们所有人可能都会有同感。当我回头看的时候，这并不好，但重点是第一次经历了那个过程。在MLOps中，这意味着只是在某个地方做一些基本的模型导出，并以任何方式解决问题。同样，它可能非常简单，但它仅仅是告诉您模型版本的pickle或joblibfile的名称吗？这很可能是零版本，因为您第一次优化的是整个端到端流程的样子。</p>







<p>对我来说，<strong>版本1、2、3 </strong>等等就是开始向另一个方向发展，提升质量、可重复性和可伸缩性。这取决于您和您的特定用例，您首先优化哪个。我认为，只要你能尽可能地使它简单，在所有这些方面都会有帮助。如果您正在构建的代码是模块化的，如果您正在构建的系统引用了良好的架构模式，如果一切都非常独特，并且体现了关注点的分离，这通常是一个好的迹象。一旦你到了最复杂的版本N，这里N是相当大的，我会说你很容易从一个用例扩展到1000个用例。</p>



<p>可能有些问题需要解决。也许您必须为与您相关的基础架构买单，但是您知道您已经实施的流程和工具集是可以这样扩展的。这就是我在NatWest所处的阶段，因为我们已经以这种方式建立了我们的MLOps能力..我想说的是，零版本是关于优化的，只是理解过程，建立最初的原则，并学习很多。版本1、2和3就是在此基础上进行迭代，构建更具可重复性的东西。</p>



<p>小型团队在构建MLOps系统时应该优先考虑什么？</p>



<h2 id="h-what-should-small-teams-prioritize-while-building-an-mlops-system">我认为这个播客非常关注的一件事是<strong>合理规模的团队</strong>。在《T4》第二集中，我们与<a href="https://web.archive.org/web/20230106143950/https://www.linkedin.com/in/jacopotagliabue/" target="_blank" rel="noreferrer noopener nofollow">雅格布</a>进行了通话，我认为这是类似的，我们讨论的很多事情都是在构建，只是从小处着手，推出一些解决问题的东西，然后不断迭代。</h2>



<p>在你看来，如果我们正在寻找一个有六个人的团队，可能有两个数据科学家，三个数据科学家，一个运营工程师，然后他们只有，比如说，三个、四个或几个生产模型。他们正在建造起动器。</p>







<p>你对这样的团队有什么建议？首先考虑这个问题，然后考虑他们需要首先设置哪些组件，以确保他们在开始考虑“哦，我想建立一个更大的平台，容纳大量模型并扩大规模”之类的事情之前，能够立即获得投资回报。</p>



<p>安迪:几年前，我实际上也遇到过类似的情况。当我开始的时候，我在一个12人的规模上。我是数据科学和机器学习的负责人，这意味着我只负责自己，因为我是唯一的数据科学家。非常相似的场景，资源非常有限，有几个软件工程师可以帮忙。我认为，在这种情况下，你必须认真考虑如何不重新发明轮子。我提到用非常基本的方式做事。令人欣慰的是，现在有这么多的工具和软件包，你可以用最基本的方式做事情，因为你可能没有解决所有你知道会遇到的扩展问题，但你至少可以利用现有的东西。</p>



<p>Python中有很多很棒的包，有很多很棒的工具，它们都有开源或免费增值模式，至少你可以从那里开始。我建议您进行研究，了解哪些可以利用，哪些可以使用，这意味着您可以建立一个最小的工作区集，尽可能地利用它。回到我们已经提到的一些东西，也要保持简单。我相信这也适用于ML模型开发，总是从最简单的情况开始。如果能用线性回归解决，就不要去找神经网络。</p>



<p>同样的事情也适用于MLOps系统。如果您可以通过cron作业和Python脚本来解决它，那么首先执行cron作业和Python脚本，然后开始探测它，在后面的迭代中理解它。"为什么会倒下，或者克朗不是很稳定？"“它有一些问题，我应该走这条路。”也许转向更复杂的编排部分，或者你想解决的问题的特定部分。</p>



<p>这里没有提到的一点是，我认为任何这种规模的ML团队都必须提前真正关注数据质量，因为这与MLOps挑战密切相关。如果你的数据质量很差，无论你的ML工程师和AI工程师有多好，你的表现都会很差。你会引发一些事件。你要一直重新训练和调试这个模型。</p>



<p>当你那么小的时候，那不是你能做的事情。你不能把所有的时间都花在这些即时管理问题上。</p>



<p>我认为确保前期的数据质量是非常重要的，我认为这适用于任何技能，尤其是当你很小并且资源非常有限的时候。T3】</p>



<blockquote class="wp-block-quote">
<p>Stephen: 我很想放大一下你在NatWest之前的早期经历。您典型的基线工具堆栈是什么？你是在第一手思考这个问题，然后你只是想把几件事联系起来。一般来说，你真正优先考虑的组件是什么？当团队考虑他们需要为他们的第一个MLOps系统组装的组件时，是否存在隐藏的盲点？</p>
</blockquote>







<p>安迪:问得好。我认为在这个领域，我们经常会被最闪亮的工具所吸引，这些工具似乎有最漂亮的视频或非常酷的演示和酷的用户界面。这有时掩盖了你提到的更基本的事情的重要性。对我来说，我经常遇到的一个大问题是<strong><a href="/web/20230106143950/https://neptune.ai/blog/best-workflow-and-pipeline-orchestration-tools" target="_blank" rel="noreferrer noopener"/></strong>。如果你有一个非常干净的编排层，一个非常简化的编排层，并且<a href="https://web.archive.org/web/20230106143950/https://airflow.apache.org/" target="_blank" rel="noreferrer noopener nofollow"> Apache Airflow </a>特别适合这个。在我的书中，我谈到了Apache Airflow的管理工作流，这是AWS管理的服务。</p>



<p>如果您有了流程编排层，并且您可以安排您的管道并创建将触发其他流程的流程，那么您就可以非常快速地开始构建非常复杂的东西。即使你没有一个具有惊人的偏好或可解释工具集或惊人的模型监控能力的工具，你也可以做我之前提到的事情，运行基本的Python脚本。像气流，一个非常好的编排层，意味着你仍然在一个非常坚实的基础上做这件事。</p>



<p>最终，您可以用一个非常漂亮的ML工具替换一个简单的Python脚本。我认为我的基线工具堆栈是为了解决您的编排问题，然后为我解决我提到的几乎其他两个问题，模型管理和模型监控问题真的很重要。还是那句话，从小处着手，先从简单的Python脚本开始。我认为，一个非常重要的盲点是，做模型管理有多复杂。像<a href="https://web.archive.org/web/20230106143950/https://mlflow.org/" target="_blank" rel="noreferrer noopener nofollow"> MLflow、</a> <a href="https://web.archive.org/web/20230106143950/https://www.comet.com/site/" target="_blank" rel="noreferrer noopener nofollow">彗星</a>这样的东西，以及许多其他工具，正在解决一个非常尖锐的问题。你越快使用这样的东西，我想你会发现它让你的生活变得容易多了。</p>



<p>深入探究<a href="/web/20230106143950/https://neptune.ai/vs/comet">海王星和彗星</a>以及<a href="/web/20230106143950/https://neptune.ai/vs/mlflow">海王星和MLflow </a>的区别。</p>



<section id="blog-intext-cta-block_86dadbd732aaf0218fa17e1d8608f62f" class="block-blog-intext-cta  c-box c-box--default c-box--dark c-box--no-hover c-box--standard ">

            
    
            <p>在我开始监控之前，我几乎要去追模特经理了。对我来说，想象如何编写一些监控逻辑和普通Python要比构建一个模型管理软件容易得多。那是一个非常复杂的问题。在我之前工作过的团队中，这对我们来说总是一个挑战，因为我们没有现成的工具。我们花了很多时间来构建这些可怕的JSONs，它们跟踪我们的模型工件在哪里，以及我们使用了哪些数据。我的感觉是，如果我们可以进行编排，然后对模型管理进行排序，那么你可以在第一个实例中用一个普通的Python来做所有其他的事情。然后你可以在此基础上尽你所能。</p>
    
    </section>



<p>解决购买与建造的困境</p>



<h2 id="h-solving-the-buying-vs-building-dilemma">Stephen: 我认为大多数团队的现实是，他们可能会雇佣一名数据科学家或一名ML工程师来击败整个系统。我们在社区中有这样的观点，平台是不够的。你有声称能够解决端到端问题的平台，等等，然后你发现它缺乏灵活性。你反对购买平台作为一个系统或什么的吗，特别是对于早期阶段的团队？</h2>



<p>安迪:我喜欢这个问题，因为这是一个永恒的争论。我想这与我所说的关于闪亮的新工具和我们有时的固恋有关。</p>



<p>我认为工具、平台、SaaS、平台即服务，所有这些解决方案只有在你首先知道自己在做什么的情况下才会有所帮助。如果你订阅了一个银弹方法，你认为，“你知道吗，我买这个东西，我花了一百万美元，”或者我是一个小得多的公司，几千美元或什么，“我会买这个工具来解决问题。”你会发现你正面临着同样的挑战，但现在在一个闪亮的用户界面前，你正在烧钱。T3】</p>



<blockquote class="wp-block-quote">
<p>回到我们之前提到的那一点，我更愿意团队自己去构建他们所能构建的东西，除了编排部分和模型管理部分。有很多开源工具可以做到这一点。有很多开源工具可以帮助你做这些事情。所以，我会说，看看你能从开源工具中得到什么。还有很棒的开源工具，用于构建ML和MLOps管道。</p>
</blockquote>



<p>如果你能达到这样一个阶段，你会说，“实际上，我们迫切需要别的东西”，那么就投资这些钱。如果你本末倒置的话，你只会浪费很多钱，并且非常失望，因为你没有解决根本问题。基本问题通常更多地是特定于过程和特定于架构设计的，而不是什么是最好的工具。你总是可以在工具上多花些钱，但是如果你没有把它们很好地组合在一起，我想你会遇到麻烦的。</p>



<p>如何在做前期团队的同时，做好一个MLOps系统？</p>



<h2 id="h-how-to-implement-an-mlops-system-well-while-being-an-early-stage-team"><strong> Stephen: </strong>是的，说到流程，你认为有哪些实践可以让这些早期团队正确地考虑这些系统，并正确地实施它们？</h2>



<p>我在MLOps社区观看了<a href="https://web.archive.org/web/20230106143950/https://www.youtube.com/watch?v=l1uhE9fEfo8&amp;ab_channel=MLOps.community" target="_blank" rel="noreferrer noopener nofollow">你的一个播客，在那里，你谈到了想法和生产之间的鸿沟，在这中间，你有这个桥梁，这个需要填补的鸿沟。我认为除了你所说的工具之外，还有一些实践可以让事情运转起来。有些，比如文化，你可以把它看作一个团队，试着正确地思考更多的系统。当考虑系统时，你认为团队应该在早期阶段开始考虑哪些实践？</a></p>



<p>安迪:我很高兴有人看了那个播客。我经常提到的是我所说的四个P:</p>



<p><strong>Andy: </strong>I’m glad someone watched that podcast. The thing that I often come back to is what I call the four P’s:</p>



<div id="case-study-numbered-list-block_5bd33bf9261263f7a242261bc44c85b2" class="block-case-study-numbered-list ">

    
    <h2 id="h-"><span class="c-list__counter"> 1 </span>人，<br/></h2>

    <ul class="c-list">
                    <li class="c-list__item"><span class="c-list__counter"> 2 </span>流程，</li>
                    <li class="c-list__item"><span class="c-list__counter"> 3 </span>图样，<br/></li>
                    <li class="c-list__item"><span class="c-list__counter"> 4 </span>产品。</li>
                    <li class="c-list__item">只是很快地覆盖它们。我认为你永远不能太早考虑这个问题。</li>
            </ul>
</div>



<p>在<strong>人</strong>方面，我们之前提到过，我们应该避免认为有一个独角兽可以做我们需要的一切。我们需要混合团队，拥有互补能力的混合团队。你可以用任何技巧做到这一点。只要你有两个人，甚至三个人，你仍然可以得到软件、工程知识、ML知识的混合，然后可能是中间的东西，或者是面向业务的翻译层，等等。人是其中非常重要的一部分。你手下的人都是些什么人，他们是否互补，配合默契？</p>



<p><strong>产品</strong>实际上是整个播客的内容，确保你明白你正在构建最终会影响客户的密集系统，你将如何看待这一点，而不仅仅是一段普通的原型代码？嗯，你了解产品，人们希望它们有用。这意味着你应该做大量的测试。你有合适的测试流程吗？你已经在考虑单元测试、集成测试或者回归测试了吗？如果你不是，那就开始考虑它们，因为这是构建可伸缩和可用产品的唯一方法。</p>



<p>然后还要考虑用户体验。在这种情况下，用户可能不是一个真实的人，而是另一个系统。在那里，他们有一个清晰的界面和清晰的消费契约。可能很简单，其他系统可以访问同一个S3桶吗，或者是通过结果完成的？这是你有时在产品领域必须考虑的事情，但接下来是你关于过程和模式的特殊问题，我认为这是真正相关的。</p>



<p><strong>模式，</strong>对我来说，是关于你是否使用真正众所周知的架构模式，或至少有意义的模式，使用微服务架构，或使用已经存在并被一些最好的公司使用的架构？</p>



<p>那么在<strong>流程</strong>方面，有没有更清晰的开发护栏？你知道如何开发高质量的代码吗？你至少知道如何提高代码的质量吧？你能做任何能自动化的事情吗？越早嵌入CI/CD实践。我认为任何事情，<a href="https://web.archive.org/web/20230106143950/https://github.com/features/actions" target="_blank" rel="noreferrer noopener nofollow"> GitHub actions </a>都是一个很好的例子，<a href="https://web.archive.org/web/20230106143950/https://www.jenkins.io/" target="_blank" rel="noreferrer noopener nofollow"> Jen </a> kins，以及所有这些其他工具都可以让CI/CD服务器就位，这意味着这个过程可以越来越快。</p>



<p>我认为你越早考虑所有这些事情，你就会开始做正确的事情，然后为未来做好准备。当你在诸如账户安全、网络等大规模结构的问题上面临更多挑战时，这可能会晚一点。</p>



<p>对我来说，这四个P是任何团队都应该考虑的基本要素，但我认为它与ML和MLOps团队尤其相关，即人员、模式、流程和产品观点。T3】</p>



<blockquote class="wp-block-quote">
<p>构建MLOps系统所需的技能</p>
</blockquote>



<h2 id="h-skill-set-required-for-building-an-mlops-system">Stephen: 我认为如果你和团队讨论这个问题，大多数团队都会同意这真的很难，只是将这四个P联系在一起，只是试图围绕人、过程、产品和模式本身进行协调。你认为团队如何恰当地实现这一点？一个很好的后续问题是，我应该雇用谁来建立这个系统，我的第一个MLOps系统？我应该雇佣一个数据科学家或者MLOps工程师或者ML工程师之类的人吗？</h2>



<p>安迪:很好。就你应该先雇佣谁、挑战有多大而言，这是个棘手的问题。如果你要雇佣一个人，你已经有了独角兽思维，我认为我们应该避免这种思维。如果你雇佣两个人，这是我一直推荐的，一个最小可行的团队，至少，我认为你需要<strong>一个有良好数据工程思维的人</strong>。我提到过，数据超级重要。</p>



<p>然后可能是数据科学家、ML工程师、MLOps工程师，他们如何称呼自己并不重要，但我认为<strong>是用流水线</strong>的知识来补充数据知识的人。如何构建ML管道？如何构建MLOps管道？我们指的是我们之前提到的所有事情，一些运行到一些监控中的事情，一些检查要构建什么模型版本的事情，但是这将需要一些基本的事情。</p>



<p>他们需要理解模型，甚至可能构建这些模型或使用现成的模型。即使是一名ML工程师，但他们正在重用拥抱脸模型，这也绝对没问题，但需要有人理解模型，因为你如何才能建立背后的监控逻辑，并了解你正在做什么与模型工件管理。</p>



<p>他们还需要有足够的软件工程能力，这样他们就可以开始构建这些健壮可靠的系统。这就是Ops和MLOps的全部意义所在，你不只是在做昙花一现的事情，你是在构建一些必须一次又一次工作的东西。你真的需要软件工程能力。我想，他们怎么协调呢？也就是说，这总是一个挑战，但我认为把它分成这四个P帮助我经常合理化它，并且总是分解问题。</p>



<p>从人的角度来看，我们刚刚讨论了我们已经得到了补充能力、掩护、关键事物和模式。再次强调，利用现有资源，不要重新发明轮子。AWS有他们的架构透镜框架，我想它叫做<a href="https://web.archive.org/web/20230106143950/https://docs.aws.amazon.com/wellarchitected/latest/userguide/lenses.html" target="_blank" rel="noreferrer noopener nofollow"> AWS透镜</a>，在那里他们发布了许多非常详细的架构。即使您不在AWS上，您至少可以看到它们，看到不同的组件以及它们如何相互作用。这与模式不符。</p>



<p>产品实际上是最终目标，不断地朝着业务目标迭代，但总是考虑可靠性和健壮性，而不仅仅是违反测试。然后，就过程而言，又回到了从小处开始迭代的那一点。经历第一个周期，不断迭代工作，你就进步了。许多这些问题不会是新的问题，在软件工程中会有解决的问题。也利用软件开发和软件工程生态系统。</p>



<p>简单操作是正确的第一步吗？</p>



<h2 id="h-is-simple-ops-the-right-first-step"><strong> Stephen: </strong>这是MLOps社区中非常流行的东西，事情是保持第一个模型简单，或者您应该尝试获得正确的基础架构，特别是当您尝试部署您的第一个模型或只是部署您的第一个迭代时。你能详细解释一下这个特别的陈述吗？</h2>



<p>安迪:是的，当然。我100%同意这一点，我们应该总是开始简单的行动。我之前可能提到过，仅仅做一些基于研究的数据科学和机器学习与构建一个以MLOps为核心的产品之间的关键区别在于，你认为它必须一次又一次地工作。</p>



<p>你的简单sklearn模型做一些回归，你可以拿其中一个，波士顿住房数据集，这是一件非常简单的事情，有很多关于它的教程。构建ML模型非常简单。困难的是，如果你开始说这样的事情可能是特定于业务用例的，但我如何满足跨5万或10万用户的评分请求？我该如何运行它，也许是作为一个批处理，也许是作为一个API可以请求的实时微服务？</p>



<p>我认为所有这些都可能会受到你所经营的企业的影响。</p>







<p>如果您知道您正在支持一个面向客户的web应用程序，您可能会自然而然地选择REST API微服务路线。</p>



<ol>
<li>如果您正在为一个非常大的组织提供服务，就像我们经常做的那样，有许多通宵流程，您可能会更多地以批处理方式思考，并考虑使用更具可扩展性的技术，如PySpark等。</li>



<li>只需规划出您的业务挑战，然后自动开始帮助您做出架构和设计决策。T3】</li>
</ol>



<blockquote class="wp-block-quote">
<p>然后模型部分又变成了你可以不断重复的东西，但是从根本上说，与你必须做出的其他选择相比，它可能相对简单。然后你开始思考，“对，我如何以最小可行的产品方式设置它？我如何将所有这些信息反馈给管弦乐队，并确保它们在正确的时间运行，等等？”当然，我同意这一点，而且我认为总是要回到你试图解决的业务问题上来。</p>
</blockquote>



<p>这也推动了您的运营考虑以及MLOps对您的影响。</p>



<p>同样，如果您每天晚上都在运行一个大的批处理过程，您真的需要为您的模型提供某种复杂的实时度量流吗？不，那太过分了。你可能只需要一份在批量生产后运行的夜间报告。</p>



<ol>
<li>如果你正在做一个非常可扩展的、面向客户的应用，如果你确实需要更多的实时指标，你可能还需要恢复并了解一些指标，或者只是DevOps的经典指标，内存、CPU利用率，所有这些东西，而不仅仅是我的模型的回忆。</li>



<li>然后，我想到了另一个挑战，我认为这也很重要，它来自业务问题，即您还能够以不同的方式对这些流程进行约束。我经常遇到的一件事是，一旦企业明白了你想用MLOps做什么，他们通常会说，“对。我想知道模特每天过得怎么样。”我会说，“对。我多久能得到这个模型的真实数据，”他们会说每个月。自动地，在业务、技术以及如何一起实现它们之间存在脱节。只是总是回到业务问题真的有助于磨练这一点，并了解你需要做出什么选择。</li>
</ol>



<p>打破关于MLOps系统的神话</p>



<h2 id="h-busting-myths-about-mlops-systems"><strong> Stephen: </strong>很好奇，MLOps社区中有没有你不认同的关于MLOps系统的误解？让我们把它扔出去。</h2>



<p>安迪:哦，那我不同意？我认为对工具的痴迷让我有点恼火。我认为，作为一个团体，我们确实忘记了好的设计、好的过程以及好的软件开发技术的重要性。我们经常沉迷于最新的演示和最新的重大公告，我也是如此。我将报名参加大约10场网络研讨会，我将永远不会参加所有这些不同的技术，因为有一个新的发布或新的版本，但我认为我们经常忘记我们试图在MLOps中解决的问题是多么简单。</p>



<p>在我看来，你在建的管道只有几种，</p>



<p>To my mind, there are only a few different pipelines you’re building, </p>



<div id="case-study-numbered-list-block_4b23ffbd69a0f7c65a5ed0055fbb66ff" class="block-case-study-numbered-list ">

    
    <h2 id="h-"><span class="c-list__counter"> 1 </span>你正在建立你的培训渠道，以便进入模型。<br/></h2>

    <ul class="c-list">
                    <li class="c-list__item">你正在构建推理管道来得出结果。<br/></li>
                    <li class="c-list__item"><span class="c-list__counter"> 3 </span>然后你构建一个MLOps类型的链接来完成其他部分。</li>
                    <li class="c-list__item">根本上就是这样。我想我有时不喜欢我们过分夸大特定工具选择的重要性。</li>
            </ul>
</div>



<p>随着旅程的进行，您应该非常乐意交换工具，因为它们解决问题的方式略有不同。T3】</p>



<blockquote class="wp-block-quote">
<p>您的模型管理软件从开源版本开始，然后您说，“实际上，我希望获得企业级支持的好处，所以我将切换到这个提供商的付费模型，”但它不应该从根本上改变您的设计。如果您的设计与您的工具选择紧密结合，我认为您犯了一个巨大的错误，因为它实际上应该是一个交换。你只是做了一个不同的API调用，或者你只是写了一个不同的位置。</p>
</blockquote>



<p>你不应该如此依赖一个产品，以至于遭受锁定，这也是你可能遇到的其他危险之一。无论是云提供商还是特定的工具，你都可以变得如此执着于它，以至于当你因为公司破产或工具因为重大升级而不再可用而不得不改变时，你必须修复如此多的技术深度。</p>



<p>我认为对我来说最大的困扰是对工具的痴迷。我可能太苛刻了，我认识的社区中有很多人都在使用非常棒的工具，也有很多非常棒的工具，尤其是在开源社区。</p>



<p>我只是认为，作为试图为组织构建这些解决方案的实践者，我们不应该只是认为有一个银弹就在那里。我们真的需要让它回到基础，而我们需要开发的流程，我们如何确保它们是强健的和受监控的，然后我们有良好的衡量它们性能的指标，然后只是针对这些指标工作。T3】</p>



<blockquote class="wp-block-quote">
<p>MLOps在扩展系统中的作用</p>
</blockquote>



<h2 id="h-role-of-mlops-in-scaling-a-system"><strong> Stephen: </strong>我们有一个来自MLOps社区的问题。这个人说，“我正致力于建立一个餐厅<strong>推荐系统</strong>，它提供两个人口味之间的餐厅业务相似性。我计划将其部署为一个web应用程序。知道我将把它扩展到50个或更多的用户，我该如何着手呢？那么MLOps是如何进入这一特定场景的呢？”</h2>



<p>Andy: 这听起来像是这个人在思考一个非常特别的用例，这个用例非常适合将它变成现实。如果你正在构建一个拥有50或50，000用户的web应用，你必须在后台运行这个ML过程，这个推荐引擎。对我来说，开始时最重要的是不要把所有这些都放在脑子里，因为你会有点不知所措，你可能会试图一次性解决所有问题，并创建一些意大利面条式的代码或一些不是很模块化的东西。</p>



<p>如果你把所有这些碎片分离出来，你就可以开始分解问题并理解如何解决每一个。前端，对，你如何将前端扩展到50，000个用户？这是一直在做的事情，所以上网看看一般的web应用程序是怎么做的，这不是什么新鲜事。您有前端系统，您有存储运行实际web界面所需的正确数据的应用程序数据库。考虑用户体验，如果可能的话，在适当的地方进行好的UX设计。这是一个已经解决的问题，但这只是第一部分，这只是解决方案其余部分的切入点。</p>







<p>然后你必须运行你的推荐引擎更新，你的再培训，你的重新运行，我根本不是一个推荐引擎专家。我就假设这是某种意义上的黑盒。从根本上说，你需要运行一个非常大规模的过程，这个过程通常计算量非常大。把那个放在一边。</p>



<p>您如何解决这个问题，您多久运行一次这些更新？</p>



<ul>
<li>您是否拥有所需的基础设施？</li>



<li>您是否需要考虑自动缩放以获得特别大的数据或计算更新等等？</li>



<li>为了回答这些问题，您需要考虑迁移到云吗？</li>



<li>我认为你认为推荐引擎更新是一个独立的过程，并把它分开。</li>
</ul>



<p>然后你就有了两者之间的互动。这是我喜欢谈论的接口和契约。</p>



<p>你的前端和你的推荐引擎之间的合同是什么？</p>



<ul>
<li>是对一些基本Flask应用程序的直接API调用，还是只是呈现推荐引擎的结果？</li>



<li>会不会更复杂一点？</li>



<li>推荐引擎真的可以在批量离线模式下工作，而web应用程序只需要从某个S3桶或其他位置获取结果吗？</li>



<li>那么，MLOps真正要做的是确保从ML的角度来看，所有的东西都结合在一起。推荐引擎，</li>
</ul>



<p>你怎么知道那是表演？</p>



<ul>
<li>你将如何检查它的状态？</li>



<li>然后你会根据它采取什么行动——这就是你的模型监控过程？</li>



<li>如果这是一个夜间批处理过程，那么多久运行一次呢？</li>



<li>您是否每天晚上都运行MLOps管道来检查监控性能，或者您是否减少了运行频率？</li>



<li>您如何管理推荐引擎的实际版本，因为如果出现问题，您可能希望进行回滚？你也开始思考这个问题。</li>



<li>最后，我认为在这种情况下，编排再次进入，关于它的决定是一个触发ML过程的动态请求。在这种情况下，你会想到事件驱动架构，如<a href="https://web.archive.org/web/20230106143950/https://kafka.apache.org/" target="_blank" rel="noreferrer noopener nofollow">卡夫卡</a>和<a href="https://web.archive.org/web/20230106143950/https://cloud.google.com/pubsub/architecture#:~:text=Pub%2FSub%20is%20divided%20into,servers%20on%20the%20data%20plane." target="_blank" rel="noreferrer noopener nofollow">酒馆/订阅</a>架构。这真的是关于检索用户请求的结果吗？这是一个批处理调度，在这种情况下，您可以执行cron作业或其他调度程序，或者回到Apache Airflow，我前面提到过。</li>
</ul>



<p>我认为关键的事情是把它分解成那些组成部分，然后想出如何单独解决这些问题。那么哪些是你不确定如何解决的最紧迫的问题，去获得结果，并帮助你理解它。T3】</p>



<blockquote class="wp-block-quote">
<p>对我来说，最让我不舒服的是前端。我没有UX技能，也不知道如何建立一个好的前端，所以我需要帮助。其他部分，我可能知道。MLOps实际上是管理后端，并确保对其进行监控、管理，然后在必要时进行适当的再培训。</p>
</blockquote>



<p>为未来的可扩展性打下坚实的基础</p>



<h2 id="h-building-a-strong-foundation-for-future-scalability">Stephen: 是的，接着这个特别的问题，我认为当你构建第一个ML系统时，例如，一个挑战是当你想要扩展时，它真的会崩溃。尤其是如果你不考虑这个规模，你的系统就会崩溃。也许你正在运行一个cron作业和一个Python脚本，然后你不知道如何处理50k、100k请求，因为突然之间，业务增长了。当构建一个良好的第一个MLOps系统时，您如何开始考虑可伸缩性？</h2>



<p>安迪:你可以早点做出一些选择来帮助解决这些事情。如果您的问题适合您，比方说批处理类型架构，或者至少批处理的某些元素，例如，围绕PySpark构建一切，这意味着可伸缩性实际上是您愿意为基础架构支付多少费用的问题。</p>



<p>我将回到AWS，因为它是我最熟悉的，但它也适用于其他云提供商。如果我使用他们自己的云智能集群，<a href="https://web.archive.org/web/20230106143950/https://aws.amazon.com/emr/" target="_blank" rel="noreferrer noopener nofollow"> Elastic Map减少了</a>集群，您可以开始加入自动扩展策略等内容，并在需要时扩展基础架构，并且您的代码的基础不需要更改。我认为这是您可以尽早做出的决定，因为我可以在我的笔记本电脑上运行PySpark，它可能没有多大用处，它是一个非常小的集群，但如果我有能力支付费用，我也可以在一个10，000节点的集群上运行它，所以即使这样的选择。</p>



<p>如果你更多地考虑我们之前讨论过的微服务架构，你会开始考虑负载平衡器之类的东西。</p>



<p>您开始引入负载平衡器了吗？</p>



<ul>
<li>你有这方面的专业知识吗？</li>



<li>你知道如何恰当地写这种流量，网络，以及由此产生的问题吗？</li>



<li>那么，您是否能够生成运行您的ML模型所需的流程？</li>



<li>然后，我会开始利用像云函数或Lambda这样的东西，因为它在AWS中，所以非常轻量级的代码片段，您可以以非常可扩展的方式运行，而您不必考虑底层基础架构。</li>
</ul>



<p>我认为总的来说，云只是有助于提高可扩展性，你需要为每单位支付一点额外费用，但你晚上会睡得更好，因为你知道在那里扩展要容易得多。我总是建议您至少探索和理解云中可用的选项。然后，如果您正在以一种更本地的方式进行构建，您至少知道您是否知道您可以移植到云。T3】</p>



<blockquote class="wp-block-quote">
<p>PySpark就是一个很好的例子。即使我在我的笔记本电脑上运行，但是在PySpark中构建所有东西，然后移植到一个非常可扩展的云服务，这并不是一件大事。然而，如果我用普通Python和串行Python写了所有的东西，然后我不得不为了可伸缩性而进行重构，这将是一件大事。我认为，在这个过程的早期，你可以做出一些选择和思考，这会有所帮助。</p>
</blockquote>



<p>整个项目的时间表和管理期望</p>



<h2 id="h-timeline-for-the-entire-project-and-managing-expectations">Sabine: 我们有一个来自佩妮·约翰逊的聊天问题。Penny问道:“您能就该领域中从模型构思到解决方案交付、监控周期和改进的实际时间表给出见解吗？此外，您如何管理这些方面的业务预期？”</h2>



<p>安迪:哦，好问题。这就是我的工作。我担心这个。实际上，我刚刚结束了一场网络研讨会，内容是我们在以这种方式缩短价值实现时间方面所做的工作，所以我现在可以提到一些数字和事情，因为它们属于公共领域。</p>



<p>通常对我们来说，在我们采用一些关于工具的基本实践之前，我们有一个发现，一个是关于云的。我们花了大约一年的时间将一个模型从构思到生产。现在，这是很长的时间，对我们来说，最大的因素是在金融服务领域，有很多治理和所有我们必须经历的事情。</p>



<p>在我以前的工作中，我们大概每个季度都要交付一个模型，我认为这更可行，因为每隔几个月就要将一些东西从构思阶段转化为生产阶段。Penny，如果你谈论的是模型的迭代改进，而不是全面的改进，我认为你是在问白板到解决方案，我认为，如果你有良好的CI/CD实践，迭代改进可以是冲刺或次冲刺水平。</p>



<p>我们现在已经能够在NatWest将任何特定团队的时间缩短到大约三个月，即每季度一次，因为我们投入了时间、精力和精力来构建一个使用SageMaker和周围生态系统的MLOps平台。那是回到我以前提到的事情的一个例子。我们首先了解如何做好流程，然后我们了解基本原理以及好的设计是什么样的。我们升级了所有的东西，并且能够重构所有的内部流程。</p>



<p>我想说，对我来说，一季度一次对于大多数规模的组织来说是合理的。规模因素适用于较大的组织，因为他们可以并行执行许多任务，因此，对于较小的公司来说，一个季度一次对于公司来说就意味着一个ML模型，对于像NatWest这样的大型组织来说，这可能意味着每个季度数百个ML模型。MLOps建筑等等，应该只是这个过程的一部分，所以只要你已经理解、设计、架构到位，你就应该能够把它也纳入到每季度一次的周期中。这只是我的看法。我认为在这个作品中会有一百万种不同的观点。</p>



<p>管理期望是有趣的部分，所以我认为你需要克服一些挑战。</p>



<p>一个是确保你的利益相关者，你的客户，你的同事首先理解机器学习的好处，但他们也理解为什么MLOps很重要。使用机器学习算法解决问题是一回事。</p>



<ol>
<li>接下来的事情是确保你可以在剩下的时间里每天都解决它，这就是MLOps部分的作用。</li>



<li>您需要赢得人心，以便他们理解您为什么要投入时间、精力、精力和金钱来开发这些额外的解决方案、监控功能、模型管理部分等等。我觉得你真的需要这么做。然后，他们会明白你为什么要在这些额外的部分上投资，但同样，这归结为简化，确保他们理解你正在做的事情的基础，你不断更新他们，并确保他们理解你何时遇到问题以及瓶颈在哪里。这意味着您可以在下一组项目中重复使用它。</li>
</ol>



<p>我不得不这样做很多次，我们认为我们可以在三个月内交付，但实际上要花更长的时间。只要你清楚地与你的利益相关者沟通，他们就会明白那些期望正在改变，我想他们会接受的。这是一个非常好的问题。我认为最重要的挑战之一是利益相关者管理。</p>



<p>在MLOps系统中拟合再训练方案</p>



<h2 id="h-fitting-retraining-scenario-in-an-mlops-system"><strong>萨宾:</strong>是的，肯定的。这不仅仅是技术层面的问题，有时候，这也是人和沟通等方面的问题。纳比勒·贝尔加斯米还有一个问题。“如果我们希望我们的ML模型根据新数据自动重新训练，这一要求对简单的MLOps工作流有什么影响？”</h2>



<p>安迪:</p>



<p>如果您希望它每次都根据新数据进行训练，首先，您可以挑战这一假设，“我真的需要它每次都根据新数据进行训练，还是只需要它在数据分布发生变化或性能下降时进行训练”。T3】</p>



<blockquote class="wp-block-quote">
<p>假设我们已经解决了你的问题，当新的数据进来时，我们想训练模型。对您的MLOps流程和系统的下游影响将是，好吧，重新训练模型，但我该怎么做？你用什么流程来确定它是否是进入生产的实际模型？</p>
</blockquote>



<p>你不想做的只是自动将其推向生产。这是第一次，因为它可能会被重新训练，这真的很糟糕，很可怕。基本上是绝对的垃圾。你把它推向生产，一切都在下降，所以你需要一些机制来查看新训练的模型的性能，而不仅仅是已经在生产中的模型。这也是模型管理和其他工具发挥作用的地方。您能为培训运行尝试合适的元数据和指标吗？</p>



<p>我认为同样重要的是，如果你正在考虑将一个特定的模型投入生产，“你真的模拟过类似生产的条件吗？您是否有一个测试环境设置，其运行方式与您的生产模型相同？”</p>



<p>实际上，我之前在你的问题中忽略了这一点，Stephen，但是我已经看到了许多带有一组特定假设的开发人员模型。例如，他们有五年的数据。他们已经完成了培训、测试和验证工作。然后他们认为这将在生产中发挥作用，但实际上，在生产中，你每天都会得到一千个新记录，他们不知道行为的波动会是什么样的。我认为你需要确保，如果去Nabil，重新培训，然后将一个模型推向生产，你有一些可用的测试，显示它将如何对以节奏和频率出现的类似生产的数据起作用。</p>



<p>然后，支持所有这一切，回到之前的流程点，您需要一个良好的MLOps流程来说，“这实际上没问题。这符合我们的运营风险状况。这取决于治理控制。”不管机制是什么？你基本上需要一种方式来说，“按下按钮。将其推向生产。”我要说的是，所有这些都必须考虑到你的MLOps系统的外观和功能。</p>



<p>这是一个很好的问题。很多人很快就会遇到这种情况，我认为最重要的是在某种类似生产的环境中操作或测试，然后有一个良好的过程来说，“一切正常。我现在可以将它投入生产。”像蓝绿色部署这样的事情，你可能有时会听说，如果你给它一个谷歌，它会告诉你如何基本上并行运行两个解决方案，但其中一个是在一个空气间隙的环境中。然后，一旦你高兴了，就无缝地交换它们。构建这样的流程通常也是非常好的MLOps实践。</p>



<p>其他问题</p>



<h2 id="h-other-questions"><strong> Stephen: </strong>我们还有一个来自MLOps社区的问题。这次是杰里米发来的。</h2>



<p>杰里米说，他正与一家非常早期的初创公司合作，只有一个模型和相当低的推理量。最好的培训工作是什么？在过去，他将模型包装在Flask API中，制作映像，作为CI/CD流程的一部分将其推送到K-cluster。现在，他还有一个气流脚本，每天用生产中的新数据重新训练模型。他会做回归测试，然后触发部署过程。他会有一个数据仓库，在那里保存推理数据，以便能够运行性能查询之类的东西。这对他来说似乎太多了。</p>



<p>他在想，“今天最简单的方法是什么？”有什么东西可以巩固这整个-他非常非常模块化的路径吗？你有什么看法？</p>



<p>安迪:我首先想到的是杰里米似乎知道自己在说什么，这很好。我认为这完美地体现了我之前提到的先学习基础和基本原则。Jeremy在那里绘制的是所有正确的流程和正确的移交，所以你已经有了模型。这种托管方式如何，在哪些基础设施上运行？这些都是怎么更新的？这就是所有的<strong>烧瓶</strong>、<a href="https://web.archive.org/web/20230106143950/https://kubernetes.io/docs/concepts/overview/components/" target="_blank" rel="noreferrer noopener nofollow">T5、K、</a> AS，以及CI/CD。然后，开始考虑气流，他提到了所有关于回归测试的正确词汇，等等。</p>



<p>这个问题是关于你如何简化和改进这个过程。我想说的一件事是看看现有的工具，看看有什么可以帮你解决这些棘手的问题。如果你的推理量特别低，你能把它作为一个容易安排的匹配过程吗？你是否也过度复杂化了现有的工具，这些管道是如何连接在一起的？我不认为他提到了太多，但一个很好的例子是SageMaker。</p>



<p>AWS SageMaker 是他们的MLOps工具，但它也为编写好的管道提供了非常好的、强有力的、固执己见的指导。做类似事情的开源软件是<a href="https://web.archive.org/web/20230106143950/https://zenml.io/home" target="_blank" rel="noreferrer noopener nofollow"> ZenML </a>。有很多工具可以简化他正在进行的一些开发活动。</p>



<p>然后，就真正与托管相关的<a href="https://web.archive.org/web/20230106143950/https://kubernetes.io/docs/concepts/overview/components/" target="_blank" rel="noreferrer noopener nofollow"> KAS集群</a>而言，你可以再次考虑是否你在SageMaker上，例如，它会为你处理托管和底层基础设施。您可以制定缩放策略。</p>



<p>有一些解决方案可以为您消除一些痛苦，但听起来他已经准备好了所有正确的部分，现在可能只是转移到我应该投入时间和精力进行优化的特定部分的问题上。</p>



<p>我不确定杰里米可能不在状态，但我不确定具体的痛点在哪里。如果真的要扩展Flask API，那么放弃Flask API、SageMaker endpoint或其他提供类似方法来托管模型的工具可能是个好主意。你能在云函数或AWS Lambda中完成这一切吗？实际上，它保留了所有其他部分，但实际上，你已经获得了巨大的可伸缩性，因为它是一个非常简单的sklearnmodel。你可以很容易地在AWS Lambda中托管它。</p>



<p>我认为他必须对他所解决的问题有战略眼光，但是有很多工具和能力会有所帮助。现在他已经有了基本的设计。现在我可以使用工具了，我知道在我使用它之前，但是我认为他已经有了基本的设计。您现在可以迭代并找到将解决其中一些问题的开源和付费工具。</p>



<p><strong> Stephen: </strong>好的，我们还有一个来自MLOps社区的问题。这次是Fatima，她问道:“如果他们想将中小型企业从0级MLOps(这是他们典型的Google参考资料)转变为1或2级MLOps(例如端到端自动化)等，他们将面临哪些挑战？他们有一个非常基本的手动工作系统，但他们希望移动东西来实现端到端管道的自动化。”</p>



<p>Andy: 我喜欢这个，因为我在工作中引用了相同的成熟度模型，这很好。其中很大一部分是固有的，正如你所说，问题是自动化还是手动，斯蒂芬。对我来说，这是一个编排和CI/CD实践的问题。你如何协调你需要的不同过程？我假设你已经通过了零级，并且已经完成了我们之前提到的工作。你第一次从头到尾经历了这些过程，这可能与Jeremy的问题相似。原则上，你知道如何解决所有这些问题，现在你要做的是以一种真正可扩展的方式去做。</p>



<p>为了实现自动化，需要以一种非常安全的方式进行协调，即使某个组件出现故障，也可以非常成功地进行监控。所有这些都需要结合起来。然后我很好地回想起Nabil之前的问题，你是否开始思考是什么触发了自动化过程，你是如何触发的？这是偏离了卡夫卡的主题，还是偏离了你的监测指标？现在还是手工流程吗？因为你可以自动化很多东西，但仍然有一个手动的人扣动扳机，按下按钮。</p>



<p>有时，如果您对风险和控制治理行为有特定的要求，就像我们在金融服务中做的那样，这是很好的。有时候在这个过程中有个人参与是很重要的。不是完全自动化，但是差不多，我很高兴，目标，然后一切都自动化了。</p>



<p>Fatima，我认为对你来说，关键的事情是那些编排问题、触发问题，以及CI/CD问题，它们将帮助你走向一种更连续和自动化的迭代解决方案的方式。</p>



<p><strong> Stephen: </strong>很好，我们还有来自社区的最后一个问题，这个人问道:“在早期构建我的MLOps系统时，我应该担心它的可靠性吗？因为我的用例是任务关键型的，所以我目前正在为医疗保健行业构建一个ML产品。”</p>



<p>安迪:是的，所以你应该关心你的MLOps系统的可靠性吗？绝对是因为如果你没有一个可靠的MLOps系统，你怎么知道你有一个可靠的ML系统句号？</p>



<p>我认为在这样的任务关键型场景中，我没有在医疗保健行业工作过，但我以前为一家分布式能源提供商工作过，我们在那里建立模型，检测发电机是否着火，所以我也称之为任务关键型。我们发现，再一次，将它拉回到我们想要跟踪的最简单、最基本、最健壮的东西真的很有帮助，因为然后你可以做的是与具有领域知识的人和你的业务同事密切合作，以真正理解我们绝对必须跟踪的一两个指标是什么。</p>



<p>我认为这有助于可靠性，因为你不会建立一个超级复杂的MLOps系统，对不对？你不会用1000万行代码做100，000个不同的度量来构建一个东西。您只需关注一两个对于了解系统是否正常运行以及是否以正确的方式做事至关重要的方面。</p>



<p>那么我认为你需要确保你也在检查那个MLOps系统。MLOps系统是用来监控您的ML系统的，但是您如何查看所有东西是如何执行的呢？对我来说，这是拥有MLOps系统的自然结果，因为如果您要在仪表板或其他一些查询数据库中查看MLOps流程的结果，那么这样做的行为就是检查您的MLOps系统是否正常工作。</p>



<p>我认为你应该担心它的可靠性，但帮助你减少担心的主要事情是将它简化为关键指标，KPI只是构建最基本的可行产品，然后测试它。确保你测试它，直到你用一百万种不同的方法打破它，你很高兴这个最小的可行产品不会打破。我想你可以走了。</p>



<p>萨宾:该收工了。我敢肯定会有更多，我们会喜欢挑选安迪的大脑。非常感谢你，安迪，你真的揭开了MLOps的神秘面纱，至少对我来说是这样，非常感谢。</p>



<p>在我们结束之前，安迪，人们怎样才能关注你在网上做的事情，并可能与你联系呢？</p>



<p>安迪:是的，所以你可以在LinkedIn上找到我。只要搜索<a href="https://web.archive.org/web/20230106143950/https://www.linkedin.com/in/andymcmahon629/" target="_blank" rel="noreferrer noopener nofollow">安迪·麦克马洪</a>，你就有希望找出是哪一个。在推特上，我是<a href="https://web.archive.org/web/20230106143950/https://twitter.com/electricweegie" target="_blank" rel="noreferrer noopener nofollow"> @ElectricWeegie </a>。我也有一个网站，一个博客，我有一段时间没有更新了，这是electricweegie.com。然后最后可以关注订阅<a href="https://web.archive.org/web/20230106143950/https://open.spotify.com/show/4bRuzmU97MWPDTf2FxkEEc" target="_blank" rel="noreferrer noopener nofollow">“AI对吗？”播客</a>，它在Spotify、Acast或任何你可以获得播客的地方。</p>



<p>然后你会听到我，<a href="https://web.archive.org/web/20230106143950/https://www.linkedin.com/in/megan-a-stamper/?originalSubdomain=uk" target="_blank" rel="noreferrer noopener nofollow"> Megan Stamper </a>，他是BBC机器学习的负责人之一，<a href="https://web.archive.org/web/20230106143950/https://www.linkedin.com/in/krismcfadyen/" target="_blank" rel="noreferrer noopener nofollow"> Kris </a> McFadyen，他是我非常熟悉的人，他做了很多招聘工作。如果你感兴趣的话，你会听到我们谈论苏格兰技术团队，但是我们也在那里谈论ML和MLOps中的许多非常酷的东西。那些是找到我的主要地方。</p>



<p>萨宾:对，有很多渠道可以碰到你。我们将在两周后的8月3日回来，下一次我们的嘉宾将是<a href="https://web.archive.org/web/20230106143950/https://www.linkedin.com/in/aesroka/" target="_blank" rel="noreferrer noopener nofollow">亚当·斯罗卡</a>，我们将讨论<a href="https://web.archive.org/web/20230106143950/https://www.youtube.com/watch?v=iykUtOagU_8&amp;list=PLKePQLVx9tOczB07_oyDkdQqdNiqLV-zX&amp;index=10&amp;ab_channel=NeptuneAI" target="_blank" rel="noreferrer noopener">在你的团队中建立一种MLOps文化</a>。</p>



<p><strong>Sabine</strong>: Right, so plenty of channels to run into you. We’ll be back in two weeks on August 3rd, and next time our guest will be<a href="https://web.archive.org/web/20230106143950/https://www.linkedin.com/in/aesroka/" target="_blank" rel="noreferrer noopener nofollow"> Adam Sroka</a>, we’ll be talking about <a href="https://web.archive.org/web/20230106143950/https://www.youtube.com/watch?v=iykUtOagU_8&amp;list=PLKePQLVx9tOczB07_oyDkdQqdNiqLV-zX&amp;index=10&amp;ab_channel=NeptuneAI" target="_blank" rel="noreferrer noopener">building an MLOps culture on your team</a>.</p>
        </div>
        
    </div>    
</body>
</html>