# MLOps 设置技巧——我们从 7 ML 专家那里学到的东西

> 原文：<https://web.archive.org/web/https://neptune.ai/blog/tips-for-mlops-setup>

与两年前相比，术语“MLOps”现在已经获得了更多的关注，当时它主要被认为是一个“流行语”。今天，机器学习(ML)开发人员通常会通过与 DevOps 的概念进行比较，对该术语有一个清晰的概念，而不是模糊的解释。

这种发展可以归功于 ML 解决方案数量的增加以及随之而来的竞争优势需求的增加。但是 MLOps 如何帮助实现这一目标呢？

MLOps 帮助 ML 团队开发解决方案，并以标准化、快速和最少出错的方式将它们投入生产。这是通过安装在 ML 管道中的一组指导方针和自动化功能来实现的，这些指导方针和自动化功能可以帮助不同的团队轻松地相互协作。

考虑到这一点，在现有渠道的基础上利用和设置 MLOps 的最佳方式是什么？为了最好地回答这个问题，我们收集了 7 位 MLOps 专家的见解！

以下是我们对他们建议的分类:

*   治理准则
*   团队协作
*   时间作为一种度量
*   版本控制和数据记录
*   变形 MLOps 功能

## 创建可靠的治理指导方针

一套标准的规则设定了机器学习团队在共同基础上合作的方式。如果没有适当的指导方针，您可能会在项目中原地打转。治理指南涵盖了 ML 管道的每个阶段，从构思和数据收集阶段到再培训和监控。

[Imtiaz Adam](https://web.archive.org/web/20220928183654/https://www.linkedin.com/in/imtiaz-adam-7467528) 指出了建立可靠的 MLOps 渠道的治理需求:

> “良好的治理和清晰性有助于数据科学模型和绩效反馈的顺利集成。所以，处理数据漂移的能力，干净清晰的 API，便携干净的 docker 映像，自动化文档。”–[Imtiaz Adam](https://web.archive.org/web/20220928183654/https://www.linkedin.com/in/imtiaz-adam-7467528),[深度学习策略有限公司](https://web.archive.org/web/20220928183654/http://www.dls.ltd/)的创始人兼策略和数据科学总监

良好的治理规则也为标准化铺平了道路，标准化是减少重复劳动和时间损失的关键因素。简单来说，标准化指的是一组通用的核心流程，允许开发人员最大化代码和通信的价值。事实上，正如亚马逊的技术经理 Greg Coquillo 所说，标准化的沟通渠道也是必不可少的。想象一下，当您知道在任何给定的沟通阶段需要交换的确切信息时，可以节省多少时间。

> “我会说，在 ML 开发过程中，基于数据质量和可用性以及与业务团队的沟通循环，实施标准化的功能工程和选择程序。”–[Greg Coquillo](https://web.archive.org/web/20220928183654/https://www.linkedin.com/in/greg-coquillo),[亚马逊](https://web.archive.org/web/20220928183654/http://amazon.com/)的技术经理| LinkedIn 2020 年数据科学和人工智能的最高呼声

## 在个人贡献者身上播下 MLOps 的种子

在公司部门开始采用 AI/ML 解决方案的最初几年，MLOps 甚至不是一个合适的术语。然而，随着公司开始从概念验证项目中看到巨大的成果，他们希望将人工智能功能添加到他们的产品中。这意味着 ML 代码的无错快速生产，团队能够生产这些代码，因为他们只需要管理一次性的 ML 项目。

随着时间的推移，管理的 ML 项目的数量显著增加，但是一些开发人员的方法仍然停滞不前。因此，即使 MLOps 能力支持 ML 团队标准化生产高容量和高质量的 ML 解决方案，仍有开发者可能对采用新技术犹豫不决。

> “就像大多数事情一样，实践背后的人是最重要的。要正确实施 MLOps，团队中的每个人都需要同意有正确的做事方法。为了与软件开发相提并论，需要一个忽视测试覆盖率的流氓开发人员来发布损坏的代码。当每个人都同意机器学习应该是协作的、可重复的和持续的，系统和实践将会更容易实现。”–[托尼·佩尔姆基](https://web.archive.org/web/20220928183654/https://www.linkedin.com/in/toniperamaki),[瓦罗海](https://web.archive.org/web/20220928183654/https://valohai.com/)的首席运营官

就像来自 [Valohai](https://web.archive.org/web/20220928183654/https://valohai.com/) 的 Toni perm ki 与软件开发做了一个非常相关的类比，也有计算机安全的类似场景。一个组织的安全性取决于其最薄弱的资源。一个员工甚至一个系统不遵守设定的安全准则，最终会破坏价值可观的安全性。

为了获得团队中每个贡献者对任何 MLOps 指导方针的认同，首先教育团队并指出不实现特定 MLOps 功能的**成本是很重要的。通常，为了消除采用 MLOps 可能带来的惰性，降低性能的想法可能比收益的想法更有效。**

## 将时间作为衡量标准进行优先排序

[拟阵](https://web.archive.org/web/20220928183654/https://www.matroid.com/)的创始人礼萨·扎德提出，让一个濒临死亡的机器学习模型起死回生所需的时间至关重要。重新训练一个模型所需的周转时间绝对是一个比首先构建解决方案所需的时间更重要的度量。这主要是因为一旦解决方案投入生产，只要修复还在进行，最终客户就将面临停机。

> “MLOps 中最重要的实践是最大限度地减少用户处理模型漂移所需的时间。当模型(不可避免地)漂移时，您必须能够快速更新模型。时间越长，生产受到的影响就越大。这就是为什么拟阵优化的事情之一是端到端的重新训练和重新部署，允许我们的用户在几分钟内修复漂移。”–[礼萨·扎德](https://web.archive.org/web/20220928183654/https://www.linkedin.com/in/rezab),[拟阵](https://web.archive.org/web/20220928183654/https://www.matroid.com/)的创始人兼首席执行官

为了能够减少模型更新的周转时间，监控、再培训和特征工程等 ML 流水线阶段必须尽可能标准化和自动化。

此外，减少周转时间需要一个装备良好的监控能力，可以跟踪主要的模型漂移并立即警告团队。为了使模型监控过程有效，可以使用一系列度量标准，例如数据漂移、元数据和模型漂移。

## 版本控制和数据记录

版本化是机器学习实验和结果得以重现的唯一途径。ML 团队在选择最佳实验时，甚至在排除故障时，结果的再现性都是至关重要的。版本化可以分为两种类型:

*   **数据版本化**:跟踪和存储用于不同 ML 实验的不同数据集及其元数据。
*   **模型版本化**:跨各种 ML 实验跟踪和存储模型的参数和元数据。

类似地，日志记录是在构建解决方案的过程中跟踪变化的一种方式。

在减少周转时间方面，当 ML 解决方案中出现问题或者如果模型需要重新训练时，模型版本控制和数据记录可以帮助开发人员通过检查不适当元素的 ML 阶段来快速排除故障。这就是为什么跟踪 ML 流水线中的变化对于减少时间投入以及提高生产过程的质量至关重要。

版本控制和数据记录的重要性得到了进一步强调，因为我们的两位 ML 专家在推荐设置 MLOps 的最佳技巧时意见一致:

> “将显著改进任何 MLOps 实现的最简单的实践是特定于数据的日志记录。如果您只是在 ML 管道的每一步记录数据帧的统计属性，并在推断过程中连续记录，您将立即加快调试速度，减少解决任何问题的时间，并显著简化所有错误分析笔记本。日志记录是任何软件开发中的最佳实践，对于通常缺乏透明性和可再现性的 ML 系统，日志记录是您能用几行代码对您的管道所做的最有影响力的事情。尝试一个开源库，让日志记录变得更容易。”–[阿莱西娅·维森吉奇](https://web.archive.org/web/20220928183654/https://www.linkedin.com/in/alessya),[why labs](https://web.archive.org/web/20220928183654/http://www.whylabs.ai/)的首席执行官兼联合创始人

> “我认为在模型库中收集和维护起源可能是 MLOps 实现中最有用和最关键的实践。当当前部署的模型出现问题时，您需要有能力倒回到模型的以前版本，或者至少有能力比较和解释模型的不同版本之间的不同结果，特别是当利益相关者问为什么事情会不同时，他们会问。”–[柯克·伯恩](https://web.archive.org/web/20220928183654/https://www.linkedin.com/in/kirkdborne)，博士，[数据犯罪公司](https://web.archive.org/web/20220928183654/https://dataprime.ai/)的首席科学官

## 变形 MLOps 功能以适应流程

菲尔·温德(Phil Winder)提供了一个禅宗式的最佳实践技巧，为思考提供了重要的食物。这条建议可能类似于亚里士多德的名言:“了解你自己是所有智慧的开始”。将同样的方法应用于 MLOps 的采用，考虑 MLOps 只不过是增强现有 ML 管道的一种方式，并且如果没有对组织的 ML 架构的透彻理解，MLOps 的用途是最小的。

> “我的第一条建议是，MLOps 不是一种工具。它不是一个产品。它描述了自动化和简化构建人工智能相关产品和服务的过程的尝试。因此，花时间定义您的过程，然后找到适合该过程的工具和技术。例如，银行的流程与科技创业公司的流程大相径庭。因此，最终的 MLOps 实践和堆栈也会非常不同。”–[菲尔·温德](https://web.archive.org/web/20220928183654/https://www.linkedin.com/in/drphilwinder),[温德研究公司首席执行官](https://web.archive.org/web/20220928183654/https://winderresearch.com/)

## 在您的组织中设置 MLOps 的更多最佳实践

如果计划不周，随着时间的推移，运行端到端的 ML 管道会使组织的资源紧张。因此，在设置 MLOps 指导方针时，务必注意可用的财务、人工和机器资源，以便能够创建分配计划。

*   **CI/CD 管道自动化**

CI 代表持续集成，这个模块负责在自动化的帮助下跨各种测试用例、运行时和环境持续构建和测试解决方案。CD 代表持续部署，负责自动处理生产环境。在建立 MLOps 渠道时，CI/CD 自动化应该是最终目标，即使一开始并不可行。

*   **跟踪运营指标**

定期跟踪 ML 管道的性能是非常有益的。前面我们讨论了再培训的周转时间，还有几个其他指标，当结合起来时，可以准确地反映管道的健康状况。这些指标包括部署时间、处理时间、再培训频率等等。

## 最后一个音符

稳定可靠的 MLOps 管道现在是当务之急，尤其是对于那些希望大规模实现机器学习的组织。ML 项目、工具和团队总是随着领域的指数级发展而变化，MLOps 提供了优化变更管理的正确手段。在最少扰动的情况下，质量、数量和时间等因素不会因为 MLOps 而受到影响。

借助来自行业精英的最佳技巧，您无疑离构建适合您组织的 MLOps 更近了一步。

### 萨马德里塔·戈什

一个内容营销和 AI 爱好者。她的使命是帮助基于人工智能的公司建立品牌知名度，并通过高质量的内容抓住网民的巨大市场，无论是信息丰富的博客还是教育播客！

* * *

**阅读下一篇**

## 最佳 MLOps 工具以及如何评估它们

12 分钟阅读| Jakub Czakon |年 8 月 25 日更新

在我们的一篇文章中——[机器学习团队实际使用的最好的工具、库、框架和方法——我们从 41 家 ML 初创公司学到的东西](https://web.archive.org/web/20220928183654/https://neptune.ai/blog/tools-libraries-frameworks-methodologies-ml-startups-roundup)——Acerta 的 CTO Jean-Christophe Petkovich 解释了他们的 ML 团队如何接近 MLOps。

**据他所说，一个完整的 MLOps 系统有几个要素:**

*   您需要能够构建包含预处理数据和生成结果所需的所有信息的模型工件。
*   一旦您能够构建模型工件，您必须能够跟踪构建它们的代码，以及它们被训练和测试的数据。
*   您需要跟踪所有这三样东西，模型、它们的代码和它们的数据，是如何关联的。
*   一旦您可以跟踪所有这些内容，您还可以将它们标记为准备就绪，进行生产，并通过 CI/CD 流程运行它们。
*   最后，为了在该过程的最后实际部署它们，您需要某种方法来基于该模型工件旋转服务。

这是对如何在公司中成功实施 MLOps 的高度概括。但是理解高层需要什么只是拼图的一部分。另一个是采用或创建适当的工具来完成工作。

这就是为什么我们编制了一份**最佳 MLOps 工具**的清单。我们将它们分为六类，以便您可以为您的团队和业务选择合适的工具。让我们开始吧！

[Continue reading ->](/web/20220928183654/https://neptune.ai/blog/best-mlops-tools)

* * *