<html>
<head>
<title>Exploratory Data Analysis for Tabular Data </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>表格数据的探索性数据分析</h1>
<blockquote>原文：<a href="https://web.archive.org/web/https://neptune.ai/blog/exploratory-data-analysis-for-tabular-data#0001-01-01">https://web.archive.org/web/https://neptune.ai/blog/exploratory-data-analysis-for-tabular-data#0001-01-01</a></blockquote><div><div class="l-content content-wrapper js-content">
            
<p>通常，在查看任何数据集时，我们会看到一堆充满数字甚至一些字母、单词或缩写的行和列。理解这些数据并试图获得尽可能多的洞察力是开始模型开发过程的明智策略。在本文中，我们将了解EDA、其类型、技术、基础假设和工具，同时，我们将对一个样本数据集进行探索性数据分析，以了解它为什么如此重要和有用。</p>



<p>让我们从一个简短的介绍开始。</p>



<h2 id="h-what-is-exploratory-data-analysis">什么是探索性数据分析？</h2>



<p>根据<a href="https://web.archive.org/web/20221117203556/https://www.itl.nist.gov/div898/handbook/eda/section1/eda11.htm" target="_blank" rel="noreferrer noopener nofollow"> NIST </a>(美国国家标准与技术研究院)的说法，EDA是一个非形式化的过程，没有确定的规则和技术；相反，这更像是一种关于如何进行数据分析的哲学或态度。再者，著名数学家和统计学家约翰·w·图基(John W. Tukey)在他的著作《<strong><a href="https://web.archive.org/web/20221117203556/http://www.ru.ac.bd/wp-content/uploads/sites/25/2019/03/102_05_01_Tukey-Exploratory-Data-Analysis-1977.pdf" target="_blank" rel="noreferrer noopener nofollow"/></strong>探索性数据分析》中，将EDA描述为侦探的工作。分析师或数据科学家使用它来建立模型拟合和假设检验所需的假设，并在必要时处理缺失值和转换变量。</p>



<p>为了进一步简化，我们可以将EDA描述为一个迭代循环，其中您可以:</p>



<div id="case-study-numbered-list-block_631735ec810a3" class="block-case-study-numbered-list ">

    
    <h2 id="h-"/>

    <ul class="c-list">
                    <li class="c-list__item"><span class="c-list__counter"> 1 </span>对你的数据产生疑问。<br/></li>
                    <li class="c-list__item"><span class="c-list__counter"> 2 </span>通过对数据进行可视化、转换和建模来寻找答案。<br/></li>
                    <li class="c-list__item"><span class="c-list__counter"> 3 </span>利用你所学到的知识提炼你的问题和/或提出新的问题。</li>
            </ul>
</div>



<p>这些问题可以是:</p>



<ul><li>最能描述数据的典型值或中心值是什么？</li><li>典型值的数据分布如何？</li><li>什么是适合数据的分布？</li><li>某个特征会影响目标变量吗？</li><li>统计上最重要的特征/变量是什么？</li><li>将目标变量与一组其他变量/特征相关联的最佳函数是什么？</li><li>数据是否有异常值？</li></ul>







<h3>探索性数据分析与经典数据分析</h3>



<p>除了EDA，还有其他数据分析方法，经典数据分析是最流行的方法之一。探索性数据分析和经典数据分析都是从一个问题开始，然后收集可以用来理解问题的相关数据。它们都以产生关于数据的一些推论而结束。这就是它们的相似之处，现在让我们看看它们的不同之处:</p>



<div id="medium-table-block_63173632810a7" class="block-medium-table ">

    <table class="c-table">
                    <thead class="c-table__head">
            <tr>
                                    <td class="c-item">
                        <p class="c-item__inner">因素</p>
                    </td>
                                    <td class="c-item">
                        <p class="c-item__inner">探索性数据分析</p>
                    </td>
                                    <td class="c-item">
                        <p class="c-item__inner">经典数据分析</p>
                    </td>
                            </tr>
            </thead>
        
        <tbody class="c-table__body">

                    
                <tr class="c-row">

                    
                        <td class="c-ceil">                                                      </td>

                    
                        <td class="c-ceil"><div class="c-ceil__inner"> <p>不对数据强加确定性或概率性模型。相反，它允许数据建议最适合数据的可接受模型。</p>T3】</div></td>

                    
                        <td class="c-ceil"><div class="c-ceil__inner"> <p>对数据施加确定性和概率性模型。</p>T3】</div></td>

                    
                </tr>

            
                <tr class="c-row">

                    
                        <td class="c-ceil">                                                      </td>

                    
                        <td class="c-ceil"><div class="c-ceil__inner"> <p>数据的结构，离群值，以及数据所暗示的模型。</p>T3】</div></td>

                    
                        <td class="c-ceil"><div class="c-ceil__inner"> <p>模型的参数，并从模型中生成预测值。</p>T3】</div></td>

                    
                </tr>

            
                <tr class="c-row">

                    
                        <td class="c-ceil">                                                      </td>

                    
                        <td class="c-ceil"><div class="c-ceil__inner"> <p>一般为图形，例如散点图、特征图、箱线图、直方图、双直方图、概率图、残差图和均值图。</p>T3】</div></td>

                    
                        <td class="c-ceil"><div class="c-ceil__inner"> <p>一般为定量，例如，方差分析、t检验、卡方检验和f检验。</p>T3】</div></td>

                    
                </tr>

            
                <tr class="c-row">

                    
                        <td class="c-ceil">                                                      </td>

                    
                        <td class="c-ceil"><div class="c-ceil__inner"> <p>本质上具有暗示性、洞察力和主观性。</p>T3】</div></td>

                    
                        <td class="c-ceil"><div class="c-ceil__inner"> <p>本质上严谨、正式、客观。</p>T3】</div></td>

                    
                </tr>

            
                <tr class="c-row">

                    
                        <td class="c-ceil">                                                      </td>

                    
                        <td class="c-ceil"><div class="c-ceil__inner"> <p>使用所有可用的数据，从这个意义上说，没有相应的信息损失。</p>T3】</div></td>

                    
                        <td class="c-ceil"><div class="c-ceil__inner"> <p>将数据浓缩成位置、变化等重要特征。同时过滤其他一些重要因素，如偏斜度、尾长、自相关等。，导致信息丢失。</p>T3】</div></td>

                    
                </tr>

            
                <tr class="c-row">

                    
                        <td class="c-ceil">                                                      </td>

                    
                        <td class="c-ceil"><div class="c-ceil__inner"> <p>很少或不做假设，因为这些技术使用所有的数据。</p>T3】</div></td>

                    
                        <td class="c-ceil"><div class="c-ceil__inner"> <p>依赖于常态等基本假设。</p>T3】</div></td>

                    
                </tr>

                    
        </tbody>
    </table>

</div>



<p id="separator-block_63173e71810c4" class="block-separator block-separator--15"> </p>



<p class="has-text-align-center"><em>探索性数据分析和经典数据分析的参数差异</em></p>



<p id="separator-block_631748b3810d2" class="block-separator block-separator--10"> </p>



<p>应该注意的是，在现实世界中，我们可能会在数据分析过程中同时使用这两种方法和其他方法中的元素。例如，在进行EDA时，使用ANOVA和卡方检验来理解数据集不同特征之间的关系是很常见的。</p>



<h3>单变量分析与多变量分析</h3>



<p>通常我们的数据集包含不止一个变量，在这种情况下，我们可以进行单变量和多变量分析来更好地理解我们的数据。</p>



<p>术语单变量分析是指对一个变量的分析，基本上是分析数据的最简单形式。单变量分析的目的是了解单个变量的值的分布，而不是处理整个数据集中变量之间的关系。直方图、条形图和核密度图等汇总统计数据和频率分布图是进行单变量分析的一些常用方法。</p>



<p>另一方面，与单变量分析相比，多变量分析可以考虑数据集中的所有变量，这使其变得复杂。这种分析的主要目的是找到变量之间的关系，以便更好地理解整体数据。通常情况下，现实世界中的任何现象都受到多重因素的影响，这使得多元分析更加现实。多变量分析中常用的一些方法有回归分析、主成分分析、聚类、相关和散点图等图表。</p>



<h3>探索性数据分析(EDA)工具</h3>



<p>用于探索性数据分析的一些最常用的工具有:</p>







<h3>探索性数据分析(EDA)假设</h3>



<p>每一个测量过程都包括一些潜在的假设，这些假设在统计上是正确的。特别是，有四个假设共同构成了所有测量程序的基础。</p>



<div id="case-study-numbered-list-block_63173f22810c5" class="block-case-study-numbered-list ">

    
    <h2 id="h-"/>

    <ul class="c-list">
                    <li class="c-list__item"><span class="c-list__counter"> 1 </span>数据随机抽取。<br/></li>
                    <li class="c-list__item"><span class="c-list__counter"> 2 </span>数据属于固定分布。<br/></li>
                    <li class="c-list__item"><span class="c-list__counter"> 3 </span>分布有固定位置。<br/></li>
                    <li class="c-list__item">分布有固定的变化。</li>
            </ul>
</div>



<p>简而言之，我们希望数据有一些我们可以发现的底层结构。否则，试图从数据中找出任何意义完全是浪费时间，这些数据给人的感觉是随机的噪音。</p>



<p>如果这四个基本假设为真，我们将获得概率可预测性，这允许我们对过程的过去和未来做出概率声明。它们被称为“统计控制”过程。此外，如果这四个假设是真的，该方法可以产生可靠的结论是可重复的。</p>



<p>但是对于不同的问题类型，对这些假设的解释可能不同。因此，这里我们将描述最简单问题类型的这些假设，即单变量问题。在单变量系统中，响应包括确定性(常数)和随机(误差)部分，因此我们可以将上述假设改写为:</p>



<div id="case-study-numbered-list-block_63173f5b810ca" class="block-case-study-numbered-list ">

    
    <h2 id="h-"/>

    <ul class="c-list">
                    <li class="c-list__item"><span class="c-list__counter"> 1 </span>数据点彼此不相关。<br/></li>
                    <li class="c-list__item"><span class="c-list__counter"> 2 </span>随机分量有固定分布。<br/></li>
                    <li class="c-list__item">确定性分量仅由一个常数组成。<br/></li>
                    <li class="c-list__item"><span class="c-list__counter"> 4 </span>随机分量有固定的变化量。</li>
            </ul>
</div>



<p>单变量模型的普遍性和重要性在于，当确定性成分不仅是一个常数，而且是几个变量的函数时，它能够很容易地推断出更一般的问题。</p>



<p>在本文中，我们还将看到如何使用一些简单的EDA技术来测试这些假设，即直方图、滞后图、概率图和运行序列图。</p>



<h2 id="h-exploratory-data-analysis-with-a-sample-tabular-dataset">使用样本表格数据集进行探索性数据分析</h2>



<p>现在，在阅读本文的其余部分之前，我将举一个数据集的例子——“120年奥运历史:运动员和成绩”，这是一个包含从1896年雅典到2016年里约奥运会运动员和奖牌成绩的基本数据的数据集。</p>



<p>该数据集中的主要变量或属性是:</p>



<ul><li>ID——每个运动员的唯一号码；</li><li>姓名——运动员的姓名；</li><li>性别——男或女；</li><li>年龄–整数；</li><li>高度——以厘米为单位；</li><li>重量——以千克为单位；</li><li>团队——团队名称；</li><li>NOC国家奥林匹克委员会3个字母的代码；</li><li>运动会——年份和季节；</li><li>年份–整数；</li><li>季节——夏天或冬天；</li><li>城市——主办城市；</li><li>运动——运动；</li><li>事件–事件；</li><li>奖牌——金、银、铜或钠。</li></ul>



<p>将这些数据存储在pandas数据帧中后，我们可以看到前5行，如下所示:</p>


<div class="wp-block-image">
<figure class="aligncenter size-large"><img decoding="async" src="../Images/e88c5a381a1d1dea5e3cea651adda90d.png" alt="Data in pandas dataframe" class="wp-image-71227" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-1a.png?ssl=1"/><figcaption><em>Sorted data in pandas dataframe</em></figcaption></figure></div>


<p>如前所述，在EDA中，生成关于数据集的问题以理解数据是一种很好的做法。例如，关于这些数据，我想找出以下问题的答案:</p>



<ul><li>哪些国家培养出更多的金牌运动员？</li><li>运动员的任何身体特征，比如身高，会让他比其他人更有优势吗？</li><li>有没有一些高度相关的特性可以被删除？</li><li>数据中是否存在某种偏差？</li></ul>



<p>当然，您可以对该数据提出一组完全不同的问题，这可能与您的数据集用例更相关。在接下来的章节中，除了回顾这些概念，我们还将尝试找到上述问题的答案。</p>



<h3>描述统计学</h3>



<p>描述性统计对数据进行总结，使其更容易理解和分析。请记住，EDA的目的之一是了解变量属性，如中心值、方差、偏斜度，并提出可能的建模策略。描述性统计分为两大类:</p>



<h4>集中趋势的度量</h4>



<p>它们被计算以给出一个“中心”,数据中的测量值围绕该中心分布。我们可以使用均值、中值或众数来寻找数据的中心值。</p>



<h5>平均</h5>



<p>平均值是最广泛使用的确定中心值的方法。计算方法是将所有数据值相加，然后用总数除以数据点数。</p>



<h5>中位数</h5>



<p>数据集正中间的值被定义为中值。按升序排列值后，找到数据中间的数字。如果中间有两个数字，则中值计算为它们的平均值。</p>



<h5>方式</h5>



<p>模式可能是计算数据集中中心值的最简单的方法。它等于最频繁的数字，即在数据中出现次数最多的数字。</p>



<p>需要注意的是，平均值最适用于没有异常值的对称分布，而中值适用于偏态分布或有异常值的数据。该模式是最少使用的集中趋势指标，仅在处理名义数据时使用。</p>



<h4>离差的度量</h4>



<p>离差的度量描述了“数据扩散”，即测量值离中心有多远。一些常见的措施是:</p>



<h5>范围</h5>



<p>特定数据集的范围是其最大值和最小值之间的差值。范围值越大，数据的分布范围就越大。</p>



<h5>百分位数或四分位数</h5>



<p>将数据分成四份的数字称为四分位数。通常，他们根据数字在数字线上的位置将数据分成四个部分。数据收集分为四个四分位数:</p>



<ul><li>第一个四分位数:最低的25%的数字。</li><li>第二个四分位数:下一个最低的25%的数字(直到中位数)。</li><li>第三个四分位数:第二高的25%的数字(高于中位数)。</li><li>第四个四分位数:最高的25%的数字。</li></ul>



<p>基于上述四分位数，我们还可以在此定义一些附加术语，例如:</p>



<ul><li>第25个百分位数是第一个四分位数末尾的值。</li><li>第50个百分位数是第二个四分位数(或中位数)的末端值</li><li>第75个百分位数是第三个四分位数的末尾。</li><li>IQR，也称为四分位距，是一种衡量数据如何围绕平均值分布的方法。</li></ul>



<p>我们可以使用箱线图绘制百分位数，我们将在本文后面看到</p>



<h5>差异</h5>



<p>方差衡量每个点与平均值的平均差异程度。可以使用以下公式计算:</p>


<div class="wp-block-image">
<figure class="aligncenter size-full"><img decoding="async" src="../Images/2da75eb7db8439a9a6c787e0f5f9f207.png" alt="Formula for the varaince " class="wp-image-71228" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-1b.png?ssl=1"/><figcaption><em>Formula for calculating the variance</em></figcaption></figure></div>


<p>其中x <sub> i </sub>是数据点，μ是对所有数据点计算的平均值。</p>



<p>在前面提到的例子中，以下数据点的方差为3.95:6，8，7，10，8，4，9</p>



<h5>标准偏差</h5>



<p>标准偏差值告诉我们所有数据点偏离平均值的程度，但它会受到异常值的影响，因为它使用平均值进行计算。它等于方差的平方根。</p>



<h5>歪斜</h5>



<p>数据集中与对称钟形曲线或正态分布的偏差称为偏斜度。大于1或小于-1的偏斜值表示高度偏斜的分布。介于0.5和1之间或-0.5和-1之间的值是适度倾斜的。介于-0.5和0.5之间的值表示分布相当对称。我们可以使用pandas函数skew来找出所有数值变量的偏斜度:</p>


<div class="wp-block-image">
<figure class="aligncenter size-full"><img decoding="async" src="../Images/96f20e6d3e860b43e50ee700d10cd645.png" alt="Pandas functions skew" class="wp-image-71229" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-2.png?ssl=1"/><figcaption><em>Finding skewness using the pandas skew function</em></figcaption></figure></div>


<p>我们可以使用简单的pandas方法来查找这些统计数据中的大部分，例如数据中所有数值变量的最小值、最大值、平均值、百分位值和标准偏差:</p>


<div class="wp-block-image">
<figure class="aligncenter size-large"><img decoding="async" src="../Images/8b1927b34f8b297b4cf67792c6fb40ae.png" alt="Using a simple pandas method " class="wp-image-71230" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-3.png?ssl=1"/><figcaption><em>Using a simple pandas method to find statistics </em></figcaption></figure></div>


<p>谈到探索性数据分析中使用的技术，它们可以大致分为图形和非图形技术，其中大部分是图形技术。虽然非图形方法是定量和客观的，但它们不能提供数据的完整图像。因此，图解法，这是更多的定性和涉及一些主观分析，也是必要的。</p>



<h3>图形技术</h3>



<h4>柱状图</h4>



<p>直方图是一种图表，它将具有连续值的数值变量(单变量)的值分布显示为一系列条形。每个条形通常跨越一个称为柱或类的数值范围，其中条形的高度显示数据点在相应柱中出现的值内的频率。</p>



<p>使用直方图，我们可以了解数据的中心、数据的分布、数据的偏斜度以及异常值的存在。</p>



<p>例如，我们可以为数据集中的数值变量(如高度)绘制直方图。</p>


<div class="wp-block-image">
<figure class="aligncenter size-large"><img decoding="async" src="../Images/ddb221a2a83da4157e8a73b4c6dba1cf.png" alt="Example of histogram for the numerical variable" class="wp-image-71231" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-4.png?ssl=1"/><figcaption><em>Histogram for the numerical variable</em> – height</figcaption></figure></div>


<p>从这个直方图中，我们可以确认运动员的平均身高在175 cm左右，这从最后一节中的“<em>数据的输出中也可以明显看出。</em></p>



<h4>正态概率图</h4>



<p>通常，概率图是一种可视化工具，用于确定数据集中的变量是否具有近似的理论分布，如正态分布或伽玛分布。此图生成样本数据相对于指定理论分布(在本例中为正态分布)分位数的概率图。</p>



<p>例如，我们可以绘制数据集中数值变量高度的正态概率图。</p>


<div class="wp-block-image">
<figure class="aligncenter size-large"><img decoding="async" src="../Images/f56f3d5fb439922f3633a41b72c8c07a.png" alt="Example of  Normal Probability Plot" class="wp-image-71232" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-5.png?ssl=1"/><figcaption><em> Normal Probability Plot for the numerical variable</em> – height</figcaption></figure></div>


<p>正如我们所看到的，直方图有点倾斜，因此在正态概率图中有一条轻微的曲线。我们可以执行诸如幂变换之类的技术，这将使这个变量的概率分布更加高斯或正态。</p>



<p>使用直方图和概率图，我们可以测试EDA假设之一，即数据的固定分布。例如，如果正态概率图是线性的，则基础分布是固定的和正态的。此外，由于直方图用于表示数据的分布，钟形直方图意味着基本分布是对称的，并且可能是正态分布。</p>



<h4>核分布估计或KDE图</h4>



<p><a href="https://web.archive.org/web/20221117203556/https://jakevdp.github.io/PythonDataScienceHandbook/05.13-kernel-density-estimation.html"> </a> <a href="https://web.archive.org/web/20221117203556/https://seaborn.pydata.org/tutorial/distributions.html#tutorial-kde" target="_blank" rel="noreferrer noopener nofollow">核分布估计</a>图描绘了连续数值变量的概率密度函数，可视为类似于直方图。我们可以将该图用于单变量和多变量数据。</p>



<p>例如，我们可以为数据集中的数值变量(如高度)绘制KDE图。因此，我们在这里为篮球和游泳项目的金牌得主绘制了KDE图。</p>


<div class="wp-block-image">
<figure class="aligncenter size-large"><img decoding="async" src="../Images/94c1e56ff9066731b2a8ce01c9a41d76.png" alt="Example of KDE Plot" class="wp-image-71233" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-6.png?ssl=1"/><figcaption><em>KDE Plot for a numerical variable – height</em></figcaption></figure></div>


<p>y值是对x轴上相应值的概率密度的估计，x轴是身高变量，因此曲线下175 cm和180 cm之间的面积给出了奥运会运动员身高在175 cm和180 cm之间的概率。</p>



<p>我们可以在KDE图上清楚地看到，如果一个篮球运动员个子高，他/她赢得金牌的概率就更高，而在游泳比赛中，身高是一个相对较小的因素。</p>



<h4>圆形分格统计图表</h4>



<p>饼图是一种圆形统计图形，用于说明分类变量的分布。饼图被分成多个切片，每个切片代表数据中的每个类别。对于上述数据集，我们可以使用饼图描述前10个国家的金牌份额，如下所示:</p>


<div class="wp-block-image">
<figure class="aligncenter size-large"><img decoding="async" src="../Images/f7d1c6d60cf80bf5fdb1e974128bbb9d.png" alt="Example of pie chart" class="wp-image-71234" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-7.png?ssl=1"/><figcaption><em>A pie chart with gold medals among the top 10 countries</em></figcaption></figure></div>


<p>通过这个饼图，我们可以看到美国、俄罗斯和德国是奥运会上领先的国家。</p>



<h4>条形图</h4>



<p>条形图，有时也称为条形图，是一种使用矩形条显示分类变量的图表或图形，矩形条的高度与它们所代表的值成比例。条形图可以水平或垂直绘制。</p>



<p>对于这个数据集，我们可以将前20名国家获得的金牌数绘制如下。</p>


<div class="wp-block-image">
<figure class="aligncenter size-large"><img decoding="async" src="../Images/75fe7e1e517e111b70f3a5271cba8661.png" alt="Example of a bar chart " class="wp-image-71235" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-8.png?ssl=1"/><figcaption><em>A bar chart with the number of gold medals won by the top 20 countries</em></figcaption></figure></div>


<p>很明显，我们需要一个相当大的饼图来显示这些信息。相反，我们可以使用条形图，因为它看起来更直观，更容易理解。</p>



<h4>堆积条形图</h4>



<p>堆积条形图是简单条形图的扩展，我们可以用它来表示多个变量。每个条形被进一步划分为多个段，每个段代表一个类别。堆积条形图中条形图的高度由变量的组合高度决定。</p>



<p>我们现在可以显示前20个国家获得的金牌、银牌和铜牌数量如下:</p>


<div class="wp-block-image">
<figure class="aligncenter size-large"><img decoding="async" src="../Images/46b48ea47b1e29523f9b8cc27f91f823.png" alt="Example of stacked bar chat " class="wp-image-71236" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-9.png?ssl=1"/><figcaption><em>Stacked bar chart with the number of gold, silver, and bronze won by the leading 20 countries</em></figcaption></figure></div>


<p>因此，正如我们在上面的堆叠图中看到的，美国在金牌数和奖牌总数上仍然领先。当我们比较意大利和法国时，虽然法国的奖牌总数比意大利多，但意大利的金牌数却略多。因此，这个图允许我们获得更精细的信息，否则我们很容易错过。</p>



<h4>折线图</h4>



<p>折线图或曲线图类似于条形图，但它不是以条形显示信息，而是以数据点的集合的形式显示信息，这些数据点以特定的模式由线条连接起来。折线图有一个优势——在折线图上比在条形图上更容易看到小的变化，并且线条非常清晰地代表了整体趋势。</p>



<p>如前所述，折线图是描述某些趋势的绝佳选择，例如过去几年女运动员参赛人数的增加。</p>


<div class="wp-block-image">
<figure class="aligncenter size-large"><img decoding="async" src="../Images/23cb4f672f6540ddd7f4e874312c88cc.png" alt="Example of line chart " class="wp-image-71237" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-10.png?ssl=1"/><figcaption><em>Line chart with the number of women participating in the Olympics</em></figcaption></figure></div>


<p>从上面的线状图中，我们可以看到1980年后女性参加奥运会的人数急剧上升。</p>



<h4>运行顺序图</h4>



<p>如果我们在变量值和虚拟指数之间绘制一个线形图，我们会得到一个运行序列图。这很重要，因为我们可以在进行探索性数据分析时测试固定位置和固定变化假设。</p>



<p>如果运行序列图平坦且无漂移，则固定位置假设成立，而如果运行序列图的垂直分布在整个图上大致相同，则固定变化假设成立。</p>


<div class="wp-block-image">
<figure class="aligncenter size-large"><img decoding="async" src="../Images/d1dd7101d69530691eec0420943ccbca.png" alt="Example of Run Sequence plot" class="wp-image-71238" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-11.png?ssl=1"/><figcaption><em>Run Sequence plot </em></figcaption></figure></div>


<p>因此，我们使用该图来检查数据集中的可变高度是否具有固定位置和固定变化，正如我们所看到的，该图看起来没有漂移且平坦，在整个图中具有均匀的垂直分布，因此这两个假设对该变量都成立。</p>



<h4>面积图</h4>



<p>面积图类似于折线图，只是x轴和线条之间的区域用颜色或阴影填充。折线图和面积图的用例几乎是相似的。</p>



<p>对于我们的数据集，我们可以使用面积图来比较男女运动员历年获得的金牌数。</p>


<div class="wp-block-image">
<figure class="aligncenter size-large"><img decoding="async" src="../Images/91d6c63a432ba1eea83d466a20d6dc75.png" alt="Example of area plot" class="wp-image-71239" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-12.png?ssl=1"/><figcaption><em>Area plot used to compare the gold medals won by men and women over the years</em></figcaption></figure></div>


<p>由于自1980年以来有了更多的女运动员，我们也可以看到女性赢得的金牌数量激增。这是一个重要的观察，因为基于1980年以前的数据，我们可以错误地得出结论，男性运动员比女性运动员有更高的夺金机会。因此，我们可以说，在这个数据集中存在一种被称为<a href="https://web.archive.org/web/20221117203556/https://www.kdnuggets.com/2019/08/types-bias-machine-learning.html" target="_blank" rel="noreferrer noopener nofollow">偏见的偏见</a>。</p>



<h4>箱形图</h4>



<p>箱线图，也称为盒须图，显示连续变量的数据分布。它通常显示五个数字的摘要，即数据集的最小值、第一个四分位数、中值、第三个四分位数和最大值。从第一个四分位数到第三个四分位数画一个方框，数据的中位数用画过方框的垂直线表示。此外，箱线图可用作检验正态性或识别可能异常值的可视化工具。</p>



<p>盒状图还包含触须，触须是从盒中延伸出来的线。对于更一般的情况，如上所述，下须的边界是数据的最小值，而上须的边界是其最大值。</p>



<p>在我们还想发现异常值的情况下，我们使用箱线图的变体，其中晶须从箱线图的顶部和底部延伸到四分位数范围(IQR)的1.5倍。四分位数间距(IQR)是上四分位数(第三季度)和下四分位数(Q1)之间的距离，通过从第三季度减去Q1来计算。落在胡须末端之外的数据点称为异常值，用点表示。</p>



<p>在我们的数据集中，我们可以为数字变量(如身高、年龄和体重)绘制箱线图。</p>


<div class="wp-block-image">
<figure class="aligncenter size-large"><img decoding="async" src="../Images/2ef915355377e38f6097e5964baf3107.png" alt="Example of box plot" class="wp-image-71240" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-13.png?ssl=1"/><figcaption><em>Box plots for the numeric variables – height, weight, age</em></figcaption></figure></div>


<p>因此，从上面的箱线图中，我们可以很好地了解身高、体重和年龄变量的分布情况。我们还可以看到体重和年龄特征有很多异常值，主要是在较高的en值。</p>



<h4>散点图</h4>



<p>在大多数情况下，散点图用于检查数据集中两个连续变量之间的相关性。这两个变量的值由水平轴和垂直轴表示，它们的笛卡尔坐标对应于单个数据点的值。</p>



<p>在我们的数据集中，我们可以尝试找出身高和体重变量之间的关系，如下所示:</p>


<div class="wp-block-image">
<figure class="aligncenter size-large"><img decoding="async" src="../Images/8c0c1783603abfe960914ca82669a17c.png" alt="Example of scatter plot" class="wp-image-71241" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-14.png?ssl=1"/><figcaption><em>Scatter plot used to find the relation between height and weight </em></figcaption></figure></div>


<p>为了更进一步，我们可以增加一个分类变量，如运动员的性别，如下所示:</p>


<div class="wp-block-image">
<figure class="aligncenter size-large"><img decoding="async" src="../Images/11e4724a7b538673a724dac385ecba41.png" alt="Another example of scatter plot" class="wp-image-71242" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-15.png?ssl=1"/><figcaption><em>Scatter plot expanded to include the sex of an athlete</em></figcaption></figure></div>


<p>从上面的散点图中，我们可以得出结论，大多数男运动员在身高和体重方面比女运动员有优势。此外，我们不能忽视这样一个事实，即随着体重的增加，运动员的身高也会增加，这可能是运动员整体健康状况的一个指标。</p>



<h4>Lag plot</h4>



<p>滞后图是一种特殊的散点图，其中X轴和Y轴代表相同的数据点，但在指数或时间单位上有所不同。这些时间单位之间的差异称为滞后。</p>



<p>设Y(i)为变量/特征在索引I或时间步长I(对于时间序列数据)的假设值，则滞后图包含以下轴:</p>



<p>纵轴:Y(i)表示所有I，从0到n。</p>



<p>横轴:Y(i-k)表示所有I，其中k是滞后值，默认为1。</p>



<p>随机性假设是最关键的，但也是最少测试的，我们可以使用滞后图来检查它。如果数据是随机的，图表上的点将在水平和垂直方向上相当均匀地分布，表明没有模式。另一方面，具有某种形式或趋势(如线性模式)的图表显示数据并非完全随机。</p>



<p>我们可以绘制数据集高度变量的滞后图，如下所示:</p>


<div class="wp-block-image">
<figure class="aligncenter size-large"><img decoding="async" src="../Images/91fb7fe00532881d1ff40337f09afabc.png" alt="Example of a lag plot" class="wp-image-71243" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-16.png?ssl=1"/><figcaption><em>Lag plot for a numerical variable – height</em></figcaption></figure></div>


<p>这里的数据似乎是完全随机的，似乎没有模式存在。因此，数据也满足随机性假设。</p>



<h4>配对图</h4>



<p>配对图是一种数据可视化，它在网格中显示数据集的各种变量之间的成对关联，以便我们可以更容易地看到它们之间的关系。网格的对角线可以表示直方图或KDE，如下例所示，在该例中，我们比较了数据集的身高、体重和年龄变量。</p>


<div class="wp-block-image">
<figure class="aligncenter size-large"><img decoding="async" src="../Images/9aeae6e6eccf346b3019289463a1ffc0.png" alt="Example of a pair plot " class="wp-image-71244" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-17.png?ssl=1"/><figcaption><em>Pair plot for the dataset </em></figcaption></figure></div>


<p>在此图中，我们可以尝试找出任何两个特征是否相关。正如我们所看到的，年龄和身高或年龄和体重之间似乎没有明确的关系。如前所述，体重和身高之间似乎存在相关性，这一点也不奇怪。一件有趣的事情是，我们是否可以在不丢失太多信息的情况下删除这些特性。</p>



<h4>热图</h4>



<p>热图是数据的二维矩阵表示，其中每个单元格用一种颜色表示。通常，在EDA过程中，我们使用这种可视化来绘制数据集中所有数值变量之间的相关性。</p>



<p>让我们试着在数据集的几个变量中找到这样的关系。</p>


<div class="wp-block-image">
<figure class="aligncenter size-large"><img decoding="async" src="../Images/39c1c5eeac7735bb6d7e128dcd753c91.png" alt="Example of a heatmap" class="wp-image-71245" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20221117203556im_/https://i0.wp.com/neptune.ai/wp-content/uploads/2022/10/exploratory-data-analysis-for-tabular-data-18.png?ssl=1"/><figcaption><em>Heatmap for the dataset</em></figcaption></figure></div>


<p>相关性是一个统计术语，用来衡量两个变量相互协调的程度。如果两个变量同向移动，那么这两个变量就是正相关，反之亦然。此外，如果两个变量没有关系，那么相关值接近于零，就像在我们的例子中身高和年龄之间一样。</p>



<p>现在我有了问题的答案，但其中一些答案会引出一系列新的问题——</p>



<ol><li>我们现在知道美国在奥运会上获得了最多的奖牌，但是知道其他国家落后于美国以及为什么落后会很有趣。</li><li>我们发现，运动员的身高等一些因素在篮球比赛中可能是有利的，所以在篮球队中增加更多高个子运动员是有意义的。</li><li>我们现在还知道，我们有可能删除体重或身高特征，而不会丢失太多数据信息。</li><li>还有，很明显数据是有偏差的，如果我们用这个数据去训练任何一个模型，都可能产生一个对女运动员有偏见的模型。</li></ol>



<p>要回答后续的问题，你可以用更细粒度、更细致的方式做EDA，找到一些关于这些数据更有趣的东西。</p>



<h3>定量技术</h3>



<p>尽管EDA主要以图形技术为中心，但它也包括某些定量方法。大多数定量技术分为两大类:</p>



<div id="case-study-numbered-list-block_631747f8810cf" class="block-case-study-numbered-list ">

    
    <h2 id="h-"/>

    <ul class="c-list">
                    <li class="c-list__item"><span class="c-list__counter"> 1 </span>区间估计<br/></li>
                    <li class="c-list__item"><span class="c-list__counter"> 2 </span>假设检验</li>
            </ul>
</div>



<p>在本节中，我们将简要介绍它们。如果你想深入了解这些技术，我可以指向这个资源。</p>



<h4>区间概算</h4>



<p>区间估计的概念是用来建立一个变量预期落入的值的范围。置信区间就是一个很好的例子。</p>



<ul><li>置信区间代表实际值和观察到的估计值之间的预期距离的统计显著性。</li><li>某个参数p的N%置信区间是具有下界(LB)和上界(UB)的区间，该区间以概率N%包含p，使得LB&lt;=p&lt;=UB。</li><li>置信区间是显示某一统计量的不确定性的一种方式。</li></ul>



<h4>假设检验</h4>



<p>统计假设是一种陈述，它被认为是正确的，直到有实质性的证据证明是相反的。假设检验广泛应用于许多学科，以确定一个命题是真还是假。</p>



<p>拒绝一个假设意味着它是不真实的。然而，接受一个假设并不意味着它是真实的；这只能说明我们缺乏证据来证明事实并非如此。因此，假设检验是根据可接受的(零)和不可接受的(非零)结果(备选项)来定义的。</p>



<p>假设检验是一个多步骤的过程，包括以下内容:</p>



<ol><li><strong>零假设:</strong>这是假设为真的陈述。</li><li><strong>替代假设:</strong>这是如果无效假设被拒绝，将被接受的陈述。</li><li><strong>检验统计:</strong>检验确定观察到的数据是否落在零假设的期望值范围之外。数据的类型将决定使用哪种统计检验。</li><li><strong>显著性水平:</strong>显著性水平是研究者事先指定的一个数字，作为统计显著性的阈值。得到你准备容忍的假阳性结论的风险最高。</li><li><strong>临界值:</strong>临界区域包括那些导致拒绝零假设的检验统计值</li><li><strong>决策:</strong>根据检验统计量和临界值之间的关系，接受或拒绝零假设。</li></ol>



<h2 id="h-conclusion">结论</h2>



<p>我希望这篇文章能让您对探索性数据分析背后的一些核心概念有一个很好的了解。虽然有许多EDA技术，尤其是本文中描述的图形技术，但还有更多，使用哪种取决于数据集和您的个人需求。正如本文前面提到的，EDA就像一个侦探的工作，主要是主观的，所以您可以自由地提出尽可能多的关于您的数据的问题，并使用EDA找到它们的答案。</p>



<h3>参考</h3>



<ol><li><a href="https://web.archive.org/web/20221117203556/https://www.itl.nist.gov/div898/handbook/eda/eda.htm" target="_blank" rel="noreferrer noopener nofollow">EDA——信息技术实验室</a></li><li><a href="https://web.archive.org/web/20221117203556/https://r4ds.had.co.nz/exploratory-data-analysis.html" target="_blank" rel="noreferrer noopener nofollow"> R为数据科学</a></li><li><a href="https://web.archive.org/web/20221117203556/https://www.gs.washington.edu/academics/courses/akey/56008/lecture/lecture2.pdf" target="_blank" rel="noreferrer noopener nofollow">描述性统计和探索性数据分析</a></li></ol>
        </div>
        
    </div>    
</body>
</html>